Welcome back. In this lesson I want to cover EC2 Dedicated Hosts, a feature of EC2 which allows you to gain access to hosts dedicated for your use, which you can then use to run EC2 instances.
Now I want to keep it brief because for the exam you just need to know that the feature exists and it tends to have a fairly narrow use case in the real world.
So let's just cover the really high level points and exactly how it works architecturally. So let's jump in and get started.
An EC2 Dedicated Host, as the name suggests, is an EC2 Host which is allocated to you in its entirety. So allocated to your AWS account for you to use.
You pay for the host itself which is designed for a specific family of instances. For example, A1, C5, M5 and so on.
Because you're paying for the host, there are no charges for any instances which are running on the host.
The host has a capacity and you're paying for that capacity in its entirety so you don't pay for instances running within that capacity.
Now you can pay for a host in a number of ways. Either on demand, which is good for short term or uncertain requirements.
Or once you understand long term requirements and patterns of usage, you can purchase reservations with the same one or three year terms as the instances themselves.
And this uses the same payment method architecture so all upfront, partial upfront or no upfront.
The host hardware itself comes with a certain number of physical sockets and cores and this is important for two reasons.
Number one, it dictates how many instances can be run on that host.
And number two, software which is licensed based on physical sockets or cores can utilize this visibility of the hardware.
Some enterprise software is licensed based on the number of physical sockets or cores in the server.
Imagine if you're running some software on a small EC2 instance but you have to pay for the software licensing based on the total hardware in the host that that instance runs on.
Even though you can't use any of that extra hardware without paying for more instance fees.
With dedicated hosts, you pay for the entire host so you can license based on that host which is available and dedicated to you.
And then you can use instances on that host free of charge after you've paid the dedicated host fees.
So the important thing to realize is you pay for the host.
Once you've paid for that host, you don't have any extra EC2 instance charges.
You're covered for the consumption of the capacity on that host.
Now the default way that dedicated hosts work is that the hosts are designed for a specific family and size of instance.
So for example, an A1 dedicated host comes with one socket and 16 cores.
All but a few types of dedicated hosts are designed to operate with one specific size at a time.
So you can get an A1 host which can run 16 A1 medium instances or 8 large or 4 extra large or 2 2 extra large or 1 4 extra large.
All of these options consume the 16 cores available.
And all but a few types of dedicated hosts require you to set that in advance.
So they require you to set that one particular host can only run 8 large instances or 4 extra large or 2 2 extra large and you can't mix and match.
Newer types of dedicated hosts, so those running the Nitro virtualization platform, they offer more flexibility.
An example of this is an R5 dedicated host which offers 2 sockets and 48 cores.
Because this is Nitro based, you can use different sizes of instances at the same time up to your core limit of that dedicated host.
So one host might be running 1 12 extra large, 1 4 extra large and 4 2 extra larges, which consumes 48 cores of that dedicated host.
Another host might use a different configuration, maybe 4 4 extra larges and 4 2 extra larges, which also consumes 48 cores.
With Nitro based dedicated hosts, there's a lot more flexibility allowing a business to maximize the value of that host, especially if they have varying requirements for different sizes of instances.
Now this is a great link which I've included in the lesson text which details the different dedicated host options available.
So you've got different dedicated hosts for different families of instance, for example the A1 instance family.
This offers 1 physical socket and 16 physical cores and offers different configurations for different sizes of instances.
Now if you scroll all the way down it also gives an overview of some of the Nitro based dedicated hosts which support this mix and match capability.
So we've got the R5 dedicated host that I just talked about on the previous screen.
We've also got the C5 dedicated host and this gives 2 example scenarios.
In scenario 1 you've got 1 instance of a C5-9 extra large, 2 instances of C5-4 extra large and 1 instance of C5 extra large and that's a total cores consumed of 36.
There's also another scenario though where you've got 4 times 4 extra large, 1 times extra large and 2 times large.
Same core consumption but a different configuration of instances.
And again I'll make sure this is included in the lesson description.
It also gives the on-demand pricing for all of the different types of dedicated host.
Now there are some limitations that you do need to keep in mind for dedicated hosts.
The first one is AMI limits.
You can't use RHEL, SUSE Linux or Windows AMIs with dedicated hosts.
They are simply not supported.
You cannot use Amazon RDS instances.
Again they're not supported.
You can't utilize placement groups.
They're not supported on dedicated hosts.
And there's a lesson in this section which talks in depth about placement groups.
But in this context as it relates to dedicated hosts you cannot use placement groups with dedicated hosts.
It's not supported.
Now with dedicated hosts they can be shared with other accounts inside your organization
using the RAM product which is the Resource Access Manager.
It's a way that you can share certain AWS products and services between accounts.
We haven't covered it yet but we will do later in the course.
You're able to share dedicated hosts with other accounts in your organization
and other AWS accounts in your organization can then create instances on that host.
Those other accounts which have a dedicated host shared into them
can only see instances that they create on that dedicated host.
They can't see any other instances.
And you as the person who owns the dedicated host
you can see all of the instances running on that host.
But you can't control any of the instances running on your host
created by any accounts you share that host with.
So there is a separation. You can see all of the instances on your host.
You can only control the ones that you create.
And then other accounts who get that host shared with them
they can only see instances that they create.
So there's a nice security and visibility separation.
Now that's all of the theory that I wanted to cover around the topic of dedicated hosts.
You don't need to know anything else for the exam.
And if you do utilize dedicated hosts for any production usage in the real world
it is generally going to be around software licensing.
Generally using dedicated hosts there are restrictions.
Obviously they are specific to a family of instance.
So it gives you less customizability. It gives you less flexibility on sizing.
And you generally do it if you've got licensing issues that you need solved by this product.
In most cases, in most situations, it's not the approach you would take
if you just want to run EC2 instances.
But with that being said, go ahead, complete this video
and when you're ready I'll look forward to you joining me in the next one.
