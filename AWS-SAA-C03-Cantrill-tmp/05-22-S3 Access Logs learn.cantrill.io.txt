Welcome back, and in this lesson I want to quickly cover S3 access logs, which is a feature
available within S3 which you need to be aware of.
Now it's pretty simple to understand and so we're going to cover it pretty quickly.
So let's just jump in and get started.
The concept of access logging is simple enough.
We have in this example a source bucket and a target bucket.
Now the source bucket is what we want to gain visibility of, so we want to understand what
types of accesses are occurring to this source bucket, and the target bucket is where we
want the logging to go.
To use the feature we have to enable logging on the source bucket and this can be done
either using the console UI or using a put bucket logging operation using the CLI or
the API.
Now logging is managed by a system known as the S3 log delivery group which reads the
logging configuration which you set on the source bucket.
It's important at this point to understand that this is a best efforts process.
Either enabling this feature or making changes in configuration can take a few hours to take effect.
To use this feature you also need to give the log delivery group access to the target
bucket and this is done using an ACL on the target bucket.
You add the S3 log delivery group giving it write access and this is how it can deliver
the logs through to the target bucket.
Now logs are delivered as log files and each file consists of a number of log records and
these are newline delimited.
Each record consists of attributes such as date and time, the requester, the operations,
status codes, error codes and much more.
If you've seen an Apache log file then these are very similar.
Now each attribute within a record is space delimited so the records within a file are
newline delimited and the attributes within a record are space delimited.
Now a single target bucket can be used for many source buckets and you can separate these
easily using prefixes in the target bucket and this is something that's configured within
the logging configuration that's set on the source bucket.
Access logging provides detailed information about the requests which are made to a source
bucket and they're useful for many different applications.
Most commonly security functions and any access audits and it can also help you to understand
the access patterns of your customer base and understand any charges on your S3 bill.
If you do use this feature then you need to personally manage the live cycle or deletion
of any of the log files.
This is not built into the product so you need to manage either the movement of these
log files to different storage classes or deleting them after a certain amount of time.
Now that's it for the architecture.
If you're doing a course where you do need practical experience then I'll be following
this up with a demo.
If not then this theory is all that you'll need.
At this point though thanks for watching, go ahead and complete this video and when
you're ready I'll look forward to you joining me in the next.
