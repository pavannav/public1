Welcome back, and in this very brief demo lesson, I just want to demonstrate a very specific feature of EC2, known as termination protection.
Now, you don't have to follow along with this in your own environment, but if you are, you should still have the infrastructure created from the previous demo lesson.
And also, if you are following along, you need to be logged in as the IAM admin user to the general AWS account, so the management account of the organization, and have the Northern Virginia region selected.
Now, again, this is going to be very brief, so it's probably not worth doing in your own environment unless you really want to.
Now, what I want to demonstrate is termination protection, so I'm going to go ahead and move to the EC2 console, where I still have an EC2 instance running, created in the previous demo lesson.
Now, normally, if I right-click on this instance, I'm given the ability to stop the instance, to reboot the instance, or to terminate the instance, and this is assuming that the instance is currently in a running state.
Now, if I go to terminate instance, straight away I'm presented with a dialogue where I need to confirm that I want to terminate this instance.
But it's easy to imagine that somebody who's less experienced with AWS can go ahead and terminate that, and then click on terminate to confirm the process without giving it much thought, and that can result in data loss, which isn't ideal.
What you can do to add another layer of protection is to right-click on the instance, go to instance settings, and then change termination protection.
If you click that option, you get this dialogue where you can enable termination protection.
So I'm going to do that, I'm going to enable termination protection, because this is an essential website for animals for life, so I'm going to enable it and click on save.
And now that instance is protected against termination.
If I right-click on this instance now and go to terminate instance and then click on terminate, I get a dialogue that I'm unable to terminate the instance.
The instance and then the instance ID may not be terminated, modify its disable API termination instance attribute, and then try again.
So this instance is now protected against accidental termination.
Now this presents a number of advantages.
One, it protects against accidental termination, but it also adds a specific permission that is required in order to terminate an instance.
So you need the permission to disable this termination protection in addition to the permissions to be able to terminate an instance.
So you have the option of role separation.
You can either require people to have both the permissions to disable termination protection and permissions to terminate, or you can give those permissions to separate groups of people.
So you might have senior administrators who are the only ones allowed to remove this protection and junior or normal administrators who have the ability to terminate instances.
And that essentially establishes a process where a senior administrator is required to disable the protection before instances can be terminated.
It adds another approval step to this process and it can be really useful in environments which contain business critical EC2 instances.
So you might not have this for development and test environments, but for anything in production, this might be a standard feature.
If you're provisioning instances automatically using cloud formation or other forms of automation, this is something that you can enable in an automated way as instances are launching.
So this is a really useful feature to be aware of.
And for the SysOps exam, it's essential that you understand when and where you'd use this feature.
And for both the SysOps and the developer exams, you should pay attention to this, disable API termination.
You might be required to know which attribute needs to be modified in order to allow terminations.
So really for both of the exams, just make sure that you're aware of exactly how this process works end to end,
specifically the error message that you might get if this attribute is enabled and you attempt to terminate an instance.
At this point, though, that is everything that I wanted to cover about this feature.
So right click on the instance, go to instance settings, change the termination protection and disable it and then click on save.
One other feature which I want to introduce quickly, if we right click on the instance, go to instance settings and then change shutdown behavior,
you're able to specify whether an instance should move into a stop state when shut down or whether you want it to move into a terminate state.
Now logically the default is stop, but if you are running an environment where you don't want to consider the state of an instance to be valuable,
then potentially you might want it to terminate when it shuts down.
You might not want to have an account with lots of stopped instances, you might want the default behavior to be terminate.
But this is a relatively niche feature and in most cases you do want the shutdown behavior to be stop rather than terminate.
But it's here where you can change that default behavior.
Now at this point that is everything I wanted to cover. If you were following along with this in your own environment, you do need to clear up the infrastructure.
So click on the services drop down, move to cloud formation, select the status checks and protect stack and then click on delete and confirm that by clicking delete stack.
And once this stack finishes deleting, all of the infrastructure that's been used during this demo and the previous one will be cleared from the AWS account.
If you've just been watching you don't need to worry about any of this process, but at this point we're done with this demo lesson.
So go ahead, complete the video and once you're ready I'll look forward to you joining me in the next.
