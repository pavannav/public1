Welcome back, this is part two of this lesson. We're going to continue immediately from the end of part one, so let's get started.
Okay, so next let's look at reserved instances.
Reserved instances are really important. They form a part of most larger deployments within AWS.
Where on-demand is generally used for unknown or short-term usage which can't tolerate interruption,
reserved is for long-term consistent usage of EC2.
Now reservations are simple enough to understand.
They're a commitment made to AWS for the long-term consumption of EC2 resources.
So this is a normal instance, a T3 instance.
And if you utilize this instance, you'll build the normal per second rate
because you don't have any reservations purchased which apply to this instance.
Now if this instance is something that you know that you need long-term,
if it's a core part of your system, then one option is to purchase a reservation.
And I'll talk about what this exactly means in a second.
But the effect of a reservation would be to reduce the per second cost or remove it entirely,
depending on what type of reservation you purchase.
As long as the reservation matches the instance, it would apply to that instance,
either reducing or removing the per second price for that instance.
Now you need to be sure that you plan reservations appropriately,
because it's possible to purchase them and not use them.
In this case, if you have an unused reservation, you still pay for that reservation,
but the benefit is wasted.
Reservations can be purchased for a particular type of instance
and locked to an availability zone specifically or to a region.
Now if you lock a reservation to an availability zone,
it means that you can only benefit when launching instances into that availability zone,
but it also reserves capacity, which I'll talk about in another lesson.
If you purchase reservations for a region, it doesn't reserve capacity,
but it can benefit any instances which are launched into any availability zone in that region.
Now it's also possible that reservations can have a partial effect.
So in the event that you have a reservation for, say, a T3.large instance,
and you provision a T3 instance which is larger than this, it would have a partial effect.
So you'd get a discount of a partial component of that larger instance.
Reservations at a high level are where you commit to AWS that you will use resources for a length of time.
In return for that commitment, you get those resources cheaper.
The key thing to understand is that once you've committed, you pay,
whether you use those resources or not,
and so use them wisely for parts of your infrastructure which are always there and never change.
Now there are some choices in the way that you pay for reservations.
First, the term. You can commit to AWS either for one year or for three years.
The discounts that you receive if you commit for three years are greater than those for one year,
but so is the risk because over three years there's more chance that your requirements will change,
and so you have to be really considered when picking between these different term lengths.
Now there are also different payment structures.
The first is no upfront, and with this method you agree to a one or three year term
and simply pay a reduced per second fee,
and you pay this whether the instance is running or not.
It's nice and clean, it doesn't impact cash flow,
but it also offers the least discount of the three options that I'm showing in this lesson.
You've also got the ability to pay all upfront,
and this means the whole cost of the one or three year term in advance when you purchase the reservation.
If you do this, there's no per second fee for the instance,
and this method offers the greatest discount.
So if you decide to purchase a three year reservation and do so using all upfront,
this offers the greatest discount of all the reserved options within AWS.
Now there's also a middle ground, partial upfront,
where you pay a smaller lump sum in advance in exchange for a lower per second cost.
So this is a good middle ground.
You have lower per second costs than no upfront,
and less upfront costs than all upfront.
So it's an excellent compromise if you want good cost reductions,
but don't want to commit for cash flow reasons to paying for everything in advance.
So that's reserved, you purchase a commitment to use AWS resources,
and reserved instances are ideal for components of your infrastructure which have known usage,
require consistent access to compute, and you require this on a long term basis.
So you'd use this for any components of your infrastructure that you require the lowest cost,
require consistent usage, and can't tolerate any interruption.
Now there are some other elements to reservations that I want to talk about,
such as capacity reservations, conversion, and scheduled reservations,
but I'll be doing that in a dedicated lesson.
At this point, let's move on.
Next I want to talk about dedicated hosts.
As the name suggests, a dedicated host is an EC2 host which is allocated to you in its entirety.
You pay for the host itself, which is designed for a specific family of instances,
for example A, C, R, and so on.
Now these hosts come with all of the resources that you'd expect from a physical machine,
a physical EC2 host.
So a number of cores and CPUs, as well as memory, local storage, and network connectivity.
Now the key thing here is that you pay for the host.
Any instances which run on that host have no per second charge,
and you can launch various different sizes of instances on the host,
consuming all the way up to the complete resource capacity of that host.
Now logically you need to manage this capacity.
If the dedicated hosts run out of capacity,
then you can't launch any additional instances onto those hosts.
Now the reason that you would use dedicated hosts normally is that you might have software
which is licensed based on sockets or cores in a physical machine.
This type of licensing does still exist.
While it seems crazy, that doesn't change the fact that for certain applications
you're licensing it based on the amount of resources in a physical machine,
not the resources that are allocated to a virtual machine or an instance within AWS.
Dedicated hosts also have a feature called host affinity,
linking instances to certain EC2 hosts.
So if you stop and start the instance, it remains on the same host,
and this too can have licensing implications.
Now you also gain another benefit that only your instances will ever run on dedicated hosts,
but normally in real situations and in the exam,
the reason to use this purchase option is for the socket and core licensing requirements.
Now one last thing that I want to talk about in this lesson before we move on,
and that's dedicated instances, and I want to use this as an opportunity to summarize
a couple of aspects of these different purchase options.
Visually this is how EC2 hosts look using the various models.
On the left is the default or shared model, which on demand and reserved users,
so EC2 hosts are shared, so you will have some instances,
or the customers of AWS will have some instances,
and in addition there's also likely to be some unused capacity.
So with this model there's no real exposure to EC2 hosts,
your build per second, that's obviously depending on whether you use reservations,
but there's no capacity to manage, but you share EC2 hosts with other customers.
In 99% of cases that's okay, but there are some situations when it's not.
In situations when it's not you can also choose to use dedicated hosts,
now I've just talked about them, you pay for the host,
and so only your instances run on these hosts.
Any unused capacity is wasted, and you have to manage the capacity,
both in terms of the underutilization,
but you also need to be aware that because they're physical hosts,
they have a physical capacity, and so there's going to be a maximum number of instances
that you can launch on these dedicated hosts.
So keep that in mind because you have to monitor both resource underconsumption,
as well as the maximum capacity of the EC2 hosts.
Now the other option which I haven't discussed yet is dedicated instances,
and this is a middle ground.
With dedicated instances, your instances run on an EC2 host with other instances of yours,
and no other customers use the same hardware.
Now crucially, you don't pay for the host, nor do you share the host,
you have the host all to yourself.
So you launch instances that are allocated to a host, an AWS commit,
to not using any other instances from other customers on that same hardware.
Now there are some extra fees that you need to be aware of with this purchase option.
First you pay a one-off hourly fee for any regions where you're using dedicated instances,
and this is regardless of how many you're utilizing.
And then there's a fee for the dedicated instances themselves.
Now dedicated instances are common in sectors of the industry
where you have really strict requirements which mean that you can't share infrastructure.
So you can use this method to benefit from the features of EC2, safe in the knowledge
that you won't be sharing physical underlying hardware with other AWS customers.
So the default or shared model is used for on-demand, for spot, and for reserved instances.
Dedicated hosts offer a method where you can pay for the entire host,
so you pay a charge for the host, you don't incur any charges for any instances
which are launched onto that host, but you have to manage capacity.
Now dedicated hosts are generally used when you have strict licensing requirements,
and then a middle ground is dedicated instances where you have requirements not to share hardware,
but you don't want to manage the host itself.
So with dedicated instances you can pay a cost premium and always guarantee
that you will not share underlying hardware with any other AWS customers.
So these are all of the different purchase options that you'll need to be aware of for the exam.
For the exam you should focus on on-demand, reserved, and spot.
So make sure that you've watched the earlier parts of this lesson really carefully
and you understand the different types of use cases where you would use spot, on-demand, and reserved.
With that being said, that's all of the theory that I wanted to cover in this lesson,
so go ahead, finish the lesson, and then when you're ready, I'll look forward to you joining me in the next.
