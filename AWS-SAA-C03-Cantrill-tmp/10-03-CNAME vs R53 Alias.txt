Welcome back. In this video, I want to quickly step through a topic which confuses people who are new to DNS and Route 53,
and that's the difference between CNAMES and alias records.
Now I've seen exam questions which test your understanding of when to use one versus the other,
so let's quickly go through the key things which you need to know.
Now let's start by describing the problem that we have if we only use CNAMES.
So in DNS, an A record maps a name to an IP address, for example, the name Categram.io to the IP address 1.3.3.7.
By now, that should make sense.
A CNAME on the other hand maps a name to another name, so if you had the above A record for Categram.io,
then you could create a CNAME record for www.categram.io pointing at Categram.io.
It's a way to create another alternative name for something within DNS.
The problem is that you can't use a CNAME for the apex of a domain, also known as the naked domain.
So you couldn't have a CNAME record for Categram.io pointing at something else.
It just isn't supported within the DNS standard.
Now this is a problem because many AWS services such as Elastic Load Balancers,
they don't give you an IP address to use, they give you a DNS name.
And this means that if you only use CNAMES, pointing the naked Categram.io at an Elastic Load Balancer wouldn't be supported.
You could point www.categram.io at an Elastic Load Balancer because using a CNAME for a normal DNS record is fine.
But you can't use a CNAME for the domain apex, also known as the naked domain.
Now this is a problem which alias records fix.
So for anything that's not the naked domain, where you want to point a name at another name, CNAME records are fine.
They might not be optimal, as I'll talk about in a second, but they will work.
For the naked domain, known as the apex of a domain, if you need to point at another name such as Elastic Load Balancers, you can't use CNAMES.
But let's go through the solution, alias records.
An alias record generally maps a name onto an AWS resource.
Now it has other functions, but at this level, let's focus on the AWS resource part.
Alias records can be used for both the naked domain, known as the domain apex, or for normal records.
For normal records, such as www.categram.io, you could use CNAMES or alias records in most cases.
But for naked domains, known as the domain apex, you have to use alias records if you want to point at AWS resources.
For AWS resources, AWS try to encourage you to use alias records, and they do this by making it free for requests made where an alias record points at an AWS resource.
So generally, in most production situations and for the exam, default to picking alias records for anything in a domain where you're pointing at AWS resources.
Now an alias is actually a subtype. You can have an A record alias and a CNAME record alias, and this is confusing at first.
But the way I think about this is both of them are alias records, but you need to match the record type with the type of the record you're pointing at.
So take the example of an elastic load balancer. With an ELB, you're given an A record for the elastic load balancer.
It's a name which points at an IP address.
So you have to create an A record alias if you want to point at the DNS name provided by the elastic load balancer.
If the record that the resource provides is an A record, then you need to use an A record alias.
So you're going to use alias records when you're pointing at AWS services such as the API Gateway, CloudFront, Elastic Beanstalk,
Elastic Load Balancers, Global Accelerator and even S3 buckets, and you're going to experience this last one in a demo lesson which is coming up very soon.
Now it's going to make a lot more sense when you see it in action elsewhere in the course.
For now, I just want to make sure that you understand the theory of both the limitations of CNAME records and the benefits that alias records provide.
Now the alias is a type of record that's been implemented by AWS and it's outside of the usual DNS standard.
So it's something that in this form you can only use if Route 53 is hosting your domains.
Keep that in mind as I talk about more of the features of Route 53 as we move through this section of the course.
But at this point that's everything that I wanted to cover.
So go ahead, complete this video and when you're ready, I look forward to you joining me in the next.
