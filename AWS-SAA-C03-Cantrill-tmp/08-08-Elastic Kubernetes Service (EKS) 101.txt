Welcome back and in this video I want to talk at a very basic level about the Elastic Kubernetes Service known as EKS.
Now this is AWS's implementation of Kubernetes as a service.
If you haven't already done so, please make sure that you've watched my Kubernetes 101 video
because I'll be assuming that level of knowledge so I can focus more in this video about the EKS specific implementation.
Now this video is going to stay at a very high level and if required for the topic that you're studying
there are going to be additional deep dive videos and or demos on any of the relevant subject areas.
Now let's just jump in and get started straight away.
So EKS is an AWS managed implementation of Kubernetes.
That's to say AWS have taken the Kubernetes system and added it as a service within AWS.
It's the same Kubernetes that you'll see anywhere else just extended to work really well within AWS.
And that's the key point here.
Kubernetes is cloud agnostic.
So if you need containers but don't want to be locked into a specific vendor
or if you already have containers implemented maybe using Kubernetes then that's a reason to choose EKS.
Now EKS can be run in different ways.
It can run on AWS itself.
It can run on AWS outposts which conceptually is like running a tiny version of AWS on premises.
It can run using EKS anywhere which basically allows you to create EKS clusters on premises or anywhere else.
And AWS even release the EKS product as open source via the EKS distro.
Generally though and certainly for this video you can assume that I mean the normal AWS deployment mode of EKS.
So running EKS within AWS as a product.
So the Kubernetes control plane is managed by AWS and scales based on load and also runs across multiple availability zones.
And the product integrates with other AWS services in the way that you would expect an AWS product to do so.
So it can use the Elastic Container Registry or ECR.
It uses elastic load balancers anywhere where Kubernetes needs load balancer functionality.
IAM is integrated for security and it also uses VPCs for networking.
EKS clusters mean the EKS control plane.
So that's the bit that's managed by AWS as well as the EKS nodes.
And I'll talk more about those in a second.
ETCD, remember this is the key value store which Kubernetes uses.
This is also managed by AWS and distributed across multiple availability zones.
Now in terms of nodes you have a few different ways that these can be handled.
You can do self-managed nodes running in a group so these are EC2 instances which you manage and you're billed for based on normal EC2 pricing.
Then we have managed node groups which are still EC2 but this is where the product handles the provisioning and lifecycle management.
Finally you can run pods on Fargate.
With Fargate you don't have to worry about provisioning, configuring or scaling groups of instances.
You also don't need to choose the instance type or decide when to scale or optimize cluster packing.
Instead you define Fargate profiles which mean that pods can start on Fargate.
And in general this is similar to ECS Fargate which I've already covered elsewhere.
Now one super important thing to keep in mind, deciding between self-managed, managed node groups or Fargate is based on your requirements.
So if you need Windows Pods, GPU capability, Inferentia, Bottle Rocket, Outposts or Local Zones then you need to check the node type that you're going to use and make sure it's capable of each of these features.
I've included a link attached to this lesson with an up-to-date list of capabilities but please be really careful on this one because I've seen it negatively impact projects.
Now lastly remember from the Kubernetes 101 video where I mentioned storage by default is ephemeral.
Well for persistent storage EKS can use EBS, EFS and FSX as storage providers and these can be used to provide persistent storage when required for the product.
Now that's everything about the key elements of the EKS product.
Let's quickly take a look visually at how a simple EKS architecture might look.
Conceptually when you think of an EKS deployment you're going to have two VPCs.
The first is an AWS managed VPC and it's here where the EKS control plane will run from across multiple availability zones.
The second VPC is a customer managed VPC, in this case the Animals for Life VPC.
Now if you're going to be using EC2 worker nodes then these will be deployed into the customer VPC.
Now normally the control plane will communicate with these worker nodes via elastic network interfaces which are injected into the customer VPC.
So the cubelet service running on the worker nodes connects to the control plane either using these ENIs which are injected into the VPC but it can also use a public control plane endpoint.
Any administration via the control plane can also be done using this public endpoint.
And any consumption of the EKS services is via ingress configurations which start from the customer VPC.
Now at a high level that's everything that I wanted to cover about the EKS product.
Once again if you're studying a course which needs any further detail there will be additional theory and demo lessons.
But at this point that's everything I want you to do in this video so go ahead and complete the video and when you're ready I'll look forward to you joining me in the next.
