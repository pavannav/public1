Welcome back. In this video, I want to talk about Route 53 public hosted zones.
There are two types of DNS zones in Route 53, public and private.
To start with, let's cover off some general facts, and then we can talk specifically about public hosted zones.
A hosted zone is a DNS database for a given section of the global DNS database,
specifically for a domain such as animalsforlife.org.
Route 53 is a globally resilient service.
These nameservers are distributed globally and have the same dataset,
so whole regions can be affected by outages, and Route 53 will still function.
Hosted zones are created automatically when you register a domain using Route 53,
and you saw that earlier in the course when I registered the animalsforlife.org domain.
They can also be created separately if you want to register a domain elsewhere and use Route 53 to host it.
There's a monthly fee to host each hosted zone, and a fee for the queries made against that hosted zone.
A zone where the public or private hosts DNS records,
examples of these being A records or the IP version 6 equivalent,
MX records, NS records, and text records, and I've covered these at an introductory level earlier in the course.
In summary, hosted zones are databases which are referenced via delegation using nameserver records.
A hosted zone, when referenced in this way, is authoritative for a domain, such as animalsforlife.org.
So when you register a domain, nameserver records for that domain are entered into the top-level domain zone,
and these point at your nameservers, and then your nameservers and the zone that they host become authoritative for that domain.
Now, a public-hosted zone is a DNS database, so a zone file which is hosted by Route 53 on public nameservers.
And this means it's accessible from the public internet and within VPCs using the Route 53 resolver.
Architecturally, when you create a public-hosted zone, Route 53 allocates four public nameservers,
and it's on those nameservers that the zone file is hosted.
And to integrate it with the public DNS system,
you change the nameserver records for that domain to point at those four Route 53 nameservers.
Inside a public-hosted zone, you create resource records which are the actual items of data which DNS uses.
You can, and I'll cover this in an upcoming video, use Route 53 to host zone files for externally registered domains.
So, for example, you can use Hover or GoDaddy to register a domain.
You can create the public-hosted zone in Route 53, get the four nameservers which are allocated to that hosted zone,
and then via the Hover or GoDaddy interface, you can add those nameservers into the DNS system for your domain.
And I'll cover how this works in detail in a future video.
Visually, this is how a public-hosted zone looks and functions.
We start by creating a public-hosted zone, and for this example, it's animalsforlife.org.
Creating this allocates four Route 53 nameservers for this zone,
and those nameservers are all accessible from the public internet.
They're also accessible from AWS VPCs using the Route 53 resolver,
which, assuming DNS is enabled for the VPC, is directly accessible from an internal IP address of that VPC.
Inside this hosted zone, we can create some resource records.
In this case, a WWW record, two MX records for email, and a text record.
Within the VPC, the access method is direct, the VPC resolver using the VPC plus two address,
and this is accessible from any instances inside the VPC which use this as their DNS resolver.
So they can query the hosted zone as they can any public DNS zone using the Route 53 resolver.
From a public DNS perspective, the architecture is the same in that the same zone file is used,
but the mechanics are slightly different.
DNS starts with the DNS root servers, and these are the first servers queried by our user's resolver server.
So Bob is using a laptop talking to his ISP DNS resolver server, which queries the root servers.
The root servers have information on the .org top-level domain,
and so the ISP resolver server can then query the .org servers.
These servers host the .org zone file, and this zone file has an entry for animalsforlife.org,
which has four name servers, and these all point at the Route 53 public name servers
for the public hosted zone for animals for life.
This process is called walking the tree,
and this is how any public internet host can access the records inside a public hosted zone using DNS.
And that's how public hosted zones work.
They're just a zone file which is hosted on four name servers provided by Route 53.
This public hosted zone can be accessed from the public internet,
or any VPCs which are configured to allow DNS resolution.
There's a monthly cost for hosting this public hosted zone,
and a tiny charge for any queries made against it.
Almost nothing in the grand scheme of things,
but for larger volume sites, it's something to keep in mind.
So that's public hosted zones.
That's everything I wanted to cover in this video on the theory side of things.
So go ahead and complete this video, and then when you're ready,
I look forward to you joining me in the next.
