Welcome back, and in this lesson I want to cover two important EC2 optimization topics.
Enhanced networking and EBS optimized instances.
Both of these are important on their own.
Both provide massive benefits to the way EC2 performs,
and they support other performance features within EC2 such as placement groups.
As a solutions architect, understanding their architecture and benefits is essential.
So let's get started.
Now let's start with enhanced networking.
Enhanced networking is a feature which is designed to improve the overall performance of EC2 networking.
It's a feature which is required for any high-end performance features such as cluster placement groups.
Enhanced networking uses a technique called SRIOV, or single-root IO virtualization,
and I've mentioned this earlier in the course.
At a high level, it makes it so that a physical network interface inside an EC2 host is aware of virtualization.
Without enhanced networking, this is how networking looks on an EC2 host architecturally.
In this example, we have two EC2 instances, each of them using one virtual network interface,
and both of these virtual network interfaces talk back to the EC2 host,
and each of them use the host's single physical network interface.
The crucial thing to understand here is that the physical network interface card isn't aware of virtualization,
and so the host has to sit in the middle, controlling which instance has access to the physical card at one time.
It's a process taking place in software, so it's slower and it consumes a lot of host CPU.
When the host is under heavy load, so CPU or IO, it can cause drops in performance, spikes in latency,
and changes in bandwidth. It's not an efficient system.
Enhanced networking, or SRIOV, changes things.
Using this model, the host has network interface cards which are aware of virtualization.
Instead of presenting themselves as single physical network interface cards which the host needs to manage,
it offers what you can think of as logical cards, multiple logical cards per physical card.
Each instance is given exclusive access to one of these logical cards,
and it sends data to this the same as it would do if it did have its own dedicated physical card.
The physical network interface card handles this process end-to-end,
without consuming mass amounts of host CPU.
And this means a few things which matter to us as solutions architects.
First, in general, it allows for higher IO across all instances on the host,
and lower host CPU as a result, because the host CPU doesn't have the same level of involvement
as when no enhanced networking is used.
What this translates into directly is more bandwidth.
It allows for much faster networking speeds because it can scale and it doesn't impact the host CPU.
Also, because the process occurs directly between the virtual interface that the instance has
and the logical interface that the physical card offers, you can achieve higher packets per second, or PPS.
And this is great for applications which rely on networking performance,
specifically those which need to shift lots of small packets around a small, isolated network.
And lastly, because the host CPU isn't really involved,
because it's offloaded to the physical network interface card,
you get low latency, and perhaps more importantly, consistent low latency.
Enhanced networking is a feature which is either enabled by default,
or available for no charge on most modern EC2 instance types.
There's a lot of detail in making sure that you have it enabled,
but for the solutions architect stream, none of that is important.
As always though, I'll include some links attached to the lesson if you do want to know how to implement it operationally.
OK, so that's enhanced networking. Let's move on to EBS optimized instances.
Whether an instance is EBS optimized or not depends on an option that's set on a per instance basis.
It's either on or it's off.
To understand what it does, it's useful to appreciate the context.
What we know already is that EBS is block storage for EC2, which is delivered over the network.
Historically, networking on EC2 instances was actually shared,
with the same network stack being used for both data networking and EBS storage networking,
and this resulted in contention and limited performance for both types of networking.
Simply put, an instance being EBS optimized means that some stack optimizations have taken place,
and dedicated capacity has been provided for that instance for EBS's usage.
It means that faster speeds are possible with EBS,
and the storage side of things doesn't impact the data performance and vice versa.
Now on most instances that you'll use at this point in time,
it's supported and enabled by default at no extra charge,
disabling it has no effect because the hardware now comes with the capability built in.
On some older instances, it's supported, but enabling it costs extra.
EBS optimization is something that's required on instance types and sizes
which offer higher levels of performance,
so things which offer high levels of throughput and IOPS,
especially when using the GP2 and IO1 volume types,
which promise low and consistent latency as well as high input-output operations per second.
So that's EBS optimization, it's nothing complex,
it essentially just means adding dedicated capacity for storage networking to an EC2 instance,
and at this point in time, it's generally enabled and comes with all modern types of instances.
So it's something you don't have to worry about, but you do need to know that it exists.
Now that's the theory that I wanted to cover, I wanted to keep it brief,
there's a lot more involved in using both of these and understanding the effects that they can have,
but this is an architecture lesson.
For this stream, you just need to know that both features exist,
and what they enable you to do, what features they provide at a high level.
So thanks for watching, go ahead, finish this video,
and when you're ready, you can join me in the next.
