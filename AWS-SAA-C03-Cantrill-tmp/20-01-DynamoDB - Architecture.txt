Welcome back. Over the next few lessons I'm going to be stepping through the architecture, features and important considerations of the Amazon DynamoDB product.
DynamoDB is a NoSQL wide column database as a service product within AWS.
It's the database product which tends to be used for serverless or web scale traditional applications inside AWS and for the exam it's essential that you understand it fully.
Now we have a lot to cover so let's jump in and get started.
So DynamoDB is a NoSQL database as a service product. It's a public service which means it's accessible anywhere with access to the public endpoints of DynamoDB.
And this means the public internet or a VPC with either an internet gateway or a gateway VPC endpoint.
DynamoDB is capable of handling simple key value data or data with a structure like the DocumentDB model.
Now strictly speaking DynamoDB is a wide column key value database.
And being a database as a service product means that you have no self-managed servers or infrastructure to worry about.
It's not like RDS or Aurora or Aurora Serverless which are database server as a service products.
With DynamoDB you actually get the database itself delivered as a service.
And this reduces the complexity and admin overhead significantly of providing a data store for your applications.
Now DynamoDB also supports a range of scaling options.
You can take full control and choose provisioned capacity and then either manually control performance or allow the system to adjust performance automatically.
Or you can use on-demand mode which is a true as a service performance model.
So essentially set and forget.
Now DynamoDB is highly resilient either across multiple availability zones in a region or optionally DynamoDB allows for global resilience.
So a table can be configured to be globally resilient but that is an optional extra.
Now within DynamoDB data is replicated across multiple storage nodes by default and so you don't need to explicitly handle it like you do with RDS.
Now DynamoDB is really really fast, it's backed by SSD and so it provides single digit millisecond access to your data.
It also handles backups, it allows for point in time recovery and any data is encrypted at rest.
It even supports event driven integration allowing you to generate events and configure actions when data within a DynamoDB table changes.
So now let's talk about tables within DynamoDB.
Tables are actually the base entity inside the DynamoDB product.
If I'm being precise which by now you know that I like doing, DynamoDB shouldn't really be described as a database as a service product.
It's more like a database table as a service product.
A table within DynamoDB is a grouping of items which all share the same primary key.
Items within a table are how you manage your data within that table.
So think of an item like a row in a traditional database product.
A table can have an infinite number of items within it, there are no limits to the number of items within a table.
Now when you create a table within DynamoDB you have to pick its primary key.
Now a primary key can be one of two types.
It can either be a simple primary key which is just the partition key known as a PK or it can be a composite primary key which is a combination of the partition key and the sort key which is known as the SK.
So every item in the table has to use the same primary key and it has to have a unique value for that primary key.
If the primary key is a composite key then the combination of the two parts, the PK and the SK, need to be unique in that table.
Now that's actually the only restriction on data that an item has, the unique values for the primary key.
Items can have other bits of data aside from the primary key called attributes.
But every item can be different as long as it has the same primary key then it can have no attributes, all attributes, a mixture of attributes or completely different attributes.
An item itself can be a maximum of 400 kilobytes in size and this includes the primary key, the attribute values and the attribute names all totaled together.
With DynamoDB you can configure a table with provisioned capacity or on-demand capacity.
Now capacity is a pretty odd term. When you think about capacity you probably think about space but in DynamoDB capacity means speed.
Adding capacity means adding more speed, more performance.
Now if you choose to use the on-demand capacity model it means you don't have to worry about it, you don't have to set explicit values for capacity on a table.
You just pay for the operations against the DynamoDB table. There's a cost per operation.
If you choose provisioned capacity then it means you need to explicitly set the capacity values on a per table basis.
And there are two terms that you need to understand. The first is write capacity units or WCU and the second is read capacity units known as RCU.
One WCU set on a table means that you can write one kilobyte of data per second to that table.
And one RCU or read capacity unit when set on a table means that you can read 4 kilobytes per second from that table.
Most operations have a minimum consumption so one read of say 100 bytes will consume one RCU as a minimum.
And I'll be talking more about capacity control later, I'm just introducing the terms for now.
Now let's move on and I want to talk about backups inside DynamoDB.
There are two types of backups available in the product. First is on-demand backups and these are similar to how manual RDS snapshots function.
So they're a full backup of the table retained until you manually remove that backup.
These on-demand backups can be used to restore data and configuration.
Either to the same region or cross region, so if you want to migrate data to another region this is one option.
You can use a backup to restore a table with or without indexes and you also have the ability to adjust encryption settings as part of the restore.
The key thing to remember is that you're responsible for performing the backup and removing the older backups as needed when they're no longer required.
But DynamoDB does come with another option and this method is called point in time recovery.
It's something that you need to enable on a table by table basis and it's disabled by default.
When you enable the feature on a table it results in a continuous stream of backups, a record of all the changes to a table over a 35 day window.
And from that 35 day window you can restore to a new table with a one second granularity.
So when you enable this option you can create a new table by restoring this backup from any one second interval in that entire 35 day window.
So it's a really powerful feature but you do need to enable it explicitly on a per table basis.
Now before we finish up this lesson there are some considerations that you need to be aware of and some of these are really important for the exam.
So if you see any questions in the exam which mention NoSQL then you should probably preference DynamoDB.
So if you see NoSQL mentioned in the exam and DynamoDB is one of the options to answer that question with unless you've got a strong reason to answer otherwise you should probably default to DynamoDB.
On the other hand if you see any question which mentions relational data or a relational database then the answer is likely to not be DynamoDB.
DynamoDB is not suited to relational data, it should not be used to implement any form of relational database system.
It's simply not designed for that and it doesn't include the required features.
If you see any mention of key value mentioned in any exam questions and DynamoDB is one possible answer then again you should probably default to that answer unless you've got a strong RPI.
You don't have SQL or the structured query language when using DynamoDB.
If you see any questions or answers which mention SQL or the structured query language then that probably excludes DynamoDB as being a correct answer.
Now the billing for DynamoDB is based around a table, it's based on the RCU and WCU values that you set on a table as well as the amount of storage required for that table and any additional features that you enable on that table.
So it's a true on-demand database product, there's no infrastructure costs for running DynamoDB, no base costs, you essentially pay for only the resources that you consume, either storage, operations or capacity requirements that you specify on a table.
And in addition you are able to purchase reserved allocations for capacity so if you do know that you have a requirement for long term capacity on a DynamoDB table then you can purchase reservations so in return for a longer term commitment you get a cheaper rate.
But with that being said that's everything I wanted to cover in this lesson so go ahead, complete this video and then when you're ready I'll look forward to you joining me in the next.
