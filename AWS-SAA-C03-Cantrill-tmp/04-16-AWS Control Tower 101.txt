Welcome back and in this video I want to talk about AWS Control Tower.
This is a product which is becoming required knowledge
if you need to use AWS in the real world and because of this
it's starting to feature more and more in all of the AWS exams.
Now I want this to be a lesson applicable to all of the
AWS study paths so think of this as a foundational lesson
and if required for the course that you're studying I might be going
into additional detail. Now we do have a lot to cover so let's jump in
and get started. At a high level Control Tower has a simple
but wide-ranging job and that's to allow the quick and easy setup
of multi-account environments. Now you might be asking
doesn't AWS organizations already do that?
Well kind of. Control Tower actually
orchestrates other AWS services to provide
the functionality that it does and one of those services
is AWS organizations. But it goes beyond that
Control Tower uses organizations
IAM Identity Center which is the product formerly known
as AWS SSO. It also uses CloudFormation
AWS Config and much more. You can think of Control Tower
as another evolution of AWS organizations
adding significantly more features intelligence
and automation. Now there are a few different parts of Control Tower
which you need to understand and it's worth really focusing
on understanding the distinction now because we're going to be building on this later.
First we've got the landing zone and simply put
this is the multi-account environment part of Control Tower
this is what most people will be interacting with
when they think of Control Tower. Think of this like
AWS organizations only with superpowers
it provides via other AWS services
single sign-on and ID federation
so you can use a single login across all of your AWS accounts
and even share this with your existing corporate identity store
and this is provided using the IAM
Identity Center again the service formerly known
as AWS SSO. It also provides centralized
logging and auditing and this uses a combination of CloudWatch
CloudTrail, AWS Config and SNS.
Everything else in the Control Tower product surrounds this landing zone
and I'll show you how this looks later in this lesson.
Control Tower also provides guardrails
again more detail on this is coming up soon
but these are designed to either detect or mandate
rules and standards across all AWS accounts within the landing zone
you also have the account factory which provides really
cool automation for account creation
and adds features to standardize the creation
of those accounts. Now this goes well beyond what AWS
organizations can do on its own and I'll show you how this works
over the rest of this lesson and if applicable for the path that you're
studying
there will be a demo coming up elsewhere in the course
now finally there's a dashboard which offers
a single page oversight of the entire organization
so at a high level that's what you get with Control Tower
now things always make more sense visually
so let's step through this high level architecture
visually and I hope this will add a little bit more
context. We start with Control Tower itself which like
AWS organizations is something you create
from within an AWS account and this account becomes
the management account at the landing zone. At this topmost level within the
management account we have Control Tower itself which
orchestrates everything we have AWS organizations
and as you've already experienced this provides the multi
account structure so organizational units
and service control policies and then we have single sign-on provided by the
IAM Identity Center which historically was known
as AWS SSO. Now this allows for as the name suggests single sign-on which means
we can use the same set
of internal or federated identities to access
everything in the landing zone that we have permissions to
now this works in much the same way as AWS SSO worked but it's all set up
and orchestrated by Control Tower. When Control Tower is first set up
it generally creates two organizational units
the foundational organizational unit which by default
is called security and a custom organizational unit
which by default is named sandbox
inside the foundational or security
organizational unit Control Tower creates two
AWS accounts the audit account and the log
archive account. The log archive account
is for users that need access to all logging
information for all of your enrolled accounts within the landing zone
examples of things used within this account are
AWS config and cloud trail logs so they're stored within this account
so that they're isolated. You have to explicitly grant access to this account
and it offers a secure read only archive account
for logging. Now the audit account is for your users which need access to the
audit information made available by Control Tower
you can also use this account as a location for any
third-party tools to perform auditing
of your environment. So it's in this account that you might use
SNS for notifications of changes to governance
and security policies and cloud watch for monitoring
landing zone wide metrics. Now it's at this point where Control Tower becomes
really
awesome because we have the concept of an account factory
think of this as a team of robots who are creating
modifying or deleting AWS accounts
as your business needs them and this can be interacted with
both from the Control Tower console or via
the service catalog. So within the custom
organizational unit account factory will create
AWS accounts in a fully automated way
as many of them as you need. Now the configuration of these accounts
is handled by account factory so from an account
and networking perspective you have a baseline
or cookie cutter configurations applied
and this ensures a consistent configuration
across all AWS accounts within your landing zone
now Control Tower utilizes cloud formation
under the covers to implement much of this automation
so expect to see stacks created by the product within your environment
and Control Tower uses both AWS config
and service control policies to implement
account guardrails and these detect
drifts away from governance standards or prevent those drifts occurring
in the first place. So at a high level this is how Control Tower looks
now the product can scale from simple to super complex
this is a product which you need to use in order to really
understand and depending on the course that you're studying
you might have the opportunity to get some hands on later in the course
if not don't worry that means that you only need this high-level understanding
for the exam
now let's move on and look at the various parts
of Control Tower in a little bit more detail so let's quickly
step through the main points at the landing zone
well it's a feature designed to allow anyone
to implement a well architected multi
account environment and it has the concept of a home region
which is the region that you initially deploy
the product into so for example US East one
you can explicitly allow or deny the usage
of other AWS regions but the home region the one that you deploy
into is always available. Now the landing zone is built
using AWS organizations, AWS config
cloud formation and much more. Essentially Control Tower
is a product which brings the features of lots of different
AWS products together and orchestrates them
I've mentioned that there's a concept of the foundational
OU by default called the security OU
and within this log archive and audit
AWS accounts and these are used mainly for security
and auditing purposes. You've also got the sandbox
OU which is generally used for testing and less
rigid security situations. Now you can create
other organizational units and accounts
and for a real-world deployment of Control Tower you're generally going to have
lots of different organizational units potentially
even nested ones to implement a structure
which works for your organization. Now landing zone
utilizes the IAM Identity Center
again formally known as AWS SSO
to provide SSO or single sign-on services
across multiple AWS accounts within the landing zone
and it's also capable of ID federation
and ID federation simply means that you can use your existing
identity stores to access all of these different
AWS accounts. Now the landing zone
provides monitoring and notifications using CloudWatch
and SNS and you can also allow end users
to provision new AWS accounts within the landing zone
using service catalog. So this is the landing zone
at a high level. Let's next talk about guardrails
well guardrails are essentially rules for multi
account governance. Guardrails come in three different types
mandatory, strongly recommended or elective
so mandatory ones are always applied, strongly recommended
are obviously strongly recommended by AWS
and elective ones can be used to implement fairly
niche requirements and these are completely optional
now guardrails themselves function in two
different ways we have preventative and these
stop you doing things within your AWS accounts
in your landing zone and these are implemented using
service control policies which are part of the
AWS organizations product. Now these guardrails
are either enforced or not enabled so you can either enforce them
or not and if they're enforced it simply means
that any actions defined by that guardrail
are prevented from occurring within any of your
AWS accounts. Now an example of this might be to allow
or deny usage of AWS regions
or to disallow bucket policy changes
within accounts inside your landing zone
the second functional type of guardrail is detective
and you can think of this as a compliance check this uses
AWS config rules and allows you to check
that the configuration of a given thing within
an AWS account matches what you define
as best practice. Now these type of guardrails
are either clear in violation or not enabled
and an example of this would be a detective guardrail to check
whether cloud trail is enabled within an AWS account
or whether any EC2 instances have public IP version 4 addresses
associated with those instances. Now the important distinction to understand here
is that preventative guardrails will stop things occurring
and detective guardrails will only identify those things
so guardrails are a really important security
and governance construct within the control tower product
lastly I want to talk about the account factory
itself this is essentially a feature which allows
automated account provisioning and this can be done
by either cloud administrators or end users
with appropriate permissions and this automated provisioning
includes the application of guardrails so any guardrails which
defined can be automatically applied to these
automatically provisioned AWS accounts
now because these accounts can be provisioned by end users so think of
these
as members of your organization then either
these members of your organization or anyone
that you define can be given admin permissions
on an AWS account which is automatically provisioned
so this allows you to have a truly self-service
automatic process for provisioning
AWS accounts so you can allow any member of your organization
within tightly controlled parameters to be able
to provision accounts for any purpose which you define
as okay and that person will be given
admin rights over that AWS account now these can be long-running accounts
or short-term accounts these accounts are
also configured with standard account
and network configuration so if you have
any organizational policies for how networking
or any account settings are configured these automatically provisioned accounts
will come
with this configuration and this includes things like the IP addressing used by
VPCs within the accounts which could be
automatically configured to avoid things like
addressing overlap and this is really important when you're provisioning
accounts
the account factory allows accounts to be closed
or repurposed and this whole process can be tightly integrated
with the businesses SDLC or software development lifecycle
so as well as doing this from the console UI
the control tower product and account factory can be
integrated using API's into any SDLC processes that you have
within your organization so if you need accounts to be provisioned
as part of a certain stage of application development
or you want accounts to be provisioned as part of maybe client demos
or software testing then you can do this using
the account factory feature now at this point that is everything
I wanted to cover at this high level about the control tower
now if you need practical experience of control tower
for the course that you're studying there will be a demo lesson coming up
elsewhere in the course which gives you that practical experience don't be
concerned
if this is the only lesson that there is or if there's this lesson plus
additional deep dive theory
I'll make sure for whatever course you're studying you have
enough exposure to control tower with that being said though that
is the end at this high level video so go ahead and complete the video
and when you're ready I look forward to you joining me in the next
