Welcome back, in this video I want to talk about multi-value routing, which is another
routing policy available within Route 53.
So let's jump in and get started.
Multi-value routing in many ways is like a mixture between simple and failover, taking
the benefits of each and merging them into one routing policy.
With multi-value routing we start with a hosted zone, and with multi-value routing you can
actually create many records all with the same name.
In this case we have three WWW records, and each of those records in this example is an
A record, which maps onto an IP address.
Each of the records when using this routing type can have an associated health check,
and when queried up to eight healthy records are returned to the client.
If you have more than eight records, then eight are selected at random.
Now at this point the client picks one of those values and uses it to connect to the
resource.
Because each of the records is health checked, any of the records which fail the check, such
as the bottom record in this example, won't be returned to the client and won't be selected
by the client when connecting to resources.
So multi-value routing, it aims to improve availability by allowing a more active, active
approach to DNS.
You can use it if you have multiple resources which can all service requests and you want
to select one at random.
Now it's not a substitute for a load balancer which handles the actual connection process
from a network perspective, but the ability to return multiple health checkable IP addresses
is a way to use DNS to improve availability of an application.
So simple routing has no health checks and is generally used for a single resource such
as a web server.
Failover is used for active backup architectures, commonly with an S3 bucket as a backup, whereas
multi-value is used when you have many resources which can all service requests and you want
them all health checked and then returned at random.
So any healthy records will be returned to the client.
If you have more than eight, they'll be returned randomly.
OK so that's everything for this type of routing policy.
Go ahead and complete the video when you're ready and I'll look forward to you joining
me in the next video.
