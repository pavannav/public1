Welcome back to part 2 of this custom VPC lesson, and in this part we need to be at the AWS console
because we're going to implement together the first part of the Animals for Life custom VPC.
So you need to follow along with this in your own AWS environment.
So the demo part of this lesson will be pretty brief.
All you need to make sure is that you're logged in to the management account of the organization
as the IAM admin user, and you've got your region set to Northern Virginia.
Once you've done that, move across to the VPC console, select your VPCs, and click on Create VPC.
Now from here, you can either create the VPC only, or you can create the VPC together with other resources.
So if we click this option, VPC and more, you'll be able to see that there's a wizard
allowing you to create the VPC and many of the associated infrastructure components.
Now depending on when you access this lesson, it might influence which of these options is the default.
We're going to be moving through this process step by step, and so we're going to choose VPC only.
We're going to create the VPC first, and then in follow-up demo lessons,
we're going to create all of the different components within the VPC.
Now you don't need to specify all that many options when you create a VPC.
You just need to give it a name, so we should call ours A4L, so Animals for Life,
but abbreviated, and then a hyphen, and then VPC1.
And if you can go ahead and use the same name for the one that you created, it'll just keep things consistent.
For the CIDR range we use, pick 10.16.0.0.16.
So that's the IP address range that we've got allocated to the first VPC in this account in this region,
and that's in the IP plan document.
Now this is where you set the tenancy.
So if you recall from earlier in this lesson, you've got default and dedicated,
and unless you have a specific reason to do otherwise, make sure it is set to default, which is also the default.
So make sure it's set to default for tenancy.
And then select Amazon provided IP version 6 CIDR block to make sure that this VPC is enabled for IP version 6.
We're going to leave everything else as default, so we'll leave it set to IPv4 CIDR manual input.
We're not going to change the network border group.
Everything else will stay the same, so we can just scroll down to the bottom and create the VPC.
Now every VPC comes with a unique identifier for that VPC.
That's the VPC ID.
Now by default, because this is a custom VPC, it will not have any subnets inside it.
We need to create those manually, and I'll step through that in the next set of lessons.
What I do want you to do though, just to make sure we don't have any future problems,
is to select the VPC and go to actions, and then edit VPC settings,
and then make sure there's a checkbox for both enable DNS resolution,
which for custom VPCs is normally enabled by default, and enable DNS hostnames.
Now this is normally disabled by default for custom VPCs, and you need to make sure that you enable it.
So both of these options need to be enabled, and once you've done that, you can scroll down to the bottom and click on save.
And that'll just make sure that any resources that we create in this custom VPC,
if they have public IP addresses, they'll also be given public DNS names.
That just makes things a lot easier as we move forward in the course.
Now that is all of the configuration that I wanted us to do in this brief demo component of this lesson.
I just want to draw your attention to the fact that we can see the IP version 4 sider that we've set, so 10.16.0.0.16.
We can also see that we've got an IP version 6 sider.
It's a slash 56 network, and it's been allocated by AWS because we enabled IP version 6 support.
Now your IP version 6 sider will be different than mine.
It is a uniquely allocated range, so don't be concerned if it looks slightly different.
Now I want to keep this lesson brief, because in the next set of lessons I'm going to be discussing VPC subnets
and how to populate this VPC with the multi-tier structure that I've talked about so far.
So the end result of this lesson is that we've just got a VPC created using the IP version 4 sider from the IP plan
and an IP version 6 sider allocated by AWS.
Everything else is default, apart from the fact that we did enable DNS host names.
So that's a setting we need to explicitly enable.
Everything else is default, and that's exactly how I want to leave the demo component of this lesson.
Now at this point, really well done. So far you've created the VPC with this layout.
It's a VPC with this name using this IP address range, so 10.16.0.0.16.
We've allocated an IP version 6 range, and it's in US East-1, which is Northern Virginia.
Over the remainder of this section, we'll be adding to this VPC.
We'll be configuring a structure, creating subnets, and allocating additional capability
by creating an internet gateway, creating routes, configuring those routes,
and enabling this VPC to be used for production activities.
But I'm going to keep it simple and add to it in each lesson during this section of the course.
But at this point, that is the end of the lesson, so go ahead, complete the video,
and when you're ready to continue, I'll see you in the next.
