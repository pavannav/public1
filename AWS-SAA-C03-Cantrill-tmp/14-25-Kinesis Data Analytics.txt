Welcome back and in this lesson I want to cover Amazon Kinesis Data Analytics.
This is a real-time data processing product and it's critical that you understand its features
together with when you should and shouldn't use it for the exam.
Before I start talking about Kinesis Data Analytics, I want to position the product relative to everything else.
Kinesis Data Streams are used to allow the large-scale ingestion of data into AWS
and the consumption of that data by other compute resources, known as consumers.
Kinesis Data Firehose provides delivery services. It accepts data in and then delivers it to supported destinations in near real-time.
And it can also use Lambda to perform transformation of that data as it passes through.
Kinesis Data Analytics is a service which provides real-time processing of data which flows through it
using the structured query language known as SQL.
Data inputs at one side, queries run against that data in real-time and then data is output to destinations at the other.
The product ingests from either Kinesis Data Streams or Kinesis Firehose
and can optionally pull in static reference data from S3, but I'll show you how that works visually in a moment.
Now after data is processed, it can be sent on in real-time to destinations
and currently the supported destinations are Firehose and indirectly any of the destinations which Firehose supports.
But keep in mind if you're using Firehose then the data becomes near real-time rather than real-time.
The product also directly supports AWS Lambda as a destination as well as Kinesis Data Streams
and in both of those cases the data delivery is real-time.
So you only have near real-time if you choose Firehose or any of those indirect destinations.
If you use Lambda or Kinesis Data Streams then you keep the real-time nature of the data.
Conceptually the product fits between two streams of data, input streams and output streams
and it allows you in real-time to use SQL queries to adjust the data from the input to the output.
Now let's look at it visually because it will be easier to see how all of the various components fit together.
So on the left we start with the inputs, the source streams and this can be Kinesis Streams or Kinesis Firehose.
In the middle we create a Kinesis Analytics application.
This is a real-time product and I'll explain what that means in a second.
The Kinesis Analytics application can also take data in from a static reference source, an S3 bucket.
And then the Kinesis Analytics application will output to destination streams on the right.
So Kinesis Streams or Kinesis Firehose.
Remember all of these are external sources or destinations.
They exist outside of Kinesis Data Analytics.
Kinesis Data Analytics doesn't actually modify the sources in any way.
What actually happens is this.
Inside the Analytics application you define sources and destinations known as inputs and outputs.
So conceptually what happens is for the input side, objects called in-application input streams are created based on the inputs.
Now you can think of these like normal database tables,
but they contain a constantly updated stream of data from the input sources, the actual Kinesis Streams or Firehose.
These exist inside the Analytics application,
but they always match what's happening on the streams which are outside of the application.
Now the reference table is a table which matches data contained within an S3 bucket.
And it can be used to store static data which can enrich the data coming in over the streams.
Consider the example of a popular online game where a Kinesis Stream has all of the data about player scores and player activities.
In this particular case the reference table might contain data on player information which can augment the stuff coming in via the stream.
So if the stream only contains the raw score and activity data,
then the reference data will contain other metadata about those players.
So maybe player names, certain items the player has or awards,
and these can all be used to enrich the data that's coming in real time from Kinesis Streams.
Now the core to the Kinesis Analytics application is the application code.
And this is coded using the Structured Query Language or SQL.
It processes inputs and it produces outputs.
So in this case it operates on data in the in application input stream table and the reference table.
And any output from the SQL statement is added to in application output streams.
And again think of these like tables which exist within the Kinesis Analytics application.
Only these tables map onto real external streams.
So any data that's outputted into those tables by the Kinesis Analytics application is entered onto the Kinesis Stream or Kinesis Firehose.
And then these will feed into any consumers of the stream or destinations of the firehose.
Additionally any errors generated by the SQL query can be added to an in application error stream.
And all of this happens in real time.
So data is captured from the source streams via the in application input stream,
so the virtual tables, it's manipulated by the Analytics application using the SQL query and then stored into the in application output streams
which put that data into either the external Kinesis Stream or external Kinesis Firehose.
All of this, just to stress it again, happens in real time.
And if the output data is delivered into a Kinesis Stream then it stays real time.
If the output data is delivered into a Kinesis Firehose then it becomes near real time delivering to all of those supported destinations.
Now you only pay for the data processed by the application but it is not cheap so you should only use it for scenarios which really fit this type of need.
And before we finish this lesson let's talk about that, the scenarios where you might choose to use Kinesis Data Analytics.
Now there are some particular use cases or scenarios which fit using Kinesis Data Analytics.
At a high level this is anything which uses streaming data that needs real time SQL based processing.
So things like time series analytics, so maybe election data and eSports, things like real time dashboards for games,
so high score tables or leaderboards and even things like real time metrics for security and response teams.
Anything which needs real time stream based SQL processing is an ideal candidate for Kinesis Data Analytics.
Now I mentioned in the previous lesson that Data Firehose can also support transformation of data using Lambda
but remember the key differentiator is that Data Firehose is not a real time product and using Lambda you're restricted to relatively simple manipulations of data.
Using Kinesis Data Analytics you can create complex SQL queries and use those queries to manipulate input data into whatever format you want for the output data.
So it has a lot more in terms of features than Data Firehose so if you're dealing with any exam questions which need really complex manipulation of data in real time
then Kinesis Data Analytics is the product to choose.
Okay so with that being said that's everything that I wanted to cover in this theory lesson.
Go ahead, complete the lesson and then when you're ready I look forward to you joining me in the next lesson.
