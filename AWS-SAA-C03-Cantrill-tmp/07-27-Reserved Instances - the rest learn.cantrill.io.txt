Welcome back. In the previous lesson I talked about EC2 launch types and one of those types was Reserved.
Historically there was only one type of Reserved purchase option, but over time AWS have added newer, more flexible options
and so Reserved has become known as Standard Reserved.
As I talked about in the previous lesson, these are great for known, long-term, consistent usage.
If you need access to the cheapest EC2 running 24-7 365 every day for one or three years, then you would pick Standard Reserved
but you do have a number of other, more flexible options.
Scheduled Reserved instances are pretty situational, but when faced with those situations offer some great advantages.
They're great for when you have long-term requirements, but that requirement isn't something which needs to run constantly.
Let's say you have some batch processing which needs to run daily for five hours.
You know this usage is required every day, so it is long-term.
It's known usage and so you're comfortable with the idea of locking in this commitment,
but a Standard Reserved instance won't work because it's not running 24-7 365.
A Scheduled Reserved instance is a commitment. You specify the frequency, the duration and the time.
In this case, 2300 hours daily for five hours.
You reserve the capacity and get that capacity for a slightly cheaper rate versus on-demand,
but you can only use that capacity during that time window.
Other types of situations might be weekly data, so sales analysis which runs every Friday for a 24-hour period,
or you might have a larger analysis process which needs 100 hours of EC2 capacity per month
and so you purchase a Scheduled Reservation to cover that requirement.
You reserve capacity and get it slightly cheaper.
Now there are some restrictions. It doesn't support all instance types or regions
and you need to purchase a minimum of 1200 hours per year.
And while you are reserving partial time blocks, the commitment that you make to AWS is at least one year.
So the minimum period that you can buy for Scheduled Reserved is one year.
So this is ideal for long-term, known, consistent usage, but where you don't need it for the full time period.
So if you only need access to EC2 for specific hours in a day, specific days of the week,
or blocks of time every month, then you should look at Scheduled Reserved instances.
Now let's move on because I want to discuss capacity reservations.
I mentioned earlier in the course that certain events, such as major failures,
can result in a situation where there isn't enough capacity in a region or an availability zone.
And in that situation, there's an order to things.
A priority order which AWS used to deliver EC2 capacity.
First, AWS deliver on any commitments in terms of reserved purchases.
And then once they've been delivered, then they can satisfy any on-demand requests.
So this is priority number two.
And then after both of those have been delivered, then any leftover capacity can be used via the spot purchase option.
So capacity reservations can be useful when you have a requirement for some compute which can't tolerate interruption.
If it's a business-critical process which you need to guarantee that you can launch at a time that you need that compute requirement,
then you definitely need to reserve the capacity.
Now capacity reservation is different from reserved instance purchase.
So there are two different components. There's a billing component and a capacity component.
And both of these can be used in combination or individually.
There are situations where you might need to reserve some capacity,
but you can't justify a long-term commitment to AWS in the form of a reserved instance purchase.
So let's step through a couple of the different options that we have available.
To illustrate this, we'll start with an AWS region and two availability zones, AZ-A and AZ-B.
Now when it comes to instance reservation and capacity, we have a few options.
First, we could purchase a reservation, but make it a regional one.
And this means that we can launch instances into either AZ in that region,
and they would benefit from the reservation in terms of billing.
So by purchasing a regional reservation, you get billing discounts for any valid instances launched into any availability zone in that region.
So while region reservations are flexible, they don't reserve capacity in any specific availability zone.
And so when you're launching instances, even if you have a regional reservation,
you're launching them with the same priority as on-demand instances.
Now with reservations, you can be more specific and pick a zonal reservation.
Zonal reservations give you the same billing discounts that are delivered using regional reservations,
but they also reserve capacity in a specific availability zone.
But they only apply to that one specific availability zone,
meaning if you launch instances into another availability zone in that region, you get neither benefit.
You pay the full price and don't get capacity reservations.
Whether you pick regional or zonal reservations, you still need to commit for either a one- or three-year term to AWS.
And there are just some situations where you're not able to do that.
If the usage isn't known, or if you're not sure about how long the usage will be required,
then often you can't commit to AWS for a one- or three-year reserved term purchase, but you still need to reserve the capacity.
So there is another option. You can choose to use on-demand capacity reservations.
With on-demand capacity reservation, you're booking capacity in a specific availability zone,
and you always pay for that capacity regardless of if you consume it.
So in the example that's on screen now, we're booking capacity within AZB for two EC2 instances,
and we're billed for that capacity whether we consume it or not.
So right now with the example as on screen, we're billed for two EC2 instances.
What we can do is launch an instance into that capacity, and now we're still billed for two, but we're using one.
So if we don't consume any of that capacity, in this case, if we only have the one EC2 instance,
we're wasting billing for an entire EC2 instance.
So with capacity reservations, you still do need to do a planning exercise and plan exactly what capacity you require,
because if you do book the capacity and don't use it, you will still incur the charge.
Now capacity reservations don't have the same one- or three-year commitment requirements that you need for reserved instances.
You're not getting any billing benefit when using capacity reservations.
You're just, as the name suggests, reserving the capacity.
So at any point, you can book a capacity reservation if you know you need some EC2 capacity
without worrying about the one- or three-year term commitments, but you don't benefit from any cost reduction.
So if you're using capacity reservations for something that's consistent,
you should look at a certain point to evaluate whether reserved instances are going to be more economical.
Now one last thing that I want to talk about before I finish this lesson is a feature called a savings plan.
And you can think of a savings plan as kind of like a reserved instance purchase,
but instead of focusing on a particular type of instance in an availability zone or a region,
you're making a one- or three-year commitment to AWS in terms of hourly spend.
So you might make a commitment to AWS that you're going to spend 20 US dollars per hour for one or three years.
And in exchange for doing that, you get a reduction on the amount that you're paying for resources.
Now savings plans come in two main types.
You can make a reservation for general compute dollar amounts,
and if you elect to create a general compute savings plan,
then you can save up to 66% versus the normal on-demand price of various different compute services.
Or you can choose an EC2 savings plan, which has to be used for EC2,
but offers better savings up to 72% versus on-demand.
Now a general compute savings plan is valid for various different compute services
currently EC2, Fargate, and Lambda.
Now the way that this works is products have their normal on-demand rate,
so this is true for EC2, Fargate, and Lambda,
but those products also have a savings plan rate.
And the way that this works is when you're spending money on an hourly basis,
if you have a savings plan, you get the savings plan rate up to the amount that you commit.
So if you've made a commitment of $20 per hour and you consume EC2, Fargate, and Lambda,
you'll get access to all three of those services at the savings plan rate
until you've consumed that $20 per hour commitment.
And after that you start using the normal on-demand rate.
So a savings plan is an agreement between you and AWS where you commit to a minimum spend,
and in return AWS gives you cheaper access to any of the applicable resources.
If you go above your savings plan, then you begin to consume the normal on-demand rate.
And over time generally you'd continually evaluate your resource usage within the account
and adjust your savings plan usage as appropriate.
Now out of all the compute services available in AWS, if you only consume EC2,
then you will get better savings by looking at an EC2 savings plan,
but if you're the type of organization that's evaluating how you can use emerging architectures
such as containerization or serverless, then you can pick a general savings plan,
commit to a certain hourly spend, and then utilize that over the full range of supported AWS compute services.
And as a real world hint and for the exam,
this could allow an organization that's migrating away from EC2-based compute
towards these emerging architectures to get cost-effective access to resources.
So they'd use a general compute savings plan providing access to EC2, Fargate, and Lambda,
and over time migrate away from EC2 towards Fargate,
and then over the long term potentially from Fargate through to Lambda and fully serverless architectures.
Now for the exam you only need to be aware that savings plans exist and exactly how they work,
but in the real world you should definitely do a bit of extra reading around savings plans
because they're a really powerful feature that can help you achieve significant cost savings.
With that being said though, that's everything I wanted to cover in this theory lesson,
so go ahead, complete the lesson, and then when you're ready, I look forward to you joining me in the next.
