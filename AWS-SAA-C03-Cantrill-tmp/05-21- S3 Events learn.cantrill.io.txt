Welcome to this lesson where I want to step through the event notification feature of S3.
This is a feature which allows you to create event notification configurations on a bucket.
So let's jump in and get started exploring the architecture of this feature and exactly how we can use it.
The feature is pretty simple to understand.
When enabled, a notification is generated when a certain thing occurs within a bucket.
These can be delivered to different destinations, including SNS topics, SQSQs or Lambda functions.
And this means that you can have event-driven processes which occur as a result of things happening within S3.
Now various different types of events are supported.
For example, you can generate event notifications when objects are created,
which means put, post, copy and when long multi-part upload operations complete.
Maybe you want to do something like take an image and add a watermark,
or do something crazy like generating a retro pixel art version of any images uploaded to a bucket.
You can create an event notification configuration, set it so that it triggers whenever an object is created,
send this to some destination to process the image, and then you have an event-driven automated workflow.
You can also set event notifications to trigger on object deletion,
so you can match any type of deletion using the star wildcard,
you can match delete operations or when delete markers are created.
And you might use this if you want an automated security system to react if any objects are removed from any of your S3 buckets.
You can also have it trigger for object restores,
so if you have objects in S3 Glacier or Glacier Deep Archive and you perform a restore operation,
you can be notified when it starts and completes,
and this can be useful if you want to notify customers or staff when a restore begins and ends.
Then finally, you can get notifications relating to replication,
so if operations miss the 15-minute threshold, if they're replicated after the threshold,
when an object is no longer tracked, and even if an object fails replication,
all of those things can generate an event notification using this product.
Now visually it looks like this.
We start with an S3 bucket and define an event notification configuration.
The configuration matches events which we want to be notified of.
Over time these events occur, which as I just talked about,
include create events, delete events, restore events, and replicate events.
And when these things occur, events are generated and sent to the destinations which you configure,
and at the time of creating this lesson that's Lambda, SQSQs, and SNS topics.
These events interact with those services.
Events are generated by the S3 service, known as the S3 Principle,
and so we need to also add resource policies onto each of those destination services,
allowing the S3 service to interact with them.
This could be in the form of an SQSQ policy or a Lambda resource policy,
and at the time of creating this lesson, the only way to modify Lambda resource policies is to use the CLI or the API,
although this might change over time.
The events themselves are actually JSON objects,
and this is a cut-down version just to give you an idea of what they look like.
Now there are bits missing, I know, but you'll get the general idea.
If you use Lambda, for example, this is received within the event structure,
and you'll need to pass that, extract the information that you need, and then act on it.
Now S3 event notifications are actually a relatively old feature,
and support only a limited set of things occurring on objects in S3 buckets,
and can only interact with a limited number of AWS services.
You can also use EventBridge, which supports more types of events,
and can integrate with a wider range of AWS services.
As always with AWS, you have a few different ways of doing the same thing.
Now as a default, I would tend to lean towards using EventBridge unless you have a specific reason not to do so,
but I did want to make sure that you understand the events notification feature of S3.
Now at this point that's everything I wanted to cover, so go ahead and complete this video,
and when you're ready, I look forward to you joining me in the next.
