Welcome back, and in this demo lesson, I just want you to get some experience working with S3.
In this demo lesson, you're going to create an S3 bucket, which is going to be used for a campaign within the Animals for Life organization.
You're going to get the chance to create the bucket, interact with the bucket, upload some objects to that bucket, and then finally interact with those objects.
Now to get started, you'll need to make sure that you're logged in to the IAM admin user within the general AWS account.
By this point in the course, you should have a general account and a production account, and you need to make sure that you're logged in to the general AWS account.
As always, make sure that you're also using the Northern Virginia region, which is US-E-1.
Now, assuming that you do have that configuration, next you need to move to the S3 console, and there are a couple of ways that you can do that.
You can type S3 into this find services box.
If you've previously used the service, it will be listed under the recently visited services.
And then finally, at the top here, you can click on the services dropdown and either type S3 into the all services box here or locate it in the list of services and click to move to the S3 console.
So I'm going to go ahead and type S3 and then click to move to the console.
Now, when you first arrive at the S3 console, you'll be presented with a list of buckets within this AWS account.
I want to draw specific attention to the fact that with S3, you do not have to choose a region with the region dropdown.
When you create buckets within S3, you have to pick the region that that bucket is created in.
But because S3 uses a global namespace, you don't have to select a region when using the console.
So on this list, you will see any buckets in any regions within this one single AWS account.
You don't have to pick the region in advance.
So let's go ahead and create an S3 bucket.
And to do that, logically enough, we click on create bucket.
Now, to create a bucket, you need to specify a name and we're creating this bucket for a Koala campaign for the Animals for Life organization.
So we're going to start with Koala campaign.
Now, because bucket names do need to be unique, we can't just leave it at Koala campaign.
We need to add some random numbers at the end.
This is just to make sure that the name that you pick is different than the name that I pick and different than the name that every other student uses.
So just put some numbers after this name.
I'm going to pick 1, 3, 3, 3, 3, 3, 3, 3, 7.
Now, there are some rules around bucket naming.
Names need to be between 3 and 63 characters.
They can only consist of lowercase letters, numbers, dots and hyphens.
They need to begin and end with a letter or number.
They can't be formatted like an IP address and they can't begin with X and N.
And of course, they need to be entirely unique.
Now, there are some specific restrictions or specific rules for naming buckets if you want to use certain S3 features.
Later in the course, I'll be talking about static website hosting within S3 and I'll be showing you how you can use a custom domain name with an S3 bucket.
So you can get a domain name to host, for example, a blog or a static website and you can use S3 to host that website.
And if you want to do that, then you need to name the bucket name the same as the DNS name that you'll be using to access that bucket.
But at this point, this is just an introductory demo so we can leave this as just a standard name.
So use koala campaign with some random numbers at the end and that should be good.
Now, when you're creating a bucket, you need to specify a region and this is the region that this bucket will be placed in.
Now, I'm going to use US-East-1 as a default throughout this course.
And so I do recommend that you pick that to create the bucket in.
Now, if you have any existing buckets within your account and you want to copy the settings from those buckets,
and this will, of course, just save you some time when setting up the bucket,
then you can click on choose bucket and copy the settings from another bucket in your account.
Now, because we're starting this from fresh and we don't have any existing buckets, we can't use this option.
So we need to scroll down and just review what options we have.
For now, we're going to skip past object ownership because this is a feature that I'll be discussing in much more detail later in the course.
I can't really explain this until you have some experience of how the permissions model works with S3.
So I'll be talking about it in the S3 section of the course.
Now, the first thing that you need to pick when you're creating buckets is this bucket settings for block public access.
So all S3 buckets by default are private.
Nobody has permissions to this bucket apart from the account that creates the bucket.
So in this particular case, we're creating it inside the general AWS account.
And so only the general AWS account and the account root user of that account have permissions.
Now, because we've granted the IAM admin user full admin permissions, then it too has access to this bucket.
But by default, nothing else can have access.
Now, you can make a bucket completely public.
You can grant access for all users to that bucket, including unauthenticated or anonymous users.
Now, that's a security risk because potentially you might have sensitive data within that bucket.
This is a failsafe.
This means that even if you grant completely public access to a bucket, then this will block that access.
Now, I'm going to be talking about this in much more detail later in the course, but you need to know that this exists.
If we untick this option, for example, even though we are now not blocking all public access,
you still need to grant access to this bucket.
So all this option does is prevent you granting public access.
If you disable it, it does not mean that the bucket is public.
It just means that you can grant public access to this bucket.
So for this demonstration, we're going to go ahead and untick this option.
Now, if you do untick this, you'll need to scroll down and check this box just to acknowledge that you understand exactly what you're doing.
So this is a safety feature of S3 that if you're going to remove this failsafe check, then you need to accept responsibility.
It means that if you do mistakenly grant public access to the bucket, then potentially information can be exposed.
Now, I'm not going to explain any of these other options because I cover all of them in the S3 section of the course.
So I'm going to skip past bucket versioning and tags, default encryption, and I'm not going to be covering any of these advanced settings.
Instead, let's just go ahead and click on create bucket.
At this point, you might get an error that a bucket with the same name already exists.
And that's fine. Remember, S3 bucket names need to be globally unique.
And there's obviously a lot of koala campaigns happening in the wild.
If you do get the error, then just feel free to add extra digits of random to the bucket name, then scroll all the way down to the bottom and create the bucket.
Once the bucket's created, you'll see it in the list of buckets.
So there's a column for the name, a column for the region.
So you'll be able to see which region this bucket is in.
It will give you an overview of the access that this bucket has.
So because we unchecked the block public access, then it informs us that objects can be public.
Again, just to stress, this does not mean they are public because S3 buckets are private by default.
This is just telling us that they can be public.
Lastly, we also have the creation date, which tells us when the bucket was created.
So now let's just go ahead and click on the bucket to move inside so we can see additional information.
Now, one thing that I do want to draw your attention to is the Amazon resource name or ARN for this bucket.
All resources in AWS have a unique identifier, the ARN or Amazon resource name.
So this is the ARN for the bucket that we've just created.
ARNs have a consistent format.
They start with ARN for Amazon resource name.
Then they have the partition for most AWS resources in most regions.
This will always say AWS.
Then you have the service name, in this case S3.
Then you have some other values, which I'll be talking about later in the course.
And you can omit those with certain services by just putting double colons.
These, for example, might be the region or the account number.
Now, for services where resources are not globally unique,
then obviously you need to specify the region and the account number in order for this name to be globally unique.
But because S3 buckets by default have to be globally unique,
then we don't have to specify in the ARN either the region or the account number.
As long as we have the S3 service and the bucket name,
we know that this uniquely references a resource.
And that's the key thing about ARNs.
ARNs uniquely reference one resource within AWS.
You always know if you have one ARN that it references one particular resource within AWS.
Now, you can use wildcards to reference multiple resources,
but as a basis, it has to reference at least one.
Now, let's just click on the Objects tab here,
and this will give us an overview of all of the objects which are in this bucket.
You have a number of tabs here that you can step through.
We've got a Properties tab where you can enable bucket versioning,
tags, encryption, logging, cloud trail data events, event notifications,
transfer acceleration, object lock, requester pays, and static website hosting.
And we'll be talking about all of those features in detail within the S3 section of the course.
We'll also be covering permissions in that section
because you can be very granular with the permissions of S3 buckets.
You can see some metrics about the bucket.
So this uses CloudWatch, which we'll be talking about in detail elsewhere in the course.
You're also able to access management functionality.
Again, we'll be talking about all of this later in the course.
And then finally, you're able to create access points.
Now, access points are some advanced functionality,
and so we'll be covering this later in the course.
For now, I just want you to get some experience of uploading some objects and interacting with them.
Now, there's a link attached to this lesson,
which you'll need to go ahead and click, and that will download a zip file.
Go ahead and extract that zip file, and it will create a folder.
And then once you've extracted that into a folder, we're good to continue.
Now, the easiest way at this point to upload some objects
is to make sure that you've got the Objects tab selected, and then click on Upload.
Now, you're able to upload both files and folders to this S3 bucket.
So let's start off by uploading some files.
So click on Add Files.
Now, at this point, locate and go inside the folder that you extracted a few moments ago,
and you'll see that there are three image files.
We've got koala-nom-1.jpg, koala-nom-2.jpg, and koala-zzz.jpg.
Now, go ahead and select all three of these JPEG files and click on Open.
You'll see that you have three files in total queued for upload,
and you'll be provided with an estimate of the amount of space that these files will consume.
Now, scrolling down, you're told the destination where you'll be uploading these objects to.
So this is the S3 bucket that we've created, and this will be different for you.
This will be your bucket name.
Now, we haven't enabled versioning on this bucket.
This is a feature which I'll be covering in the S3 section of the course.
But because we don't have versioning enabled, it means that if we do upload files with the same name,
then potentially we're going to overwrite other objects in that bucket.
So we have to accept the risk, because we don't have versioning enabled,
we could overwrite objects if we re-upload ones with the same name.
In this case, that's fine, because we're not uploading anything important,
and regardless, this bucket is empty, so we can't overwrite anything.
You have the option of enabling versioning, where you can just acknowledge the risk.
Then we can scroll down further still.
We need to pick the storage class for the objects.
This defaults to standard, and I haven't covered storage classes in the course yet.
I'll be doing that within the S3 section, so we're going to accept the default,
and then we're going to skip past all of these options.
I'll be covering these later in the course, and just go ahead and click on upload,
and this will upload all of those three objects to the S3 bucket.
You'll be told whether the upload has been successful, or whether it's failed.
In our case, it's succeeded.
So we can go ahead and click on close to close down this dialogue.
Now when we scroll down, we'll see an overview of the objects within this bucket.
In our case, we only have the three, koala-nom-1, koala-nom-2, and koala-zzz.jpg.
We can also create folders within S3.
Now of course, because S3 is a flat structure, this isn't actually creating a folder.
It's just creating a file which emulates a folder.
So if we create a folder, and let's call this folder archive, and then click on create folder.
It's not actually creating a folder called archive.
What it's doing is creating an object with this name, so archive forward slash.
Now if we click on this archive folder and go inside it, we can upload objects into this folder.
So let's go ahead and do that.
Click on upload, go to add files, and then just pick one of these files.
Let's go with koala-zzz.jpg.
So select that one, and click on open, and just click on upload.
Now what we've done is we've uploaded an object into what we see as a folder in this S3 bucket.
If we click on close, what this has actually done is it's created an object which is called
archive forward slash koala-zzz.jpg.
S3 doesn't really have folders.
Folders are emulated using prefixes, and that's important to know as you move through the course.
Now if we click this at the top to go back to the main bucket, we're going to go ahead and open one of these objects.
So let's pick one of these objects, let's use koala-nom-1.jpg.
This opens an overview screen for this particular object, and where we see this object URL,
just go ahead and right click and open that in a new tab.
When you open that in a new tab, you'll be presented with an access denied error.
The reason for that is you're trying to access this object with no authentication.
You're accessing the object as an unauthenticated user, and as I mentioned earlier,
all S3 objects and all S3 buckets are private by default, and that's why you get this access denied.
You won't be able to access this object without authenticating to AWS and using that identity to access an object.
That's of course unless you grant public access to this object, which we haven't done and we won't be doing in this lesson.
So if we close down that tab and instead click on open, you might have to bypass a pop-up blocker,
but this time it will open this object, and that's because we're including authentication in the URL at the top here.
So when you click on the open button, it's opening the object as you.
It's not opening it as an unauthenticated identity.
So that's important, because you have access to this bucket, you can open the objects using this open button.
The same is true for the other objects, so if we go back to the bucket, let's pick koala nom 2, then click on the open button,
and again we'll see a koala having some food.
Go back to the bucket, and then let's try koala ZZZ, so click on the object, click on open again,
and now we can see a koala having a well-deserved rest after his lunch.
Now that's everything I wanted to cover in this demo lesson.
It's just been a really high-level introduction into how to interact with S3 using the console UI.
You'll be covering S3 in detail later in the course.
I just wanted this demo lesson to be a very brief introduction.
Now what we need to do before we finish this demo lesson is to go back to the main S3 console,
and we need to tidy up by deleting this bucket.
So deleting buckets within S3 is a two-step process.
First, we need to empty the bucket, so go ahead and select the bucket and click on empty.
You'll need to either type or copy and paste permanently delete into the box, and then click on empty,
and that will remove any objects within the bucket.
Assuming that's successful, go ahead and click on exit, and with the bucket still selected, click on delete,
and then once you've clicked on delete, you'll need to copy and paste or type the name of the bucket,
and finally click on delete bucket to confirm that deletion process,
and that will delete the bucket and your account will be back in the same state as it was at the start of this demo lesson.
Now at this point, I hope this has been useful.
It's just been a really basic introduction to S3,
and don't worry, you'll be getting plenty more theory and practical exposure to the product in the S3 section of the course.
For now, just go ahead and complete this video, and when you're ready, I'll look forward to you joining me in the next.
