Welcome back and in this lesson I want to cover the theory and architecture for the Simple Notification Service or SNS.
SNS is a key component of many architectures within AWS so it's one which you need to fully understand.
So let's jump in and get started because I really want to make sure that you understand SNS end-to-end.
Simple Notification Service or SNS is a highly available, durable, secure, pub-sub messaging service.
It's a public AWS service meaning to access it you need network connectivity with the public AWS endpoints.
But the benefit of this is that it's accessible from anywhere that has that network connectivity.
What it does at a high level is coordinate the sending and delivery of messages.
And messages are payloads which are up to 256 kilobytes in size.
Now I'm not mentioning the size because you need to know it exactly for the exam,
but more so so that you understand that you can't send an entire cat movie using the service.
Architecturally, messages are not designed for large binary files.
Now the base entity of SNS is the SNS topic and it's on these topics where permissions are controlled
as well as where most of the configuration for SNS is defined.
SNS has the concept of a publisher and a publisher is the architectural name for something which sends messages to a topic.
With a pub-sub architecture, publishers send things into a topic.
Now as well as publishers, each topic can have subscribers and these by default receive all of the messages which are sent to the topic.
Now subscribers can come in many different forms.
We've got things like HTTP and HTTPS endpoints, email addresses which can receive the message,
SQS queues where each message is added to the queue as it's sent to the topic.
Topics can also be configured with mobile push notification systems as subscribers
so that messages sent to a topic are delivered to mobile phones as push notifications or as SMS messages.
Even Lambda functions can be subscribed to a topic so that that Lambda function is invoked as messages are sent into the topic.
Now SNS is used across AWS products and services.
CloudWatch uses it when alarms change state.
CloudFormation uses it when stacks change state.
Autoscaling groups can even be configured to send notifications to a topic when a scaling event occurs.
Now SNS is one of those subjects which is a lot easier to understand if you look at it visually.
So let's move on to an architecture diagram.
Now the SNS service as I just mentioned is a public space AWS service.
It operates from the AWS public zone and because of that the service can be accessed from the public internet
assuming the entity trying to access it has the relevant AWS permissions
and assuming that a VPC is configured to be able to access public AWS endpoints
then SNS can be accessed from a VPC as well.
SNS as a service runs from this public zone and you can create topics inside of SNS.
For each topic a wide variety of producers so external APIs running on the public internet
or CloudWatch or EC2 or Autoscaling groups or CloudFormation stacks
and many other AWS services can publish messages into a topic.
The topic has subscribers and things can be subscribers and producers at the same time.
For example APIs.
Any subscribers by default will receive all of the messages sent to the topic by publishers.
But it's possible to apply a filter onto a subscriber
which means that subscriber will only receive messages which are relevant to its particular functionality.
Another interesting architecture that I want to comment on just briefly is the fan out architecture
and this is when you have a single SNS topic with multiple SQS queues as subscribers
and we'll be covering SQS queues later in this section
but this is a way that you can create multiple related workloads.
So if for example a message is sent to an SNS topic when a processing job arrives
that message can be added to multiple SQS queues which are configured as subscribers for that SNS topic.
Now each of these queues might perform the same related processing
but using the PetTube as an example might work on a different variant
so they might be processing a different bitrate or a different video size.
So using fan out it's a great way of sending a single message to an SNS topic
representing a single processing workload and then fan that out to multiple SQS queues
to process that workload in slightly different and isolated ways.
Now the functionality that's offered by SNS is pretty important.
It really is a foundational service for developing application architectures within the AWS platform.
So SNS offers delivery status so with a number of different types of subscribers
you can confirm the status of delivery of messages to those subscribers.
Examples of some subscriber types that do support delivery status is HTTP or HTTPS endpoints, Lambda and SQS.
As well as delivery status SNS also supports delivery retries
so you've got the concept of reliable delivery within SNS.
SNS is also a highly available and scalable service within a region.
So SNS is a regionally resilient service.
So all of the data that's sent to SNS is replicated inside a region.
It's scalable inside that region so it can cope with a range of workloads
from nothing all the way up to highly transactional workloads and it's also highly available.
So if particular availability zones fail then an SNS topic will continue to function.
SNS is also capable of server-side encryption or SSE
which means that any data that needs to be stored persistently on disk can be done so in an encrypted form.
So this is important if you do have any requirements which mandate the use of on disk encryption.
Now SNS topics are also capable of being used cross-account.
Just like S3 buckets you can apply a resource policy.
In the case of an SNS topic this is a topic policy.
It's exactly the same. It's a resource policy that you apply to the resource, the SNS topic
and you can configure from a resource perspective exactly what identities have access to that topic.
Now you'll need to know all of this architecture relating to SNS for the exam
and SNS really is one of those topics that you'll be using extensively as you deploy projects inside AWS.
But for now that's everything that you need to know about SNS.
You will as we go through the course get more and more experience with the product
but I wanted to illustrate all of the important pieces of architecture at this point.
So go ahead and complete the video and when you're ready I'll look forward to you joining me in the next.
