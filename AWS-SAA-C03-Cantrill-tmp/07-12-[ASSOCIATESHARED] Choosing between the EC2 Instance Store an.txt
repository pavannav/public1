Welcome to this lesson where I want to briefly cover some of the situations where you would choose to use EBS rather than instant store volumes.
And also I want to cover situations where instant store is more suitable than EBS, and those situations where it depends.
Because there are always going to be situations where either or neither could work.
Now we've got a lot to cover, so let's jump in and get started.
Now I want to apologize right at the start, you know by now I hate lessons where I just talk about facts and figures, numbers and acronyms.
I almost always prefer diagrams, teaching, using real world architecture and implementations.
Sometimes though, we just need to go through numbers and facts, and this is one of those times I'm sorry, but we have to do it.
So this lesson is going to be a lesson where I'm going to be covering some useful scenario points, some useful minimums and maximums,
and situations which will help you decide between using instant store volumes versus EBS.
And these are going to be useful both for the exam and real world usage.
Now first, as a default rule, if you need persistent storage, then you should default to EBS, or more specifically default away from instant store volumes.
So instant store volumes, they're not persistent.
There are many reasons why data can be lost.
Hardware failure, instances rebooting, maintenance, anything which moves instances between hosts can impact instant store volumes.
And this is critical to understand for the exam and for the real world.
If you need resilient storage, you should avoid instant store volumes and default to EBS.
Again, if hardware fails, instant store volumes can be lost.
If instances move, if hosts fail, anything of this nature can cause loss of data on instant store volumes because they're just not resilient.
EBS provides hardware which is resilient within an availability zone.
And you also have the ability to snapshot volumes to S3.
And so EBS is a much better product if you need resilient storage.
Next, if you have storage which you need to be isolated from instance life cycles, then use EBS.
So if you need a volume which you can attach to one instance, use it for a while,
unattach it, and then reattach it to something else, then EBS is what you need.
These are the scenarios where it makes much more sense to use EBS.
For any of the things I've mentioned, it's pretty clear-cut.
Use EBS, or to put it another way, avoid instant store volumes.
Now there are some scenarios where it's just not as clear-cut, and you need to be on the lookout for these within the exam.
Imagine that you need resilience, but your application supports built-in replication.
Well then, you can use lots of instant store volumes on lots of instances,
and that way you get the performance benefits of using instant store volumes, but without the negative risk.
Another situation where it depends is if you need high performance.
Up to a point, and I'll cover these different levels of performance soon,
both EBS and instant store volumes can provide high performance.
For super high performance though, you will need to default to using instant store volumes,
and I'll be qualifying exactly what these performance levels are on the next screen.
Finally, instant store volumes are included with the price of many EC2 instances,
and so it makes sense to utilize them.
If cost is a primary concern, then you should look at using instant store volumes.
Now these are the high-level scenarios, and these key facts will serve you really well in the exam.
It will help you to pick between instant store volumes and EBS for most of the common exam scenarios,
but now I want to cover some more specific facts and numbers that you need to be aware of.
Now if you see questions in the exam which are focused purely on cost efficacy,
and where you think you need to use EBS, then you should default to ST1 or SC1,
because they're cheaper, they're mechanical storage, and so they're going to be cheaper than using the SSD-based EBS volumes.
Now if the question mentions throughput or streaming, then you should default to ST1,
unless the question mentions boot volumes, which excludes both of them.
So you can't use either of the mechanical storage types, so ST1 or SC1, to boot EC2 instances,
and that's a critical thing to remember for the exam.
Next I want to move on to some key performance levels.
So first, we have GP2 and GP3, and both of those can deliver up to 16,000 IOPS per volume.
So with GP2, this is based on the size of the volume.
With GP3, you get 3,000 IOPS by default, and you can pay for additional performance.
But for either GP2 or GP3, the maximum possible performance per volume is 16,000 IOPS,
and you need to keep that in mind for any exam questions.
Now IO1 and IO2 can deliver up to 64,000 IOPS,
so if you need between 16,000 IOPS and 64,000 IOPS on a volume, then you need to pick IO1 or IO2.
Now I've included the asterisks here because there is a new type of volume known as IO2 Block Express,
and this can deliver up to 256,000 IOPS per volume.
But of course you need to keep in mind that these high levels of performance will only be possible
if you're using the larger instance types.
So these are specifically focused around the maximum performance that's possible using EBS volumes.
But you need to make sure that you pair this with a good sized EC2 instance,
which is capable of delivering those levels of performance.
Now one option that you do have, and this comes up relatively frequently in the exam,
you can take lots of individual EBS volumes,
and you can create a RAID 0 set from those EBS volumes.
And that RAID 0 set then gets up to the combined performance of all of the individual volumes.
But this is up to 260,000 IOPS because this is the maximum possible IOPS per instance.
So no matter how many volumes you combine together,
you always have to worry about the maximum performance possible on an EC2 instance.
And currently the highest performance levels that you can achieve using EC2 and EBS is 260,000 IOPS.
And to achieve that level you need to use a large size of instance
and have enough EBS volumes to consume that entire capacity.
So you need to keep in mind the performance that each volume gives
and then the maximum performance of the instance itself.
And there is a maximum currently of 260,000 IOPS.
So that's something to keep in mind.
Now if you need more than 260,000 IOPS
and your application can tolerate storage which is not persistent,
then you can decide to use instance store volumes.
Instance store volumes are capable of delivering much higher levels of performance
and I've detailed that in the lesson specifically focused on instance store volumes.
You can gain access to millions of IOPS if you choose the correct instance type
and then use the attached instance store volumes.
But you do always need to keep in mind that this storage is not persistent.
So you're trading the lack of persistence for much improved performance.
Now once again I don't like doing this but my suggestion is that you try your best to remember all of these figures.
I'm going to make sure that I include this slide as a learning aid on the course GitHub repository.
So print it out, take a screenshot, include it in your electronic notes, whatever study method you use.
You need to remember all of these facts and figures from this entire lesson
because if you remember them it will make answering performance related questions in the exam much easier.
Now again I don't like suggesting that students remember raw facts and figures.
It's not normally conducive to effective learning but this is the one exception within AWS.
So try your best to remember all of these different performance levels
and what technology you need to achieve each of the different levels.
Now at this point that's everything that I wanted to cover in this lesson.
I hope it's been useful.
Go ahead and complete the video and when you're ready I look forward to you joining me in the next.
