Welcome back, and now that I've talked about the fundamentals of DNS from an abstract perspective,
I want to bring this back to an AWS focus and talk about Route 53, which is AWS's managed DNS product.
OK, let's jump in and get started with the high-level product basics, and then I'll talk about the architecture.
Route 53 provides two main services.
First, it's a service in AWS which allows you to register domains,
and second, it can host zone files for you on managed name servers which it provides.
Now, Route 53 is a global service with a single database.
It's one of very few AWS services which operates as a single global service,
and as such, you don't need to pick a region when using it from the console UI.
The data that Route 53 stores and manages is distributed globally as a single set,
and it's replicated between regions, and so it's a globally resilient service.
Route 53 can tolerate the failure of one or more regions and continue to operate without any problems.
Now, it's one of the most important AWS products.
It needs to be able to scale, stay highly performant whilst remaining reliable,
and continue working through failure.
So let's look at exactly how Route 53 is architected
and exactly what it does to provide these two main services.
So the first service that I mentioned at the start of this lesson is that Route 53 allows you to register domains,
and to do that, it has relationships with all of the major domain registries.
Remember from the last lesson that these are the companies which manage the top-level domains.
They've been delegated this ability by IANA, who manage the root zone for DNS.
Now, these registries each manage one specific zone.
One of them manages the .com zone, another the .net zone, and another the .io zone, and so on.
In the next lesson, I'll be demoing how to register a domain that I'll be using for the course scenario,
and that domain will be a .org domain.
And so one of these relationships is with the .org registry, an organization called PIR.
Now, when a domain is registered, a few things happen.
First, Route 53 checks with the registry for that top-level domain if the domain is available.
For this example, to keep it simple, let's just assume it is.
Then, Route 53 creates a zone file for the domain being registered.
And remember, a zone file is just a database which contains all of the DNS information for a particular domain.
In this case, animalsforlife.org.
As well as creating the zone file, Route 53 also allocates name servers for this zone.
So these are servers which Route 53 creates and manages, which are distributed globally,
and there are generally four of these for one individual zone.
So it takes this zone file that it's created, and this is known as a hosted zone using Route 53 terminology,
and it puts that zone file onto these four managed name servers.
And then, as part of registering the domain, it communicates with the .org registry, and this is PIR in this case,
and liaising with that registry, it adds these name server records into the zone file for the .org top-level domain.
And the way that it does this is it uses name server records.
So these name server records are how PIR delegates the admin of the domain to us.
By adding the name server records to the .org zone, they indicate that our four name servers are authoritative for the domain.
And that's how a domain is registered using Route 53.
It's not a complicated process when you simplify it right down.
It's simply the process of creating a zone file, creating a number of managed name servers,
putting that zone file on those servers, and then liaising with the registry for the top-level domain
and getting name server records added to the top-level domain zone, which point back at these servers.
Remember, DNS is just a system of delegation.
So next, let's quickly take a look at zones inside Route 53.
So Route 53 provides DNS zones as well as hosting for those zones.
It's basically DNS as a service.
So it lets you create and manage zone files, and these zone files are called hosted zones in Route 53 terminology
because they're hosted on AWS managed name servers.
So when a hosted zone is created, a number of servers are allocated and linked to that hosted zone.
So they're essentially one and the same.
From Route 53's perspective, every hosted zone also has a number of allocated managed name servers.
Now, a hosted zone can be public, which means that the data is accessible on the public internet.
The name servers for a public hosted zone live logically in the AWS public zone,
and this is accessible anywhere with the public internet connection.
So they're part of the public DNS system.
A hosted zone can also be private, which means that it's linked to one or more VPCs and only accessible from within those VPCs.
And you might use this type of zone if you want to host sensitive DNS records that you don't want to be publicly accessible.
A hosted zone hosts DNS records, which I'll be talking about in an upcoming lesson in much more detail
because there are many different types of records.
Inside Route 53, you'll see records referred to as record sets.
Now, there is a tiny difference, but for now, you can think of them as the same thing.
OK, so now it's time for a demo.
I know that DNS has been a lot of theory, and so I wanted to show you a domain being registered.
And the domain that will be registered is the domain that I'll be using for the course scenario, which is animalsforlife.org.
So when you're ready to see that, go ahead, complete this video, and join me in the next.
