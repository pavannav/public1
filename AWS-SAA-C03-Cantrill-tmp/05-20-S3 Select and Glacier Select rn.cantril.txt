Welcome back and in this lesson I want to cover a really important feature of S3 and Glacier that you need to be aware of for the exam.
Now you don't need to understand the implementation, just the architecture.
S3 Select and Glacier Select are ways that you can retrieve parts of objects rather than the entire object.
Now I expect that this will feature only in a minor way in the exam and it will be focused on architecture and features,
but I do want you to be aware of exactly how this feature works.
So let's jump in and step through its architecture and what benefits it provides.
Now you know by now that both S3 and Glacier are super scalable services.
You can use them both to store huge quantities of data.
S3 for example can store objects up to 5 terabytes in size and can store an inflect,
is that logically if you retrieve a 5 terabyte object then it takes time and it consumes that full 5 terabyte of transfer.
So if you're downloading a 5 terabyte object from S3 into your application then you consume 5 terabytes of data,
you're accessing that full object and it takes time.
Now you can filter this on the client side but this occurs after the figurative damage is done.
You've already consumed that capacity, you've already downloaded that data.
Filtering it at the client side just means throwing away the data that you don't need.
S3 and Glacier provide services which allow you to access partial objects.
So that's what's provided by the S3 Select and Glacier Select services.
And the way that you do this is that both services allow you to create a SQL-like statement.
So a cut down SQL statement.
So you create this, you supply it to that service and then the service uses this SQL-like statement to select part of that object
and this part and only this part is sent to the client in a pre-filtered way.
So you only consume the pre-filtered part of that object, the part that you select.
So it's faster and it's cheaper.
Now both S3 Select and Glacier Select allow you to operate on a number of file formats with this level of functionality.
So examples of this include comma-separated values, JSON, you can even use BZIP2 compression for comma-separated values and for JSON.
So it's a really flexible service.
Now visually this is how it looks.
Now at the top we have the architecture without using S3 or Glacier Select
and at the bottom we have the architecture when we utilize these services.
So in both cases we have an application which stores its data on S3.
So when an application interacts with S3 to retrieve any data the entire object or stream of objects are delivered to the application.
So the application receives everything.
It can either accept it as a whole or it can perform its own filtering.
But the critical thing to understand is that any filtering performed by the application is performed inside the application.
It doesn't impact the cost or performance.
Any data which is filtered out is simply discarded but it's still billed for and it still takes time.
Now contrast this to using S3 Select with the same architecture.
So we still have the same application that interacts with the same S3 bucket.
It places the filter point inside the S3 service itself.
And this allows us to use a SQL-like expression and provide this to the S3 Select service.
The S3 Select service can then use this SQL-like expression and it can apply this to the raw data in S3.
So in effect it's taking the raw data filtering it down but this is occurring inside the S3 service.
So the data that the application receives is the pre-filtered data.
And this means that we can achieve faster speeds and a significant reduction in cost.
Because the filtering occurs before it's transferred to our application it means that we get substantial benefits both in speed and in cost.
And this is because the S3 service doesn't have to load all of the data and deliver it to the application.
We're applying this filter at the source, the source of the data which is the S3 service itself.
Now this is a feature which your applications will need to explicitly use.
But as a solutions architect it's a powerful feature that you need to understand to improve the levels of performance in any systems that you design.
Now at this point that's everything I wanted to cover.
I want to keep it brief because it's a product that I only expect to feature in a very, very minor way in the exam.
But I do want you to be aware of its existence.
So thanks for watching. Go ahead, complete this video and when you're ready I'll look forward to you joining me in the next lesson.
