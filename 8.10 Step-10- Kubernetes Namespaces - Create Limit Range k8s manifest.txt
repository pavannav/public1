# 8.10 Step-10- Kubernetes Namespaces - Create Limit Range k8s manifest

-: Welcome back.Let's get into our limit range default concept here.Okay, so 05, 05, 02, namespaces, limit range, default.So as a step one,we are going to create a namespace manifest,and then as a step two,we are going to create the limit range manifest, okay?And then, we are going to update all the manifestwith respect to namespaces with namespace dev3.So, let's understand this little bit later, okay.So let's complete the creating the manifests for now.So let's go back to our visual studio code.And if you see here,we are in 05, 05, 02, namespaces, limit range, default.So if you see 01 to 08 are same fromwhatever we have took from imperative command,or whatever, what it is comingor getting forwarded from previous sections, okay?So which is 01 to 08.In 00, we have going to create a namespace,and then limit range, default related manifest.Two manifests we are going to create here under 00.So now, the question comes,why we are going to put it as 00?So the reason we are putting the 00 instead of 09,why you are putting it as 00 as the first one, okay?Because, you have two options to create a namespace.One is imperative or, other way is, declarative.And in declarative also, you can create first namespace,and then later, you want to create all these things, right?Because all these things need to becreated inside that namespace.So, if that is the case, if you put this as 09, so then,it is not going to, all these are going to be in error.So if it is in order from 00 to 08,first it'll create the namespace,and then, rest all it will get created.So that's the reason I have given 00,because I want to create all these things with thissingle command kubectl apply hyphen F, okay?So I really don't want to first createkubectl apply hyphen F, and then, faster this file.And after that, rest of the files,I really don't want to do that way.So with one command I want to create it.So that's the reason I have put it under 00.So we have discussed more about this ordering.So now, let's go ahead and then create thenamespace template, okay?So as usual, we'll start with API version, and then,we'll have something called kind,and we'll have something called metadata, right?And we'll have something called specin our standard stuff, right?So now, let's also copy this.And we are also create one...We are going to create one more, right?One more manifest here.So if you want to separate the AML, two AML definitions,so you can give this way, okay?Three hyphens, okay?Right?So now, I'll put it this way.So now, the one is namespace one we are going to create.So I'll say, kind is going to be namespace,and API version is V1, and metadata,and under that, the childitem we can have name,and the name is dev3 namespace, okay?And namespaces doesn't have any spec concepts.So I'm going to remove the spec here, okay?So now, the next one starts, which is the limit range.So let's go ahead and then, quickly create the limit range.Okay? So the kind is(typing)
limit range,and the version is going to be VI.And we'll have two things here.One is name of my limit range,and the second is namespace it is going to belong to.So why I am writing namespace?Because I, with one command I want to create everything.And then, I want to hardcore the namespacein each of my Kubernetes object, okay?So we are also going to update this namespace,dev3, in all the things also, okay?So in all these things also, we are going to update later,but for now, let's leave it like this.And then I'll say name.And name, I'm going to put it asdefault CPU mem limit range,(typing)okay?And namespace, it is going to be dev3.It is going to create in dev3 namespace.And under spec, you are going to haveonly one thing for limit range,which is nothing but limits.And you'll have the default limits you can define here.So, which is nothing but the limit, maximum limit,how much you can define for memory CPU.And one more you'll have,(typing)
default request.Okay? And one more.At this level, you'll have something called type.So, to whom you are going to define these limits.So of type container, these will be applicable.Okay? So that's all.So now, let's go ahead and then,define our CPU and memory, right?So I'll say, CPU and then, I'll say, memory.And it's the same way here, also.CPU, and then, memory.So this is the template for limit range.So now you can define whatever we want.So I'm saying per container.Mine is a small T3 medium cluster.So I am giving 512, well I'm going to run only two cores.So it might reach one core, when I say 512 AMI, right?So like that.Okay, so this is MB.So, let me take this out,and then, put it here.Okay, 512 AMI memory.And default request.It can take it as 256 when it is starting, okay?So I have done that.Now the next thing is CPU.And CPU, I'm going to use here is like,a 300M I'll use for my initial,whenever the container starts, okay?And later, I'll try to increase, means like, it's limit,I am going to give it as maximum limit of the CPUin this namespace.This respective container is going to use this 500 M,which is 0.5 core of a CPU.So that's about the limit range manifest.But few things which we need to understand here is,if we don't specify the CPU here, right?So then, automatically, that default maximum limitper container, whenever you are using the limit range,Kubernetes is going to assign is one VCPU.So that is the thing.In the same way, if you don't assign the memory here,means like, these two things are not definedunder this default, right?So what happens is, like,it is going to assign 512 EMI as the...it's like 512 MB as the default memoryfor my respective containerwhen we apply this limit range in that namespace.In the same way.So now, if it is CPU or memory,if you don't specify this default request,so this is dangerous one, okay?So if you don't specify this default request, automatically,these containers, whatever is under this namespace,are going to consider this maximum limit,whatever you have defined here,as their even their request limit.Okay? So that's the thing.So if you don't define these things,then it takes these as the values for this one also.So that's the story about limit range additional stuff here.Okay, so we have created this one,and then, let's also complete our other spec update stuff,which is nothing but all this manifests update stuff.Okay, so now, let's go ahead and take thenamespace value from here, copy it,and then, update in metadata section of all these sections.Okay, so I'll come from Kubernetes sequence from down.So I'll copy here, namespace dev3.So this sequence is going to get created in namespace dev3.Same way, I'll do the same for our user management service.And then, I'll do the same for ouruser management deployment in metadata section after name,in the same level we are giving namespace dev3.So for cluster IP service,so we are going to do that.And for my scale deployment, also.Enter. Go to home. And then copy.(typing)So, and user management config map, also.Under metadata section we are going to do that.And in persistent volume claim,yes it is a storage, it is a namespace level object.We are going to create it.Which we have discussed in our previous section itself.When we are doing namespace it is imperative.And one more we have, which is, storage class.Storage class is not namespace level object.We really don't need to update.So we have updated from 02 to 08,all the objects with namespace as dev3.So now if you go ahead and then just say,kubectl apply high F,and then automatically you should get created.Okay, so now, we have completed step one,creating namespace, creating limit range,and then updating all (indistinct) manifest.So in our next lecture we'll create the objects,and then test, and then also,we'll go ahead and then clean up the stuff.So I'll see you in the next lecture.Until then, bye bye.Thank you.