# 5.3 Step-04- Create Pods with YAML

-: Welcome back.In this lecture we are goingto write port's definition using YAML.So we are going to go to zero seven ports with YAML.So we are going to do this in three steps.One is we are going to understandabout the YAML top level definitions and then,we are going to create a simple port definition using YAML.And then to test whatever the port we have created,we are also going to create a node port service using YAML.So let's go ahead and then do that now.So if you go inside the Kube manifests,you'll have three files present herewhich is Kube based definition, port definition,and then port node port service.So the port definitionand port node port service are going to be empty.So we are going to write them now.Okay, so let's go to Kube based definition.So I'll take you to my visual studio code,and if you go to the Kube manifests and inside that,you can find Kube based definition dot YAML, right?So if you see here in Kubernetes, the four top levelYAML items are API version, kind, metadata, and then spec.So let's see one after the other.So in Kubernetes everything is nothing but objects.So the core objects what we are discussing now isports, replica sets, deployment services,and many more we can add, right?So if you see, we'll start with the kind.So the kind is nothing but the K8S objectswhich is nothing but Kubernetes objects, which is nothingbut we can define our port hereor replica set or whatever isthe respective object for that.Whatever the YAML definition we are writing,that respective Kubernetes object will be defined here,and its equivalent API version.We are going to define here, example,if it is V1 or whatever it is, right?So how we are going to know what is the API versionfor this respective Kubernetes version.Our maximum, it is not going to changefor most of the time, but here and there new changes comesinto these objects and then this API version keeps changing.Not very regularly, but here and there sometimes, okay?So for that purpose alwaysif you want to go and then refer the latest documentation.So we can go here and if you go here, so you can find here.So this is the Port V1 core for V1.18.What is the definition?So let me open it here.And you can see here, Port V1 core,this is the API definition.So you can see the version is V1.So which means we can define our version as V1,and then kind is port, which is nothing but port, right?So now if you want an example of the port,you can even see here, right?So now the most important thing here is whatever we aregoing to try to do here is we are just goingto create a simple port and then expose it as a service.But what Kubernetes recommends is,never ever go and then directly create a port.So always a port need to be created using a controllerlike deployment controller or job controlleror state full set controller, okay?So this is just for our testing and then understandingabout how to create a AML definition for port.So we are creating the definition,and then we are creating the port,but it is recommended always to createit using respective controllers.So let's come back here,and so let me remove this, whatever we have created here.And now let's copy this, right?So this we are saying these four are the top level objects.One is API version, kind, metadata, and then spec.So what does metadata mean, right?So you are creating a objectof type port and its name, right?The port name you can define here, okay?So it can be my app port, something like that, right?And you can even define additional labels here, okay?So label can be app is equalto my app or something, whatever you want, okay?So, but the core thing primarily is two thingswhich it will have primarily is name and then labels.And under labels you can again define your key value pathswhatever you want, okay?So, but name is always requiredfor any of the Kubernetes object, whatever we create, right?So in the metadata, the one thing important isname and the other is labels.So later when you are doing the advanced stuff,you'll even defining the name spacesand all those things but the core's nameand then labels will be always a mandatory thing,which we need to fill when we are defining it, okay?So in such a way that which will be usefulfor us in the long term, or we can make itas a best practice to ensure that in metadata name.And then labels, we are going to definitely use it.And finally, specification, our spec.Spec is nothing but our respective Kubernetesobjects specification, whatever we are going to define.So the core content, what we are going to define.So let's go and then remove this and then take this,and then go to our port definition here, right?And copy in the port definition.Okay, so now we have seen that for our port,the version is V1, so a version colon space V1,and the kind is going to be port and the metadata.Under metadata, we already know that namewe are going to define and we are goingto say my app port is my port name and labels, right?So when we have multiple number of portsand then multiple objects in Kubernetes isif you want to filterabout for this respective application, what is my setof ports or set of services, all those things,labels will be very helpful in the long term.So always it is good to define at least one labelfor our application, right?So again, labels is going to be a dictionary object.So if you see here metadata is a dictionary object.And if you see here on that we have defined nameand then labels and under labels,again we can define multiple key value pairs.Example app is equal to my app,and I can say tier is equal to front end.So like this, how many labels you want,whatever you feel like in future,you can use it for filtering or whatever the basis.So you can keep defining those things.But for now, I will leave itas very simple name is equal to my app portand labels physical to app colon, my app, okay?So now the spec, specification of our core port, right?So every port, what it does, okay,it usually runs a container.So if it need to run a container,it need a container image information, right?So it'll have a object named containers here,item named containers, okay?And this container sees the list, if you see here,I can save this as a, so I'm just dictionary, okay?And again, this is one more dictionary, right?So in the YAML times I am defining these things, okay?So if you see this is a string, right?And again this is a string, right?So containers is a list, which means I can define a listof objects here, right?So why, because in any port we can do,we can run multiple containers.We have already discussed about multiplemultiport applications, right?So we can define multiple containers inside a single port.That's the reason under containers,you can define multiple containers.Due to that you'll get this list objectas the containers, okay?So, and I'll save my container name as my app,and I will define its image now, okay?So I can say stack simplify slash 1.0.0.So this is a simple engine same as the image I have builtand put it in my docker hub.So we are going to use it.So, and under this respective means like this is a list,and then if you want to define one more container,you can again define with name, right?So my app backend or something, right?And its image you can define here,and if you want you can define its container portsand all those things.So we'll define additionally ports for this container, okay?And the container port is going to be 80, right?So I'm going to remove the other container.We are just going to do itwith simple one container in a port.So 99% cases we are going to have oneto one relation with our ports.So that is port two container.So we'll also follow the same standard here, okay?So this is my port definition.So in our next lecture we'll focuson creating the node port service.But for now we'll go aheadand then create this port and then verify it.Okay, so let's go backto our browser and now we have created a port.And then let's go aheadand then create the port definitionin our Kubernetes cluster, right?So we are in the Kubernetes fundamentals folder.So we'll go into zero seven portswith YAML and we'll go inside Kube manifests.And then you can find the zero to port definition,whatever we have created.So you can even see what we have created, right?So now we can go ahead and then run it, right?Kube CTL create hyphen zero two.Port definition dot YAML.Right, it is getting created.Okay, so now my port got created.So Kube CTL, get ports, and the port is running, right?So in our next lecture we'll go ahead,and then create the node ports that we send,then we will test it.So I'll see you in the next lecture.Until then, bye bye.Thank you.