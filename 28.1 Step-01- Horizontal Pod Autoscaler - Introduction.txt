# 28.1 Step-01- Horizontal Pod Autoscaler - Introduction

-: Welcome back,in this lecture we are going to understand aboutHorizontal Pod Autoscaler.So let's see what is Horizontal Pod Autoscaler, right?So in a very simple note, horizontal scaling meansincreasing and decreasing the number of replicas,which is nothing but pods in our Kubernetes deployment.So HPA automatically scalesthe number of pods in a deploymentor a replication controller or a replica setor a StatefulSet,based on that resources CPU utilization.Not only CPU utilization,you can even configure any type of other metricsor custom metrics or whatever you want to configure.So as part of our demowe are primarily going to focus on CPU utilization.So this can help our applications scale outto meet increase the demand or scale inwhen resources are not needed.So thus freeing up our worker notes for other applications.So when we set a target CPU utilization percentage,the HPA scales our applications in or outto try to meet the target CPU utilization percentage.So HPA needs Kubernetes metrics server to verifyCPU metrics server for.So we do not need, we do not need to deployor install the HPA on our clusterto begin scaling our applications.It's out of the box availableas a default Kubernete standard API resource.So moving on, how this HPA works.So let's see that, now.In a Kubernetes cluster, right,you have deployed a application.So it might be of type deployment or replica setor replication controller or StatefulSet.So it is going to span the podsor it is going to create the equal end podswhere it is going to deploy our application container.So now what happens is, we are also going to deploya default Kubernetes metrics server available for us.So these pod metrics informationis going to be sent to our respective metrics server.So when we enable the Horizontal Pod Autoscalerfor our respective application,so what happens is like,it is going to query for metricsand once it gets the metrics,it is going to calculate the number of replicas,this Horizontal Pod AutoScaler need to increase or decrease.So then it will scale the app to desire replicas.So there will be a kubectl scale option,internally it is going to use the scale operationto scale either scale in or scale out our number of pods.So once it's scaled, so it is going to either increaseor decrease the number of podsin our respective application.So even whatever the new pods, whatever it gets createdthose related metrics also will be sent overrespective metrics server.So the thing here is, this whole thing,whatever happens here, this Horizontal Pod Autoscaling,collecting the metrics, calculating the repliesand then if requiredit is going to trigger the scaling request.So all this happens is called a control loopand this control loop is executed every 15 seconds.So next, how is HPA configure in our Kubernetes cluster?So that's another important thing which we need to know.So HPA requires scaling metric.So example, you can take our scaling metricas CPU utilization and target value.So which is nothing, but in our, in your metric,what should be your target value when that reaches,then it can do a scaling in or out,whatever is required based on that.So if it reaches 50% then scale out more,much like more number of pods need to be added.So target value is CPU 50%and minimum replicas in my application can be two, rightand maximum replicas can be 10.So whenever it triggers the scale out requestit can go up to 10 replicasand whenever it is in the cooling periodand then it want to cool downit can come back to two replicasand then leave the application with two replicas.In our example, we are starting with minimum as one replicaand then we'll go till 10 replicasand the command looks this way.Kubectl Autoscale deployment, demo deploymentand it's a means like deployment name and the CPU percentagewhich is nothing but the scaling metric is CPU percentand the target value is 50and mini is minimum replicas and max is maximum replicas.So this is about the HPA configuration,how we need to enable in our Kubernetes clusterfor a specific application,which is of kind deployment or replica setor StatefulSet, whatever it may be.So in our next lecturewe are going to work on the answer.So I'll see you in the next lecture,until then, bye bye.Thank you.