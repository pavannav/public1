# 17.2 Step-02- Implement SSL Discovery Host Demo

-: Welcome back.Let's go to our GitHub repositoryand implement the demo one related to SSL discovery host.So we need to go here and we arein 08 new ELP application load balancesand we are in 0810 right ingress SSL discovery host.And if you see here as part of step onewe already understood about what we are going to implement.So we are going to go to this respective ingress manifestand just comment this certificate ARN related annotation.So this annotation will be commentedand rest all is going to be as is from our previous section.And additionally we are also going tochange the DNS names a little bitso that we don't face any Route 53 caching issues.So let's go back to our visual studio code hereand go to the section 0810.And these cube manifests are a copyof the previous section which is 0809 name basedat OSE routing.And as usual we have the appone app to app three deploymentand note port services, no changes in them.So here you'll have something calledthe name of your ingress service is going tobe ingress cert discovery Host demo.You can see here cert discovery host Ingres.And now if you come down here, so this certificate ARNrelated annotation is commented here.So earlier it used to be this wayand now we have commented itand rest all is going to be as is.But only thing is earlier you have seen default 101.Now you'll see default 102.And here also you'll see app 102 and app 202.So this is to avoid any Route 53 related cache issuesbecause that demo we implemented just now and deleted themright the previous demo.And now immediately we are implementing this demo.So if you use the same DNS namessometimes due to route 53 cache issuesyou'll not be able to access your application.So that's the reason we change the naming conventiona little bit.But as part of this SSL discovery host option, right?So whatever the host present here it is using some somedomain name.stack simplifi.com and some domainname.stack simplifi.com.So it need to automatically associate the star.stacksimplifi.com SSL certificate from certificate managerto our application load balancer whenever wedeploy this manifest, right?So this is 04 ALB ingress certificate discovery host.So let's come here and the next step here is rightSo the next stepfor us is to go ahead and then deploy these manifest andthen test it.So we'll come out of 0809and we'll enter into 0810, right?So 10 which is ingress SSL discovery hostand we'll say Cube CTL apply hyphen F cube manifest.And let's waitfor the Kubernetes to deploy these applicationswhich is app one, app to app three deploymentand note port service and also ingress cert discoveryhost related ingress service.So as usual we can verify, get ports and app one, app twoapp three should be runningand we we'll also see the SVC, which is services.Our three note port services should be createdand we'll also verify the ingress service rightand our ingress service also displayed here.The important thing for this demo is to verifyyou didn't mention any certificate ARN annotationin your ingress service related Kubernetes manifest.And what we need to do, so we just need to goto our easy to hear and go to load balancersin this cert discovery host English related load balancer.So we need to go to listeners and you need toverify the certificate associated with it.See this is the one right?For the 443 listener port, you are edit certificate.So you can see it has successfully associated the star.stacksimplifi.com related certificate.So which if you want you can go to ACM and alsocrosscheck the certificate.So which clearly states that without mentioning thecertificate ARN related annotation with the SSL discoveryhost option by default automatically it can where checkfor that certificate present in certificate managerand associate for our application load balancerautomatically from our ingress service, right?So now let's come back here.So we have successfully verified this thing andif you want you can also verify the log.So again, the these steps are same as our namebased virtual hosting.And if you want you can also access our applicationand then verify.So you can see here, so let's wait for all the logs todisplay and you can see app 102, app 202and default 102 DNS records also created.And if you want we can also do it and this lookup testand that looks good.So app 102, it looks good.And also app 202 and it also looks good.And if you want you can also access these thingsfrom browser, right?So I'll close the certificate manager here and you can seeapp 102 with app one is accessible andin the same way we can go here and app 202 shouldwe should access the app two and it is accessibleand we'll also access that default 102, right?So this should display that default applicationwhich is kubernetes fundamentals demo.Now let's come backand destroy these manifest or delete these manifest.So this completes the SSL discovery host related things.So without, without mentioning the certificate ARNso automatically ingress can automatically discover theSSL certificate and associatedto the application load balancer using this host value.Whatever the DNS name associated hereare the host name associated here.So in our next lecture we are going to learnabout the SSL discovery TLS option.So I'll see you in the next lecture.Until then, bye bye.Thank you.