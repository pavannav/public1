# 11.10 Step-07- Introduction to Kubernetes Ingress Class Resource

-: Welcome back.As part of step 05, we are going to understandabout the ingress class concept in ingress controllers.So if we go back to our PowerPoint presentation here,and let's understand the problem scenario hereand where the ingress class comes into the picture.So if we have multiple ingress controllers runningin our Kubernetes cluster,how to identify to which ingress controllerour ingress resources service should be associated to.So if you take your Kubernetes cluster,you have E case ALB-related load balancer ingress controllerinstalled on your Kubernetes cluster.And also you are running the NGINX ingress controllerand you are also runningthe AKS application gateway ingress controller.So assume like this multiple English controllersare running in our Kubernetes cluster,and you have deployed your ingress resource using kubectl,our ingress service.And that ingress survey should be associatedto which ingress controller?So there comes the concept called Kubernetes object typeor Kubernetes object of kind ingress class.And not only these three English controllers.So if you see here,there are many ingress controllers available in the marketas on today from Kubernetes perspective.So to identify and associateyour respective Kubernetes ingress serviceto a ingress controller,we use the concept called ingress class.So this is the high-level definition of the ingress classwe are going to defineso that it is going to associate itto our ALB ingress controller.So if you see here,standard Kubernetes YAML manifest format,API version, kind, metadata, and then spec.And API version for ingresses,we are going to use networking.k8s.ivo/v1.So earlier in the ALB 1.1 version,we are using a different versionwhich is not supported in the latest Kubernetes versions.And now the supported version is going to be this one,the API version, networking.k8s.ivo/v1.In fact, this is the reasonwhy we are redoing this entire use case herein addition to also the new version of AWS loadbalancer controller also introduced.And you can see here the kind is ingress class.In metadata, we have the name and annotations,and in name, we have provided the nameas my AWS ingress class.And annotations, we'll come back to it later.And in the spec, this is the important part.You have the controllerand you are defining the controller as ingress.k8s.aws/alb.So here, use this ingress class, right?So whatever the ingress class you are deploying,so this is tied to your controller,which is nothing but your AWS ALB ingress controller.And whenever in the ingress serviceyou use this name ingress class name,whatever it is, my AWS ingress class,so which means that ingress servicewill be associated to this respective controllerwhich is AWS ALB ingress controller.So now let's come back to this annotation,ingressclass.kubernetes.ivo/ is default class and then true.So what exactly this does?So let's see in the next slide about that.So you have a ingress class, right?And you have a ingress resource.So we are going to do a ingress resourceby live template writing in upcoming sections.But this is just to understand ingress resource is nothingbut it's like you are going to createthe application load balancer using the Kubernetes manifest.So on a high level, I will explain it here,and in upcoming sections in the next section,which is ingress basics,we are going to do the live template writingfor this respective resource.Here, the point we are trying to understandis about the is default class equal to true or not?So this is APA version networking k8s.ivo/v1,and kind is ingress.So you can see here this is the ingress classand this is the ingress.And metadata and name, you can see ingress NGINX app fun.So this is the ingress service you are going to create.And we'll leave the labels.It's a standard one.So we'll go to annotations,and you can see here ALB ingress kubernetes.ivoand load balancer name you are giving app one ingress,and also scheme, you are saying that this ingress serviceshould be created at the internet facing.So which means this creates the application load balancerin AWS as a internet-facing load balancer.So here comes the API version, kind, metadata,and then spec.In spec, before going to this ingress class name,also review this default backend.So this default backend has a serviceand whose name is app one NGINX note port serviceand this note port service will be listening on port 80.So which means this application load balancerwill have a default backend, which will send the trafficto the Kubernetes service off type note port.And inside this note port, you'll have a selector labelswhich will be pointing to your deployment,Kubernetes deployment, where you'll havethe upward NGINX engineers deployment.The functioning of ingress service or resources,not the core concept here.Important thing here is, so let's understand this.So you see the name of your ingress classes,my AWS ingress class.And inside this ingress resource,you are saying the ingress class nameis my AWS ingress class.So if ingress class is not definedas is default class equal to true,then ingress resource, right?We need to define the spec.ingres class name,whatever you want to specifyso that this resource will be directly associatedwith the English controller,which is nothing but AWS ALB ingress controller.So now here comes the point.So if we enable these two lines,annotations and then say,this has the default ingress, right?So which means you're saying AWS ALB controlleras the default ingress in your Kubernetes cluster.So at that point of time,this value which is ingress class name,whatever you are defining here,you really don't need to define, you can comment it.So how many number of ingress resourcesor services you are going to deployall will be associated with the ingress controller,which is defined as the default in your Kubernetes cluster.So this completes the high-level introductionabout ingress class, and in our next lecture,we are going to practically implement this.So I'll see you in the next lecture.Until then, bye-bye.Thank you.