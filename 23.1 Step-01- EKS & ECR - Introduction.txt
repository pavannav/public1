# 23.1 Step-01- EKS & ECR - Introduction

-: Welcome back.In this section, we are going to understandabout Elastic Container Registry in combination with EKS .So far, whatever the Docker imageswe are pulling and then testing in this courseare from our Docker Hub repository.So now, how we are going to use Elastic Container Registrywhich is AWS' registry for our Docker images?So we are going to build a Docker image locallyand then push it to container registryand pull that from this ECR to EKS deployments,whatever we are going to deploy.So the entire use case we are going to testin this respective section.So moving on.So let's get little bit background aboutwhat is this Elastic Container Registry.So ECR is a fully managed Docker container registrythat makes it easy for developers to store,manage and deploy Docker container images.ECR is integrated with elastic Kubernetes service,simplifying our development to production workflow.So, ECR eliminates the needto operate our own container repositoriesor worry about scaling the underlying infrastructure.So, ECR hosts our images in a highly availableand then scalable architectureallowing us to reliably deploy containersfor our applications.Integration with AWS identity and access managementprovides resource level control of each repositoryfor us accordingly how we need it.With Amazon ECR, there are no upfront fees or commitments.We pay only for the amount of datawe store in our repositoriesand data transfer to the internet.So moving on, Elastic Container Registry benefits, right?So, on a very high level,you can say it as fully managed, secure, highly availableand then simplified workflow.So, how easier is going to work?So let's say, I am a Docker developeror whatever maybe the developer I am trying to,I created a Docker image.And then, I am going to push youto the Docker image related Elastic Container Registry.So usually, in regular days,we usually push it to our Docker Hub repository,which is open.But if you are dealing with AWSand then if you want our thingsto be from AWS perspective only,and then we don't want our things to go outside the AWS,so then, we can push our Docker imagesto Elastic Container Registry in AWS.Then this ECR images, whatever we push here,can be used in different places.One is Elastic Container Service, which is ECSand Elastic Kubernetes Service,which is this course about.And also, On-premise environments if you want to.So how it is going to happen, right?So, these respective services...Whatever the deployments you performin these respective services,so those are going to pull the imagesfrom this Elastic Container Registryusing a repository URL, whatever it provides.So, that's about how the easier works.But how we are going to do iton Elastic Kubernetes Service in a visual manner?We are going to see.Before that, we'll go back to our GitHub repository.And now if you see here, in AWS EKS Kubernetes master class,so we are in our 10th section,which is ECR, Elastic Container Registry Sectionand EKS, right?So in step one, we are going to understandabout what are we going to learn.So, we are going to build a Docker imagelocally on our desktop and push it to ECR repository.So update the ECR image repository,URL in our Kubernetes deployment manifest.And then, we are going to deploy to EKS, okay?So, when we deploy it, right?So it is going to create a Kubernetes deployment,node port service, ingress service,and then external DNS service will be used.So full on deployment we are going to dobecause the current node, whatever current node group,whatever we are going to use is a private node group,which means you cannot just deploy a node port servicewith the node port service and then access it via internet.So that's the reason.We'll also use the ingress service to be deployedand then we'll test it.So, we are also going to use a dedicated host name,ecrdemo.couponcloud.com.And then, we'll access and then test it.So let's go back and then see whatever we are going to doall these things in a visual manner.So, let's go here.And in AWS cloud,as a developer, I create a Docker imageand then push it to Elastic Container Registry.And from EKS cluster perspective,whenever we create a EKS cluster,it creates its own VPC's public subnetsand then, NAT gateways in,respective availability zones, even the private subnets.So the manager node group, which we are going to useis a private management node group.Means like we are going to create in a private subnets.So as soon as we create that node group,it enables the communication with the EKS clusterusing the NAT gateways deployed in public subnets.So now, these EC2 worker nodesare the nodes where you are going to deployyour workload on Kubernetes, right?So these goes outbound connection to EKS clusterby a NAT gateway.In the same way, if it need to pull the Docker image.So, you have done a deployment now.and then to pull that Docker image, right?For that deployment, it need to go via NAT gatewaysand then go and then pull that docker image from ECR.So, and then create the respective ports for us.In addition to that,equivalent ECR demo related node port serviceand LB ingress service will get created.So as part of LB ingress service,it also need to reference the certificatefrom certificate managerand also it need to register the ecrdemo.q1cloud.cominside the route 53 service, right?So, that's about it.Finally, as users, whenever you are planning to access,you provide your URL, ecr.demo.kubeoncloud.comand it comes to via route 53.Means, like it'll resolve to route 53and then come back to our LB ingress service.And then from there,we already provided the slash star as the thingso path for our routing.So automatically, it will come to this node port serviceand go to this respective ECR demo port,and then saru the static page,whatever we have deployed.So that's about the overall introductory section.So, I'll see you in the next lecture.Until then, bye bye.Thank you.