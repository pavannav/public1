ript


5:48
So guys uh welcome back and let's continue with the next part. Okay. So
5:53
last few classes there guys we uh was discussing on one topic called VPC.
5:59
Okay. And that is more related to networking topic. Right. So today I
6:05
would like to start a new topic. Again this topic is related to security only
6:11
but is a new service or new topic. So I will have to start this topic called AM.
6:17
But guys we have some more small topic or some more topic I can say yet to be
6:22
discussed on VPC. Okay. But I will discuss guys those topic in the next upcoming classes. Okay. I intentionally
6:30
take am topic today. Okay. because all the new future topics are mostly depend
6:39
on IM and IM role permission policies. Okay. So to understand the next future
6:45
topics. Okay. So having the good knowledge of IM is very required. Okay. So that is the reason
6:52
intentionally I picked this topic IM. After this topic complete I will move to next topic or whatever the remaining
6:58
topic we have in the VPC that has been you not yet discussed. So remaining topic we will discuss in upcoming
7:05
classes but the core concept of VPC net gateway internet gateway how to get
7:10
subnet private all the things we have discussed right but based on some more remaining use cases we have some more
7:16
subtopic we will discuss remaining in upcoming classes right so today we are
7:22
going to discuss about one new service of AWS called AM okay so what is
7:31
IM is a one service related to security. I is stand for identity is one part of
7:39
the security and access is a different part of the security right and M is a
7:45
kind of management. So if you want to manage the identity and the access right then we have AM. So what is use case of
7:53
it? what I mean by identity and the access management let me explain to you okay but maybe
8:00
there's a possibility guys if you get the time today I might also start some of the part of CLI of AWS
8:07
okay so how we can configure and use the AWS command line tool to manage the AWS
8:14
so let's see how much how far we reach today in this topic accordingly we also pick this topic today otherwise in the
8:20
tomorrow class okay So, so let's start about IM.
8:27
So, what's the idea? If you want to use AWS is a cloud.
8:34
Okay. So, there's a two different um uh
8:39
way or two different kind of uh things who can access the AWS cloud.
8:46
So somebody who is a human being we right can access the AWS cloud and other
8:53
one would be uh there's some uh use cases where we human being don't
8:58
interact the cloud directly instead of us right some other one who will
9:04
actually login in AWS to as cloud and then use it mostly those things are your applications or a program or the
9:13
software so my point here is if you want to use the AWS either we as a human being use
9:20
the AWS cloud or maybe instead of human being okay my company has created
9:27
one mobile app my mobile app is the one who is interacting with the AWS
9:32
okay or maybe I have web app is the one who is interacting to the to AWS or
9:39
maybe I might have my own programming language like Python PL shell scripting
9:46
All right. They are the one who use behind this is some kind of command line. They are the one who are
9:51
interacting with the with the AWS. So typically
9:56
there's a two there's two different way or two different things who can actually
10:02
access the AWS for what for managing the AWS. So the AWS management perspective
10:10
right there two different things. But if we as a human being try to interact with the AWS directly so for us we because
10:18
human being normally want to things to to very simple for us.
10:24
So they give a console means a web UI. So with the help of web UI we can interact with the AWS.
10:33
Okay. But your program mobile app web app and CLI they don't need any web UI even though how they can use the web UI.
10:39
So if I say my mobile app is the one who
10:44
go and click on some of the web page is not possible right. So this web page or
10:50
web UI is actually created for the human being. So we can use our mouse and interact
10:56
with the services. So this console or the web UI is only for the human being.
11:01
But for any app or the command line uh they will do everything behind the scene.
11:07
Okay. For example, in the mobile app and the web app. Okay, depend of your
11:13
programming language. Maybe you create in Ruby or Java or Python or Node. Okay,
11:19
or mobile app you create in Android and Cotlin and Flutter, right? So they have
11:24
a different uh you know they provide a different kit that we can integrate with
11:31
their respective language with AWS. This is called HDK software development kit.
11:36
Okay. So example you you have the program created in a Python language.
11:41
Okay. So from your Python programming language in the Python code
11:47
and from the code you want when the Python code run and your code will go and contact to AWS and launch AC2
11:54
instances or your code run sorry and put some
12:00
object in the S3 bucket. So inside the python right AWS has
12:06
provided some Python library. Every language has their own personal respective library. This library
12:11
technically known as software element kit provided by the AWS. Just for example perspective in Python as giving
12:17
us a library called boto or boto 3. Okay. Similarly for Java we have a
12:22
different library. Ruby we have a different library. Android we have a different library.
12:28
Okay. So from your um respective apps and the program right if you want your
12:34
program will go and do some element AWS then they give software development kit depend upon language to language and for
12:41
the programming perspective those software development kit are normally normally known as libraries
12:47
okay so either I can use library or I can use the word SDK is the same thing okay
12:54
this one thing or we can interact with AW command So you think you want to create some
13:00
scripts. Okay, a script is a different thing or app is a different thing normally. So
13:06
you want to create a script in your cell scripting or powershell. Okay, so you want to create a script.
13:13
Why I want to create the script? Because I want to automate something because I want to first launch my instance then
13:19
EBS volume attached. So rather than I manually do one by one I can write the script and in the script you always
13:26
write a commands. So we had command one to launch the issue instance command two uh to to
13:34
create the volume three to attach the volume and all this command we put in one file is called script when you run
13:40
the script everything can be automate done step by steps and for this you
13:46
should have a command line um you know capabilities in support this okay so
13:53
point is there's three different way okay three different way to manage is
13:58
the AWS cloud one this console way that we can use mouse right human being
14:04
manually go and do it that what we have done till date third way second way is
14:09
using the apps okay whichever language you create the app they have the HDK
14:14
available okay this is mostly for the developers so if you are the developer you want uh in your applications you
14:22
want to integrate and some other things then developer can integate with This and third option
14:29
would be especially for the admin guys admin guys sorry
14:36
they normally comfortable with the command line and they use the command to configure and manage service AWS. So
14:43
there three different thing available. Those who by chance know some automation tool for AW like terraform.
14:50
Okay. So Terapform guys internally okay use SDK only. Somebody has created
14:56
terapform in some particular language and that language use SDK only. So a terapform is also the example come under
15:03
the category two means app. Okay. But there's three different way to
15:10
uh to manage the services and configure the services in AWS. Okay. And that easy
15:16
reason guys right in any of the method you want to use the minimum requirement
15:21
would be you have to tell who are you obviously there's nobody can directly go
15:27
to AWS and log to your account and do something on your behalf. So for the
15:32
security perspective, nobody anonymously without any login and password go and do something in your account. Okay. So for
15:39
security perspective as say whichever method you use if you come to me and you
15:44
want to confirm something obviously you should have the account in AWS. That's what we already have. You should have the account in AWS and in account you
15:52
will use your respective services. So we can build to you only because you have the account. Okay. But how I know who
15:58
are you? How I check your identity? for for for your identity. Okay. Have to
16:06
use some method in the terms of identity management and the typical method for the identity management would be okay if
16:13
you are the human being. Okay. For checking and giving you identity, you have to give your username and the
16:19
password. That's what we didn't use till date. Okay. So human being can use the
16:25
keyboard mouse to type the login and password. We'll check the login and password. If the login password is right
16:30
then I can say you are authenticated. And because you login with this user so
16:37
then this user would be your identity. So I will I know you from your identity.
16:43
For example, I loging in with my account for my email id. So email id would be my
16:49
identity that from which a know about about me. Okay that's one thing and
16:55
identity sometime also known as principle.
17:01
Okay. So when I say identity principle or as a user almost they are the same
17:06
thing. Okay. But if you as a human being is not logged into AWS instead of on
17:12
your behalf if program is doing something for you command line thing is doing for you or CLI command doing for
17:18
something for you. So here these guys doesn't know how to login in the web console. Okay. Okay. So instead of user
17:24
and password, okay, these guys for authentication part and providing
17:30
their identity. So AW will check the login and password. So instead of username,
17:36
okay, we use access key and instead of password, we use secret
17:44
key. Okay. So if you create a one one web app
17:50
in a Python language or Python framework like Django, Flask and something like this whichever you know might right. So
17:57
there if you want these guys will go to AWS and do something on your behalf. So
18:02
Python will log into AWS with your access key and the secret key.
18:08
Access key like a username and secret key is like a password. Okay. So AWS
18:15
okay will check this thing authenticate you if they are right and say now I know who are you based on your access key
18:24
access key I know who are you so if you do something I know which user this
18:31
access key belong so key is just a key but we have to connect this key with some name it's al user username only
18:40
okay so example we have a let's say I create one user for women. Okay. So user is always like this this
18:48
kind of a name only and this user is most known as identity or most you know as principle. Okay. But this user we can
18:56
give a multiple different way for for authentication. Au means to log into
19:01
AWS. One we can give the password that is for the human being to manual login
19:07
and one we can attach this user with access key and the secret key for SDK or
19:15
programs and for the C. Okay. Whichever method you use login
19:21
finally AWS recognize you as identity called women. Okay. They will create a log and say now
19:28
this time women is the one who do something for you or this time women has no power or this time women has put
19:34
something in S3 okay why we have two different method because sometime we login with human
19:40
being and sometime on our behalf our script are doing something for us and for script they don't know how to type
19:46
the password so they use access key and secret key for login with your account
19:51
it's something like this so guys this is called identity management Okay, Identity management.
19:59
Okay, now what is access? Access. So before guys I explain you
20:04
access management, let me go to the service called AM. AM is one service. It is about managing
20:12
access to AWS resources. What is access? That's what I'm going to discuss here. But let me go to the service right now.
20:28
Okay. So from this page if you want to create a user that is also known as
20:33
identity. Okay. We have this option called users. From this we can create
20:38
the identity or we can create the user the same thing. Okay. So let me create a one user or the
20:46
identity. So let there's option called add user. I'm going to create a user with my name
20:53
Whimble user one. Okay. Now here how
21:01
somebody is going to access your account there two different type. Okay. Does
21:07
they access manually as a human being? They want to use console. Then we need a password.
21:12
Okay. But no in your behalf nobody human being is going to login. Then in this case you can give this access
21:19
programmatic access means for the SDK CLI AI you can do for that is mainly used by the developers or the admin guys
21:25
in the scripting here they will create access secret for you human being won't
21:30
able to login because they don't create a password or can you can create both also password here they give autogenerate
21:37
password or you can give your own password whatever password you would like to type here
21:45
okay and plus One more thing you can do because this is one user we are creating here. So I want when this user login
21:50
first time they will change their password. All right because normally we create hundreds of users and we've set
21:57
some default password. I want everybody after login they will change their own password so that nobody use misuse their
22:02
password as a default password. So we can give this option that's a pretty straightforward thing. Okay. So this is
22:08
how guys we can get a user or the identity and give the respect to access either login by console or with the help
22:14
of some development tools. Okay. Now after this after this user
22:22
created let me change my password. Okay I can memorize uh even though guys
22:28
in the password there's a password policies. Okay. So by default password policy in
22:34
Amazon is if you're giving the password your password should be minimum eight character long. You have to use some
22:40
upper case lower case some special symbol to make the password strong. So nobody can do some brute for attack to break the password. So there's a b
22:47
policy we have but we can change our own custom policies how I can tell but let me give some password some bigger number
22:55
with numbers and some special numbers. So now this warning goes uh change and I
23:00
don't want to change my password after load. Okay. So this screen guys is very simple nothing very special. Now after the
23:07
screen guys they're asking you you're creating a user called VML user one what permission you want to give?
23:14
Okay what mean by the permission? Okay so idea is very simple. Whenever
23:22
you create account in AWS first time that time you put your credit card or the debit card you give your email id.
23:29
So in my case let's say my email id is vl at the rate at the rateg gmail.com.
23:35
So this is the first time guys I create the account and this account we log till date. So this account that I created at
23:41
the demoing the account is known as root user means the main admin user. This user
23:49
have all the powers. This user can go and use any of the service. This user can create a more user. This user can go
23:56
and check my bill, change my credit card details. All the things this user can do, right? Any admin things, all the
24:04
things this user can do. Okay, that is called root account. But this user
24:09
because this have all the power. So it is good practice and the best practice security
24:15
is don't try and never log to this user.
24:21
Okay, it's not good practice to log to this user and for after login do something and don't try to give access
24:27
key security of this user. Okay, that is reason guys we have a different way to
24:33
create the access key security for the user. For example, for the root user, if you want to create, let me uh open a new
24:41
tab. For the root user, if you want to create access secret key, you can't create from
24:46
IM because this is a very sensitive user. So, we have a different page all together in security credentials. All
24:52
right. This user has a different page
24:57
from where I can create my access key secret keys. I click here and this access the secret key for my uh tools of
25:05
programming uh for root coordin from where we came to but not good practice to create for this user okay and it good
25:12
practice also not use this user to login okay the good practice would be okay
25:18
from this user initially login first and after this go and create sub sub users
25:25
for example in my case user for example create some sub users
25:31
Okay. And from this user login and do the remaining part. Okay. The
25:37
beautiful thing is when if you create a sub user that time they give you a capability.
25:43
Okay. That this user can we can restrict with some limited permissions or limited power I can say means I can restrict and
25:51
say when this user login this user have a limited power. This user won't able to create any other user change other
25:57
password. this user can can't do anything in my billing account, change my credit card and something like this.
26:03
This user can only do something in issue service in S3 because I know in my my uh
26:09
my project there's two service we need. So I had to give all the other power and this user will go and click and want to
26:16
create a bill. Okay. So there's one more benefit of having this sub user or identity user.
26:24
Okay. So that while creating we can limit this guy with some kind of permissions.
26:29
Okay, that's what the screen is talking about and limiting of any user that this user can only do these many thing. Okay,
26:37
for example, they can only access this services. Now this is called access
26:42
management. Okay, and that is reason guys why is IM
26:48
called IM identity and access management. If both thing you want to do then IM is one service through which you
26:54
can achieve. Identity means creating the account. Access means giving this account limited permissions.
27:01
Okay. So that's what guys they're asking here. So this user that you're creating right now which permissions you want to
27:08
give? Okay. Let's say I don't want to give any permission. Let me click next.
27:16
Let me click next. Okay. So they say they they should have no permission and by default if you give if you don't give
27:25
any permissions right by default is they will create the user without any
27:31
permission means after user login I can't do anything I can't use and uh and
27:37
configure and use any of the services okay that what this what this line is
27:43
talking about okay how to give the permission that we'll discuss in a minute when you first get the user
27:49
This user is created without any u permission.
27:55
Okay. Now this user we can login with console. How for this? Because this sub
28:01
user is not a main root user and for the sub user they give a different URL auto for login.
28:08
Okay. And the unique thing about this URL is this URL is is is unique for every account. So this is my
28:15
account. So my account all of my sub user of my account they can login with this URL in the URL they will add my URL
28:23
and host name with my account ID. So here the same account ID. So this URL is unique for all the account of every
28:31
account of AWS. Okay. So let me you use this account. Okay. And let me open new
28:38
terminal because this one account I already lo in in with this tab. So let
28:44
me open you in cocognto. When you click this they will lend it to a different
28:50
URL where they auto put your account ID. Now here whatever user I log in I login with sub user and sub user also known as
28:56
IM user. In my case I create account called one with this password.
29:02
Okay. And because I have given this user console access so this user can log to
29:07
my console. But after login to console because this user have no power. The first time we
29:14
logging no power. So from this console if this user tried to use any of the
29:21
service for example EC2 okay and if you try to go inside EC2 you
29:27
will see because this user have no power. So in EC2 okay they won't able to do
29:32
anything even though they won't able to see how many instances are okay they don't
29:40
have any power to read and to delete to go to my billing account if you guys try
29:45
to go to bill account no nothing this user can do okay how can we give the power that's a
29:51
different point we'll see in a minute okay no power none of service they can uh perform and use okay this one thing
30:00
Now point here is right now I'm login with the user with my console but if you
30:06
want to login this user with your Python code or Java code or command line then we use this access key or the secret key
30:13
okay I'll show you guys in sometime when I show you how to use CLI that time we're going to use this key okay in the
30:19
future so I'm not using this key right now so let me close this page
30:25
okay now what we have we have one new user created You can see from here also this user
30:31
created okay user one and they can see from this page you can see last activity this user
30:38
login one minute ago okay when I click on this user
30:44
you will entered to this user particular page okay this is the user identity mean this user we have this is the page of
30:51
this user okay and from here you can see how many permissions they have so right now there
30:57
has no permission otherwise You can see the permissions here because we haven't attached any permission to the time of
31:03
creating this user. Okay. But let's say I want to give this user a power. Now
31:08
what power you have to give that will be your decision. Okay. So let's say in a company. Okay. Let's say there's two
31:15
different employee in the company. One employee name is Wimmel and Wimmel is let's say
31:20
the project owner. Okay. Okay. And from the VML you have use account ID his
31:26
credit card and this become your root user. So this user have all the powers.
31:32
Okay. But let's say you want to create one more user in the company. Okay. Let me change the name here to
31:38
make it little bit more clear. Uh so let's say the username called Jack. This is also one of the team member in the
31:44
company name is Jack. And I want after Jack log in Jack will have a limited
31:49
power limit access control or access I can say
31:55
what power the J will have Jack can do anything my EC2 that's all J can't do
32:00
anything in my in any other services so by default everything is denied whichever power you want to give you can
32:06
give it how by attaching the permission and how we can attach the permission to
32:11
the user for example this is the user we have user we have. So how can we give the
32:19
user app permission? Right now this user have no permission. Who this user
32:24
have no permissions. Okay. But if I want to give this user permission permission
32:30
so this option here in this user tab okay it's called permission we have to
32:35
give. So you have to add the permission. I say yes. Which permission you want to add? There's option called attach the
32:41
permission. Okay. And here guys, there's lot of different different
32:47
permissions being provided by AWS. Okay, for because maybe there's a
32:53
possibility I want to give or permission only for EC2. So if you search here EC2
33:00
enter here they show you all the possible permission available in E2.
33:06
For example, you want to give a user only EC2 read only permission. So this permission
33:13
and this is the permission name. Typically permission here is known as policy.
33:19
Okay. And why they use the word policy here? We'll discuss but this is the full name is called permission policy.
33:25
Okay. So we are going to give this permission policy to this user. And even though they give a very simple name to
33:31
this permission policy by looking at the name we can see this Amazon is service read only means any user that we attach
33:38
to this permission policy they will do anything in isue to services but only
33:43
read only means they can't edit they can't delete they can see the things
33:48
okay so this permission policy or permission or I can say policy in simple term is been given by AWS and that is
33:57
reason it is known as AWS managed Means AWS has given us precreated we can actually use it. What I mean by this
34:04
we'll discuss in more detail when we get our ourself our own. But let me attach this permission policy. Click next.
34:11
Okay. You want to attach? I say yes. Now this user have now one permission we
34:18
have is called EC2 only read only one permission we attached. Okay. Now, now in this case, wherever
34:24
the user login, last time you see this error with this user when I now, now if I refresh, you will see something
34:30
different come up. Now this time they can see all the details number of security groups in
34:36
organo let's say if I go to go to Mumbai
34:41
then the Mumbai whatever guys number of instance we are running we can see here
34:47
for example three instances we have okay one thing guys this is a sub user of
34:52
your account okay IM doesn't create a new account for you so whatever account you have see
35:00
guys your main account name is called last 1 2 92. So in this account any of
35:06
the service you're using or any of the resource you created this user can also see the same if they have the power to
35:11
see. Okay. And that is reason the account name look like this. Okay. Your username
35:18
at the rate your account and this sub user and we created this sub user only for one purpose.
35:25
purpose is so that my main root account have not to login in the uh in your AWS
35:32
console my my team member with their respective power with the password they
35:38
can login and they will manage on my behalf or maybe I don't want to log into my main account right user because it's not
35:44
good practice okay but this user have only read only permission they can see the thing but right now if they try to
35:51
delete this particular instance Okay, terminate this instance. Okay, in
35:58
this case you will see this error. Fail to terminate because you're not authorized to perform the opposite. Why?
36:05
Because you have body only power. Similarly, if this user try to go to S3 services,
36:12
okay, S3 services. So they can't see anything S3 because this user have no power for S3.
36:20
So in S3, okay, everything is clear. they won't able to list anything in the bucket.
36:27
Okay. So if you want to give this power so we can add one more permission
36:34
add and I would like to attach one more policy or the permission right related to S3. So AWS has given pre-created
36:41
permission which is just for S3 and you in the S3 you want to give what power? Let's say I want to give S3 full power
36:48
full access means this user can do anything S3 they can delete they can
36:54
create whatever thing possible in S3 create bucket change life cycle whatever you guys know in S3 everything they can
37:00
do for you so this user have two permissions has been attached
37:07
okay now last time guys they're giving this error okay guys even though I let's take let's copy this error because we
37:14
use this error somewhere. Okay, so I'm just copying this error for some time. Okay, so this error say you
37:21
don't have a permission to do something S3 is called list or bucket.
37:28
Why? Because right now guys when you open this page first time they show you
37:33
all the bucket name and when they show you all the bucket name. So behind the scene they require only one permission
37:40
to list all the bucket and last time because we don't have this permission.
37:45
Okay. And that is the reason this page fail. But now we given all the
37:51
power to list to all the things also because we give all power. So they can do anything over here. Okay. So they can
37:58
list the bucket, they create the bucket, they will delete the bucket, whatever the possible thing.
38:04
For example, I want to delete the bucket. I click here, delete. And let's say do you want to delete? Enter the
38:10
name of the bucket to delete. Copy, enter, and delete because they have all
38:15
the power. Okay. So point here is u if why you want to create a sub user
38:23
one because this user will be will manage on your behalf your some services
38:28
what services they can manage it has been purely managed by access management what power permissions you give okay and
38:35
permission power is given by the policies
38:40
okay so what AWS has done right all the very common use cases that we very
38:47
frequently use in the real world. They created a precreated policies for us.
38:53
Policies for access management. What do I mean by policy here? Policy
38:58
means policy means that that if somebody
39:03
want to do something EC2 so in EC2 they can list all the instances, they can
39:10
modify the instances, they can delete the instances, they can create the instances. So this information we write
39:17
somewhere in one document. And this document we give some name.
39:24
Okay. So this document is known as policy. And what name we give it is is a policy
39:31
name. And therefore guys you have seen here. Okay. So these are the
39:38
policy name or the document name. Same thing inside this document. Okay.
39:44
Somebody has given this information okay that if anybody use this policy or
39:51
document we will give this power this power okay and this document AWS created
39:58
for you because they feel this is a very common use cases giving somebody EC2
40:03
power all power read only power S3 power read only power so this is very commonly used access management so AWC say rather
40:11
than you create always in account we have given you pre-created policy documents so that you can use wherever
40:17
you want to use. So these document that is given by AWS pre-created are known as
40:23
AWS managed policies.
40:30
Okay. So if you see guys here is in this the policy this is for AW manage
40:35
policies. Even when you click on add one more permission. Okay. Okay, I'm going to attach one more policy means one more
40:41
policy document means one more power to grant extra permission to this user.
40:47
So these are the 786 total AWS managed type is managed.
40:56
Okay. So based upon the real use cases and very common use cases this is very common thing that that is very common
41:02
thing that for example if you go to VPC maybe okay so it's very common thing in
41:08
VPC that somebody only want to admin the things means the monitoring the things
41:13
they want to see the thing what is going on but they don't want to create so they create one VPC read only access so this
41:20
document they created for you okay who created AWS managed
41:26
Okay. And if you give this document that user will have a read only access. Okay.
41:31
But what this document is this document is a some kind of code
41:36
written in a language again called JSON. And this code guys is exactly almost
41:43
same what we have discussed in the bucket policy. You know guys in S3 guys this topic I discussed in very detail
41:48
bucket policies. Okay. In S3 this topic we already covered and if you want to create any
41:55
policy we normally use just one with the J just one we create one document and whichever
42:03
user we connect this document that power we can we we attached almost same
42:08
concept okay but S3 bucket policy is only for S3 only
42:13
okay but the policy that we are creating in AM okay is for all the services
42:20
so if you want to restrict any of services for EC2, S3, machine learning, deep learning, IoT, quantum, whatever
42:27
service AWS has, right? You can manage every and all every user and services
42:33
with IM is like one centralized uh service to manage everybody power and
42:39
access management. Okay. But the concept wise and how this
42:45
document look like wise and the keyword wise they are almost what we have seen in the market. But I will again tell you
42:52
one more time how this document has been created. But right now the only focus area would
42:58
be would be that whenever you create a user
43:04
okay user we give login and password access key secret key. Okay. So that as
43:10
will know your identity. Okay. They know identity in this way with the name of
43:15
the user and the account ID. Okay. But after this after this user login what
43:22
this user the what this user can do is depend upon the policy we have attached
43:27
and whatever policy we have attached that permissions they will have and that is reason that is known as permissions
43:33
policies. Okay that there's many things this user can do and how many policies
43:40
we have right now we have test two but we have more we have more we can give
43:46
more power to this user if you want. So these are the policies we have.
43:51
Okay. So we have total 985 different policies available right now at this current point in time. AWS is keep on
43:59
adding more and more policies. Okay. But if you guys see here okay
44:05
there's a different different types of policies. Okay even though there's three different types of policies available.
44:12
Okay there's three different type of policies available. So if we talk about the policy type
44:19
okay policy type in the means of who create the policies or who create the policy document or write the policy code
44:26
in JSON language so there's three different way right this document and policy has been
44:33
created again I repeat guys policy is the one who give a power and permission
44:38
to your user okay now it doesn't matter user login in
44:45
console or CLI or SDK. Okay, power will see same access will be different.
44:53
Okay, access may be CLI or mobile or maybe web console. But if this user have
44:59
this permission only that permission has been allowed to that guy we'll we'll we'll talk on this topic in more detail
45:05
when I talk about CLI. Okay. But if you regard the policy type, how to create
45:11
the policies? So one way is to create the policy. It is been created by AWS
45:17
managed where you don't have to create it. AWS has given you lots of pre-created policy based on different
45:23
different requirement and use cases. You can use accordingly what access you want
45:28
to give to that user. Okay. Second type is customer managed.
45:35
So we are the customer of AWS and we can create our own policies based on our
45:42
custom use cases. So there may be use case where
45:47
where I have a very different requirement and that policy is not available by AWS. Then we have to create our own. For example, for example, AWS
45:56
have have no for example policy where I can restrict
46:01
that I have 10 EC2 us operating system 1 2 3 and four. So I want these three
46:09
operating system can only read only mean my user let's say
46:16
or let's say check for example right so my user check can only read only this
46:22
particular instances they can't edit or delete or change anything but fourth instances they can do uh read write
46:29
means they can do anything they can delete terminate and modify so there's a very custom requirement right I'm giving
46:35
you one example example here but it would be any other requirements. So AWS has given you very commonly
46:44
use usable policies that's called AD manage that's what they created for you but based upon your projects and
46:50
requirement mostly you have your own custom requirement that is very most common thing okay where you have to
46:57
create your own okay so I can use the word you have to create your own policies and that is called customer
47:03
managed okay so these are the see here customer
47:09
managed as policy created US when I say us it means sometime AWS also create for you automatically.
47:15
So when you use one services right and sometime when you create new services internally they create this policies for
47:22
you automatically on your behalf. Okay, what I mean by this when I show you some other service in the future
47:27
I'll tell you but technically custom managed means it is not available initially in the account either you
47:33
created how to create I'll show you today or either you use some of the
47:38
service sometime you have some requirement of some two service we are connecting behind the scene and AWS ask do you want to create so they will
47:44
create for you automatically that's a different point but these are the customer minutes somehow we have created
47:49
okay and one more thing is inline so inline is also our own policy that we
47:56
have to create. So these two policies custom manage is created by us in line
48:03
is also created by us. But what is inline where to use that word? I'll tell you in some time
48:08
okay sometime I I'll tell you okay but there is a three different way
48:14
or three different kind of policies um available in the terms of how and
48:20
where and who get the policies. Okay. So, so if you if you search here the
48:27
type so job function is different point but let's say here they only only showing customer and AWS managed inline
48:34
they won't show you here why I will tell you in some time where we use the inline if you search here AWS managed so these
48:41
are the total AWS managed services means this not services policies is given by
48:48
AWS that you don't have to manage and you don't have to treat Okay. But if I search here
48:56
uh custom manage, so this is created by you somehow by manually or by
49:01
automatically by some other service click you have done and it is created automatically for us. Okay. But where is
49:09
in line visible and use of it? We'll see in a minute in some time. Okay. Now let
49:15
me tell a little bit more about a manage then I'll show you how to get our own policy. That is very fun part.
49:22
Okay. So again if I go to my user okay and let's say I want this user have all
49:28
the powers. Okay. So we have some permission already exist.
49:35
Okay. For this I don't require to give this permission. So I can remove it. Do you want to detest interesting thing
49:41
is as soon detach this permission will be removed from this user. Now this user
49:46
if they try to do something S3 okay now this will fail because we removed this
49:52
permission from this user okay so everything has been failed and
49:58
same thing if you remove this permission now this user won't able to do anything in DC
50:04
test and technically this have no power as such okay as such but let's say I want to
50:11
give this user all the power So guys everything is detached or if we
50:16
go to this page nothing will be visible. Okay. So if I want to give this with all the power so we can give a add
50:23
permission attach. Okay. And there's admin access.
50:29
So admin access means I'm giving this user all the power. And this user guys this permission also give the power of
50:36
IM service. Means this user can access all the services include IM.
50:44
Okay. And what is interesting about IM is means from this sub user from the sub user.
50:51
Okay. This user can go to my IM and create other users also. So sometimes
50:56
very dangerous. Okay. This the sub user. So this user have power to create other
51:02
user remove other user change other password. So if you really want to do this then do give this permission.
51:08
Right. Otherwise this might be some harm may be created. So this user can create other user, remove somebody, change
51:13
somebody password sort of thing can be done. Okay. So mostly the good practice
51:19
would be if you want to create some user sub user or IM user with all the service
51:25
power. Okay. So it's good practice normally let me delete first this one.
51:30
Okay. Rather than give the admin access by this way. Okay. How can we do? We can give a
51:38
different name here. It's called power user. Power user this one. So power means
51:46
power user is again policy name. Here we give this user all the permissions of
51:52
all the services. Okay. Only one permission they don't have is is the IM
51:59
permission. So in this case if they want to use any of the service they can use it with the all power of admin.
52:07
Okay. Only thing this user can't access is the IM service. So sometimes good
52:13
practice to give the power user permission. Okay. But either you give admin or power
52:18
user none of the cases they can access your billing account. Billing account is only be accessible by your root account
52:26
only. The main root account is the one who will access your billing account otherwise nobody can access. What a
52:32
power you give. Okay. So there's one small thing. Now this is what guys we
52:40
have created. Now let's see this is the permission is being created by AWS.
52:46
Okay. Now if you want to create your own permissions how we can create this for customer managed.
52:53
Okay. So for this let me first delete this.
53:00
Now this user have no power in any of the services. Let's say I go to EC2.
53:06
this user have no power in the AC2 everything has been restricted but let's
53:12
say I want to create a policy this is my custom policies or custom permission
53:18
right where I want to give a user with a different kind of custom okay let's say
53:24
my requirement may be something like this that this user can only list AWS
53:31
instances only or maybe this user have only permission to list the bucket name
53:36
that's all the bucket name that's my requirement
53:42
okay but they won't create a bucket they can't they can't they won't able to go inside the bucket they won't able to upload the object list the objects I
53:49
want only they can list my bucket okay so it's a very custom requirement
53:54
okay so if you only want to list the bucket that was the action you want to perform
54:00
so action would be this one I want to allow this is effect this is effect I want and
54:08
what effect I want I want to affect on this action okay in S3 service okay we can and we
54:16
can only perform listing of the bucket not going inside the bucket not creating the bucket not listing the object only
54:22
listing the bucket this permission I want to give so very custom requirement maybe have some use case of it okay and
54:29
this kind of custom requirement AWS has no pre-created permission in the policy for this you have to create your own
54:35
permission and the policies. Okay. So how you can create your custom
54:41
policies? So multiple different way you can go. For for example let me let me go to policies page.
54:49
Okay. Here guys we have options to create a policy in the top create
54:55
policy. Okay. And here uh we can create the
55:01
policy directly by typing the JSON or by typing the JSON require some of
55:08
the keyword knowledge of the JSON right and syntax also. So better would be they
55:14
give a one visual editor okay to uh so that we can click and
55:19
automatically you know like a automated way or graphical way your permission will be created but before I show you
55:25
this page let me show you first some pre-created permissions so you'll have a comfort you will be comfortable on it
55:32
for example if you go for uh S3 for example okay so there's a one
55:39
uh precreated AWS manage permission a developer
55:44
Okay. So if you click on it okay so there's one permission available
55:50
by AWS or one policy aws by chance the name of the permission is this one
55:58
this one and the arn of this permission is this one. This is a complete arn what is ar you guys know every resource have
56:04
unique name. Okay. And the policy document and the
56:11
code is in JSON and the look like it look like this.
56:17
And this is exactly the same what I show you in my bucket policy also. But let me
56:22
let me reexlain to you about this document. So this is JSON format and
56:28
there's a policy summary. So anybody who know about JSON looking at this document
56:33
give more clarity. and and and and by chance if you don't know JSON you can go
56:40
for summary they give a a simple look of it mean they they tell you in S3 is one
56:47
service technique they tell you here is in AWS we have right now 327 service
56:52
available right now at this point in time HC2 S3 Dynamob Lambda something
56:57
like this okay out of 327 services there are two services
57:03
okay that has been written in the policies two services see here S3 and S3 object
57:10
lambda one more service we have okay that's what they return and both
57:16
the service we have full access okay so power is allow full access and
57:23
where it is written the document here okay in both the service we have full allow access
57:30
okay and where in S3 all the feature of the S3 S3 bucket S3 S3 object S3 uh
57:37
event S3 uh life cycle management what all those things you know you don't know right start means in S3 there are
57:44
multiple subcomponent must multiple sub services typically known as APIs
57:51
okay one of the example of sub service API would be would be this one
57:59
listing the bucket so whatever you do in the graphical
58:05
portal. Okay. Listing the bucket, creating the bucket, getting the bucket, download
58:11
bucket, everything we have behind there some some program running and that program is called API. Every API has a name. So listing the bucket has this
58:18
API. Okay. So, let's get hold for a second, please.
58:44
so so for everything you do either from your graphical also behind the scene they're running some kind of function
58:50
and those function are normally known as API every API they give the name okay so in S3 they might be you you can might be
58:59
then 100 different things so 100 different programs they're running behind the scene 100 and 100 API they're
59:04
running behind the scene. Okay. So star means all the program all the functionality or
59:11
all the API. So what we want to understand that's what the var mean S3 service you can
59:18
use any of the feature of S3 and in all the feature we have the allow effect is
59:24
allowed you can put the deny also okay but it's allowed here that's what they're talking about full access
59:31
but in S3 okay there's a multiple buckets
59:37
okay so which bucket you want to give full access B1 bucket A1 bucket Okay. So in the S3 guys I had multiple buckets.
59:45
Okay. And every bucket have multiple objects. Okay. So which bucket and which object
59:50
you want to give all power either list or the get or delete or all the power if
59:55
I called resource power. Which resource you want to give. So in our case they
1:00:01
give all resources mean all the buckets and all the objects. And that's what
1:00:07
written here resource install. So S3 services
1:00:13
all the S3 bucket and all the S3 objects but if you want to restrict no I only
1:00:18
want to allow that particular bucket and that object you can write here
1:00:23
okay this policy token maybe for E is2 so in EC2 I want only want to allow only
1:00:28
this is instance with this name that's all so that what you can write here so
1:00:35
this is how your policy document look like so this document is created by AWS this go AWS manage document
1:00:44
manage document otherwise if some kind of custom requirement for example my requirement
1:00:50
be something like this I only want to allow particular bucket so that is not available in S3 manage
1:00:56
you to create your own custom one okay so that's what the requirement of custom
1:01:02
come in play but the custom will be look something like this so either you write your code in this
1:01:09
Okay. In this way, uh, so either you write your code by yourself, this called
1:01:15
JSON document or while creating the policy your own custom one
1:01:22
on custom one. Okay, you will create this policy by typing by yourself just on the way I
1:01:30
show you the code or of searching from the Google and type here and edit something the way you want to edit.
1:01:36
Okay? or this is some graphical tool available directly here and this will
1:01:42
auto create the JSON code for you. Okay. And here guys from here creating the policies is so so simple
1:01:50
for example. Okay. What I want to do here okay so let me first explain you
1:01:56
this screen. Okay. What about this?
1:02:06
So according to this screen, okay, what I
1:02:12
wanted to do, I want to create a policy.
1:02:18
Policy means okay where uh where when this policy is given to some of the user
1:02:26
let's see here we can give the user group and role also what is group and role we'll discuss sometime when this policy given to one of the user or
1:02:33
assign one to the user this user will have some extra power and
1:02:38
permission so which power and which extra permission to give that we'll write in
1:02:43
the policy or in the policy code or policy document
1:02:50
Okay. So let's say I want this user have some extra power on a service
1:02:57
called S3. Okay. And in S3 what they will do? Okay.
1:03:06
S3 might have multiple sub component sub feature.
1:03:12
Okay. One component may be listing the bucket, download object,
1:03:17
upload object, delete object, go inside the bucket, list the bucket. So these
1:03:23
are the multiple actions you have and this is more about the APIs which API
1:03:28
call you want to perform. Okay guys, don't those who are not comfortable with API don't worry about this.
1:03:34
Okay, action means which what they can do in S3. Okay, for
1:03:39
example, in the S3 does they can list the bucket, create
1:03:45
the bucket, these are known as actions. Okay. Now, resource means in S3 there's
1:03:52
a multiple buckets. Okay. So, which bucket they can perform
1:03:57
this action. Okay. For example, I say they can they
1:04:03
can create object or they can download the object.
1:04:09
Okay, they can deal the object. Which one? Which object? So here we can give my object name or
1:04:15
the bucket name. Okay, I can say my resource name.
1:04:21
Okay. And plus we can give some extra conditions. The condition will be anything.
1:04:27
Okay. So condition will be something like this that I show in the bucket policy also. So condition would be uh
1:04:32
they can only upload the object when they encrypted without encryption. to
1:04:37
allow or in the condition we can set the time between morning 8 or 10:00 a.m. to 5:00
1:04:45
p.m. only between this time this permission is allowed. So these extra conditions we can also apply here based
1:04:51
upon the required. Okay. So let's focus right now only in this three part. I'm I'm skipping this part because writing
1:04:57
the condition is optional. But this three part you have to write. Okay.
1:05:03
So let me choose the service which service you want to use. Let's say I want to choose the service for S3.
1:05:10
Okay. In S3 guys what extent you perform you list read write.
1:05:16
Okay. Okay. Or you can give all permissions. Okay. But let's say I don't want to give
1:05:21
all. I only want to give list power means to list the um means to get things not
1:05:29
the get I can say list list getting thing means download. Okay. So when you
1:05:34
see something how many bucket we have how many object we have is called list.
1:05:41
But if you want to download the object this is called get. Get is also known as read.
1:05:46
So you want to list or the download. Okay. But again the list guys if you see there's a 10 different list available.
1:05:54
So do you want to list the bucket? Okay. Do you want to list all the buckets? Do you want to list the job?
1:06:01
You know job we have discussed already. You want to list the bucket versions or version we discussed already.
1:06:07
Okay. So which list you want to do? Okay. So you know guys last time I show you this aware right
1:06:14
this page when you want to come they will list all the bucket and because right now this user have no power or
1:06:19
list all bucket action the reason this this doesn't come up but if you want to
1:06:25
give this user a list all bucket so here we can give let me delete this part
1:06:31
right and I want to give list all bucket so this user okay do some they can do
1:06:38
something on a service for S3 but Only one thing they can do only one action they can perform that would be list all
1:06:44
bucket. When this user login they can list only bucket with all the bucket names that is the only thing they can
1:06:50
perform or you can do some write also means uh they can create the object they can
1:06:56
create the bucket also they can upload the object also this more about the right. So whatever the things possible
1:07:04
in put something called what is corals we discussed or replicate. So whatever thing possible as all the
1:07:12
actions are available here you can choose whichever you want
1:07:17
and resource would be in which resources right now there's no meaning of the
1:07:22
resources okay because we only listing the bucket
1:07:27
resource meaning normally come up when you have all the list power you have a right power then we can go inside it
1:07:33
then we can pick one particular bucket one part object to delete coordinates.
1:07:39
Okay, right now this option is disabled but I'll show you guys why I'll take one more example of it. Let me first create
1:07:44
this particular custom permission. And guys, right now if you
1:07:51
go to JSON guys, automation see this code has been created.
1:07:56
Right now in this code, okay, we have one statement mean one statement equal
1:08:02
to one uh one kind of permission. So typically policy means policy one
1:08:08
document and one document might have multiple rules. A rule is called statement. So this one statement we have
1:08:14
we can write one more statement one more statement and that is we have a list here
1:08:20
okay and every statement we give a unique name you can give any number this used to be unique
1:08:26
okay but right now important thing is this statement is allowing something in
1:08:31
all the resources okay only thing they allow is about S3
1:08:36
not in EC2 not in IM and S3 they only allow for one particular API or one
1:08:42
particular ular feature that's called list call button. That's what the JSON document they created. Let me click
1:08:48
next. This is the tag name. Just click next. You want to give this policy a name. Let's say my
1:08:56
policy. Okay. For S3
1:09:02
for list bucket. All right. This is what the name we have
1:09:08
given. And here guys this see summary in S3 out of all the services only one
1:09:13
thing we allow and my access in all the resources there is no meaning here but
1:09:19
all the res means whatever thing is there in S3 okay and only thing is list
1:09:26
we only allow list of S3 bucket this we have you want to create the policy
1:09:32
that's all so now this policy guys is called customer managed policy
1:09:40
Okay. So this policy we have created custom manage and now if you search this
1:09:45
policy my um my policy
1:09:51
this is what we created and this is the custom manage and this is what exactly we had created.
1:09:59
Okay. After create the policy you can give the user. For example, I go to my user,
1:10:06
this user, and I say this user, you don't have any permission in S3. The reason you won't see any of the bucket
1:10:13
here. You don't have any permissions.
1:10:20
Okay, you have permission to list the bucket. So, I'm going to give some more extra
1:10:25
permission. You don't have any permission here. So I'm going to attach a permission is called my
1:10:33
policy. This is what we have created. Come up here. Click and next and attach.
1:10:39
That's all. So we attach the same way. There's nothing
1:10:44
new but we can attach in this way. This is the manage policy is vaged custom
1:10:50
managed. Right. In this case this user have some extra permission come up. Okay. And this permission is customized
1:10:56
one. And now what you see this user will have the list bucket permission only
1:11:02
this permission list bucket. Okay. Now this listed other permission they don't have. It means if I try to go
1:11:09
inside this bucket. Okay. We don't have permission to the object.
1:11:16
Okay. Even though they also guiding us if you want to have this permission also give this action.
1:11:23
after having this action only only we will give a list
1:11:30
object permissions okay so you know guys I'm giving you a path actually typically when you create
1:11:36
the object okay and it's also good p for security always go for list privileges
1:11:42
means whenever you create a user don't give any permissions and as per the
1:11:48
requirement come up keep on giving that permission for example maybe initially just give a list bucket permission only
1:11:53
that's all pass requirement come up now they want to also list the object so just go here in the permission tab
1:12:00
there's a permissions we have okay in this permission go and add one more how
1:12:05
edit the policies okay and in the visual editor I want to
1:12:12
give one more permission here in the list and technically my error come up of
1:12:18
list bucket in this bucket how many object we have so click here even though You can check the help also what this
1:12:24
permission is doing for you. Okay. This is what they will do for you. They give us a help. Okay. So
1:12:32
we are giving this permission and and that's all click.
1:12:38
So because because this why why they close this page
1:12:49
it should be closed here only.
1:12:55
Where is the option should be there in the top right?
1:13:02
So we leave it. So uh
1:13:07
what is this is?
1:13:15
Let me edit one more time. S3 I'm going to give one more permission
1:13:21
here again the list and based my requirement even though based on the error also
1:13:27
okay we think we need to see the object name and we give this object
1:13:34
name okay and uh it's bucket resources now guys here the remaining of resources
1:13:40
come out okay because now we have capability to go inside the bucket
1:13:47
in the bucket in the bucket. Okay. Which object you
1:13:52
want to list? I want to do something on it. Okay. So, let me allow all for a minute.
1:13:59
Then we see how can we give a specific one. Let me allow all. Okay. All the
1:14:05
resource means all the objects. All the buckets. Okay. Save changes.
1:14:12
Okay. So now this allow all the bucket all the objects only for listing all bucket name and in that particular
1:14:19
bucket they will list the bucket related objects and because this policy is already
1:14:24
attached to my user okay this policy attached to my user even though guys there's one tab called
1:14:30
policy uses okay and this is one good tab from here
1:14:35
we can check which user using this policies sometimes very useful so it might have hundreds of user but right
1:14:41
now VML user is the one who using this policies and this policy attach to VM user right now at this point in time and
1:14:48
this user okay last time this error was coming but when this user uh refresh
1:14:57
okay so listing all the bucket we have and inside the bucket listing the object also now we have
1:15:05
okay there's a point but if you want to delete this object
1:15:10
object you don't have permission for deleting you need some extra permission or maybe you have some more
1:15:17
extra permission they keep on giving you okay and as per the requirement so technically okay what I I wanted to tell
1:15:24
you guys whenever you create a policies okay by looking at the name sometime
1:15:32
okay it's sometime very much harder because there hundreds of available
1:15:37
for learning perspective and you see the more clarity perspective you all right just go rather than you go here and read
1:15:43
the document all right whatever you're looking for just keep on doing it they
1:15:48
keep on guiding you keep on giving the error and there is a better way okay to
1:15:54
properly plan the things and you also follow the principle least permission or least privileges principle means in this
1:16:02
case we are giving exactly that permission what we are looking for right now we are in the process first we
1:16:08
go see the bucket name then we see bucket objects then bucket I want to delete we getting some error here
1:16:16
based on this error what permission to give they give here maybe they give here they gave me this one permission also
1:16:21
extra then maybe they again they feel they give one more example okay so I rather you get the help from here or get
1:16:28
the help from document that will be your choice but for some time if you keep on practicing this you will see
1:16:36
based upon a requirement you get you create exact the same policy what we looking for because
1:16:42
giving somebody extra permission is also not good practice but this process will help you to give
1:16:48
the exactly what permission they're looking for this that's called principle list privileges exist we will follow you
1:16:55
we can follow you okay guys I think you got the idea how to create a custom uh policies
1:17:04
okay now let me do small changes here now in this policy See I want to give a
1:17:10
right power means I can create the bucket. I can put the object. Okay. I can delete the bucket.
1:17:18
I can maybe delete the objects. Okay. Multiple permission I'm giving
1:17:23
here. But here you can give this permission to particular objects.
1:17:29
And here the role of resources come in play. Do you want to give the permission to all the resources all the bucket on
1:17:35
all the objects or you want to specify something? So guys here you can say I want to
1:17:42
specify only limited buckets and limit objects.
1:17:47
I told you guys everything ins have a unique ARN number. So which bucket you
1:17:52
want to give this permissions. So you can access and give the bucket name here.
1:17:58
Okay. For example, let's say I have this bucket called this one.
1:18:05
Let me take this bucket. This bucket. So I want to give only permission to
1:18:11
this bucket. So I can give my bucket name here. And when you give the bucket name, automatically they create the number for you. You don't have to
1:18:17
create. Okay. And in this bucket, I want to give permission to only particular object of
1:18:24
this bucket. Okay. So bucket name is this one and my
1:18:29
object in this bucket will be let's say first txt
1:18:35
or you can use start also this will be your choice is a is a unique AI number for this object.
1:18:41
Okay in this case if you see your JSON file look like this we're allowing only
1:18:48
for S3 services only for these API or these actions.
1:18:54
Okay. The same time, okay, only for this particular resources.
1:19:01
So these power is only applicable for this object at this point.
1:19:07
Okay. And this is what my last permission because I told you guys multiple statement we can write. So this one statement we have changed right now
1:19:15
and this statement we had previously. So two statement we have right now. This
1:19:20
statement give listing of all the bucket then only we can go in
1:19:26
we can see the bucket name and then after we see the bucket name and in that
1:19:33
particular bucket which bucket this bucket we can list the object we can
1:19:39
delete the object and other things also so now here there's a meaning of two statement makes sense right so that's
1:19:47
what they're talking about even though in the visual studio they say they have Five accents, six total accents we have,
1:19:52
right? And let me review. So this is the one S3 services we have
1:19:59
and change it. Okay, one more small thing I want to
1:20:05
tell you here is this policy versions. Whenever you change anything in the
1:20:10
policies edit and change and save, they get a multiple versions of it. So the
1:20:16
three versions they have and why they create a version because policy code. So anytime we can roll back.
1:20:22
Okay. So right now this is the latest changes we have done. This is the first
1:20:27
statement and next statement. Before this we had done this changes and before this we have done this
1:20:33
changes at this point in time. Okay. So you think something you have done wrong, you can roll back to
1:20:40
particular version. So that is multiple versions we have. Whichever version you want to make it uh use it right now make
1:20:47
it default. So just click here and make it default. That version will be applied at this point in time. Up to five
1:20:53
version we can change. This also one cool options about the policy versions.
1:21:00
Okay. Now at this point in time now uh my this user where this has been
1:21:07
applied. So they can list all the buckets all the bucket
1:21:13
and in this particular bucket for example they won't able to see any of the object
1:21:21
right why because we created a resources right now this version of polish applied
1:21:27
and here we only allow to list bucket list object only for this bucket only.
1:21:34
So we can go to this bucket and we can list
1:21:40
the object. Okay, because we only approve this one.
1:21:45
But if you want to read any objects or put upload the object, we can only do on this file only.
1:21:53
Okay. So if you want to read the object, this object can be deleted. That is one thing guys. Sometime if you want delete
1:21:59
object not only delete object is enough you might need some more API call or
1:22:05
some more API some action name what I mean by this for example if I delete this one they say
1:22:12
you can't delete it for deleting you to always you should also have this much permission also
1:22:18
okay why because maybe this object has a versioning enabled and for deleting the
1:22:24
versioning you need some extra permissions also so you need some more extra permissions to delete it. Okay.
1:22:32
So, let me add one more permission here. I'm directly putting in
1:22:38
the JSON file. So, I am giving one more comma enter extra permission. Normally
1:22:46
they put in the double quotes. Okay.
1:22:52
So now when I uh save this save this one more version they created
1:22:59
behind the sale and this this is right now applied with extra permission.
1:23:06
Okay. Now in this case if I try to delete this file.
1:23:13
Okay. Like now guys there's no error come up. Okay. And now if I try to delete this particular object
1:23:22
right perfectly working. Okay. But if I try to delete any other file for example
1:23:28
this one. Okay. Again we can able to delete. One of the reason why is able to read
1:23:34
because we have a date bucket policy also. Date bucket normally means let me
1:23:39
try also maybe they have the other meaning also. Okay. If try to delete this one
1:23:45
big fail actually because power. Okay. So read bucket only bucket but here we
1:23:52
only giving the power fire power to this file. So the access denied access denied.
1:23:59
Okay. So technically right this is a custom requirement right
1:24:04
obviously AWS never know what is a custom requirement. So based upon a custom requirement uh you can create
1:24:11
your own policies and to creating the policy uh this kind of policy okay is so
1:24:20
simple because of this visual studio tool they have or otherwise if you have
1:24:25
this code with you rightly copy paste the code and use it custom it sometime as we progress
1:24:32
requirement come up and we can keep adding the code the way I show you today Yes, as right now again Ive told you
1:24:39
multiple times we are do CSA labor training. So when you go for professional training or advanced
1:24:44
training then this topic normally cover in that much detail. So technically in CSA that this topic is not that much in
1:24:51
detail what I covering right now but it's always good to know extra things so that at least at this level also we can
1:24:58
do much more thing where you wanted to do. Okay. So this is guys how we can uh
1:25:07
uh you know create the policy and other things also here. Okay. Uh now one more
1:25:13
thing here is there's three different types of policy I told you. Now what the
1:25:18
difference? Okay. Now I believe you understood AWS managed is been created
1:25:23
by AWS. Custom is created by us. Which one to use? Both has their own use
1:25:29
cases. when you have any custom requirement where unique requirement the
1:25:34
way I created right now you can use this okay but any other cases I highly
1:25:42
recommend don't use custom or customer managed use always AWS managed why AWS
1:25:49
is keep on launching new new services and in the services keep on coming with new new features
1:25:55
and whenever new feature come up AWS automatically updated their policy
1:26:01
And that particular services they will manage for you behind the scene and a new feature come up what by
1:26:08
default things should come up allow or deny they will automatically keep on adding it. Sometimes this is good and
1:26:15
sometimes is bad there's a different point when custom manage services if any new features come up that you have to
1:26:22
always do and manage by yourself add by yourself and delete by and deny by
1:26:27
yourself. Okay. So in that context using the A man as one they are well tested very much
1:26:34
powerful use well tested all the areas a man is always great to have but any
1:26:40
custom requirement there's no choice you can go and use only custom managed only or you can use inline
1:26:47
now what is inline and custom managed the difference would be okay customer
1:26:54
manage services can be applied you have to create only once
1:26:59
and can be applied to multiple user one, user two at one point in time. So
1:27:05
multiple user can use one same policies. For example, okay, I have one more user,
1:27:14
one more user and let's say is called a test user. I can apply same policy, same power to
1:27:23
this user also. Add attach my
1:27:30
policy attach. So any of the manage services by the AWS
1:27:37
or custom manage one policy you have to create only once and you can apply to multiple user in same point in time.
1:27:46
Okay. So this is policy is applied here also. Okay. Even though you can check in
1:27:51
this policy and this policy has been applied to two users.
1:27:58
Okay. But there's some kind of requirement come up sometime where I want my user for example Jack is login
1:28:07
and certain requirement come up the Jack requires some extra permission for some point in time or maybe for some for for
1:28:14
some some for for some time. Okay. And this permission I only want to give to
1:28:20
Jack user only. I don't want by chance any other user by chance some other guys
1:28:26
will give some how. Okay. So what I mean by this I certain requirement come up. I
1:28:31
want to give some power to Jack and I want this power permission can only be applied to Jack only. No other guys can
1:28:36
able to use it. Okay. What I mean by this in the custom manage is centralized manage services
1:28:43
centralized manage services any these policies can be used by hundreds of user
1:28:48
together the same power okay but in this context what I'm talking about some
1:28:54
power I want to give very quickly and this only be used by one user only nobody can share this permission then
1:29:00
the role of inline come in play inline come into play in this kind of
1:29:06
context okay and that is the reason guys Inline is not available visible in the
1:29:11
central name policies here. There's no name of
1:29:16
inline come up. Okay. Because this customer manage is only is give created
1:29:23
once and you got multiple users. Inline you can only see per user tab. For
1:29:28
example, for this particular user in the in their um permission section,
1:29:38
right? They have one policy we created and this option called inline policies.
1:29:43
Okay. So if this if for this user if you want to give very quickly some permission and and I I create a
1:29:50
permission in such a way that that is been apply only to this user. I don't want this policy can be shared and given
1:29:56
to other user also. Let's call in line with this user. This is the known as inline policies. How to create the way
1:30:04
to create is exactly same. Same way either got a JSON document for editor
1:30:10
logic is same. For example, I want to give the permission to issue services.
1:30:16
Okay. What in the is service they can list describe the details. So tons of thing
1:30:23
guys each have lots of things what you want to do. Okay. Okay. So let's say I
1:30:29
want to do all the things. Okay. I want to give and maybe in the
1:30:37
right okay mean edit or modify what you want to do. Okay. So let's say I want to
1:30:43
allocate the IP addresses delete the key pair.
1:30:49
Okay. That is what I wanted to do here. Okay. That's all.
1:30:56
Okay. And resources would be to to all. So
1:31:02
to all so let's say the all resources all the
1:31:08
resources. So this is one inline policy we created. I say
1:31:15
my viml inline
1:31:21
policy or easy to read only some name we have
1:31:26
given now this policy
1:31:35
so maximum policy size is this one actually this policy again we have
1:31:40
maximum size of a bite Okay. So we have added multiple things here. Let me uh
1:31:49
check this previous or code is very big.
1:31:57
We got add a lot of things. I think I'll be right all the things. There's no meaning. Instead what can we do? Uh we
1:32:03
can only write star because the policy document size is fixed. We can't give bigger policy and because we add
1:32:09
multiple things here. So if you want to describe rather than you write describe you can write describe str.
1:32:17
So any is ready to describe autom. So that makes your document small.
1:32:24
So let me delete entire code.
1:32:34
Okay. This part also we don't right. So something let me remove this
1:32:41
also this.
1:32:46
So let
1:32:52
your request exceed one of the limit of your account
1:32:57
and one or exist one exampline
1:33:08
policies. Okay. Now this user this policy I has been not shared. So
1:33:15
either user if you want to try to apply this permission it won't visible only apply to this user only okay it's
1:33:23
for line okay in this case if they go to is2 services last time they're failing
1:33:29
if they go to issue services whatever permissions they have given that can be
1:33:34
uh visible here read only permissions they have described and I asked them to
1:33:42
do something in the key I believe so the keep if you want to delete we can delete also so this we can do I don't want to
1:33:49
delete right now okay so guys I believe you understood the
1:33:55
the different types of use cases even though guys
1:34:01
sometime lot of guys has a lot of confusion right why what used different in line and customer manage when to use
1:34:08
what so I just explain you very I try to explain you very quickly and clearly the
1:34:13
proper use case when to use what kind of policy type. Okay, this is one thing. Now, one more
1:34:20
small thing, nothing very technical. If you want to do some kind of account setting or uh setting in your account,
1:34:27
there's account settings here. Okay, here you can set the password policies.
1:34:34
Okay, means you can fix you know we can this is called hardened. Harden means um
1:34:40
you can say uh that anybody any user who
1:34:48
change the password minimum password length will be 10 only.
1:34:54
It's a compulsory requirement. Okay. At least one lower case, upper case, one
1:35:00
number, one a special character. Okay. So that is we they have to use.
1:35:08
So that's what guys the password policy you can set in your account for all the users.
1:35:13
Okay. So this also can be done from the I I'm not changing anything here but this can also be done.
1:35:20
Okay. Now there's one concept called user group. What the user group is? So typically the
1:35:28
use case is something like this. For example in my company we have a multiple user.
1:35:36
One is called Jack, one is called let's say Rahul, one is
1:35:42
called Eric, one is called let's say Tom. Okay. In the project what I want to do
1:35:49
all these three user will work in a project. This also user will work in the project. But I want all these three user
1:35:56
will have a same power always, same permissions always and this user will have a different permissions always.
1:36:05
Okay. Maybe this always has a H2 permission all S3 permission and in the future if I want to add some permission
1:36:12
will be applicable to all the guys let's say maybe maybe load balancers for example
1:36:20
okay so what can we do rather than we go individual user always and add new
1:36:27
permission attach new permission attach new permission okay sometime it will be
1:36:32
unwanted extra step come up and it very harder to manage also if you have hundreds of users we have. So what can
1:36:39
we do? The good practice practice would be in the terms of management. We can
1:36:44
put all these three user in one big box that is called group
1:36:51
and rather than we give this user these user direct permissions we can give the
1:36:56
permissions to the group and because this users are the part of
1:37:02
the group. So what are permissions we give to the group automatically applicable to all the users.
1:37:09
Now we can manage the permission central means in the future if you want to give some other permission we can change the
1:37:15
permission of the group. Okay we can attach the permission we can detach the permission directly from
1:37:20
group from the group. So finally whatever the permissions we have in the group same permissions apply to all the
1:37:27
user who belongs to the group and that is use of the group. It is just a way to manage the thing or manage the teams.
1:37:35
How? In a simple let me create a group.
1:37:41
Okay. Let's say my group of Linux code. Okay. And in this group,
1:37:49
okay, which user want to connect in this group? Let's say I don't want to connect any of the user to group. Let's say this
1:37:55
user is this group is empty with no user. But in this group I want to give a power of let's say AC2
1:38:02
uh full access. So this user have this power that's all
1:38:08
grouped. Okay. So in this user sorry in this
1:38:13
group we have this power but right now in this group we have no user
1:38:19
connected even even though we click here in this group how how many power you have how much power you have is full
1:38:25
access. Which user has been connected? None of the user. Okay. So for example,
1:38:31
for example, right now the user that I have user one, this user have no power
1:38:37
to create a new instances from here. If I try to try to you know
1:38:45
shut down this instance, I have no power.
1:38:50
No power. Okay. So rather I give this power directly to this user. We can do it.
1:38:58
Okay. Rather we click here and change the permissions to this user directly. We can do it the way I have show you
1:39:05
till now. We can directly give permissions to this user and say now we are going to give a full power to you.
1:39:12
Let me delete whatever power they have already. Let me delete so it will be very clear. So let's say this user have no power right now.
1:39:20
Or we can give this user a power with the how I show you here. But technically what I'm trying to tell you here is
1:39:27
right now this user have no power. But what I'm trying to tell you here is rather we give this user directly a
1:39:33
power. Okay, we can give this user a power from the group.
1:39:39
Okay, how we have to just connect this user to a group. So this in this group
1:39:46
we have no user right now. In this group we can go and connect one user which
1:39:52
user add user to the group and the username will be benefit of this group is because
1:40:00
maybe in the group I want to add a much multiple users. So all the user automatically get all
1:40:07
the power whatever power we have in the group that's called inheritance. So they inherit all the power of that particular
1:40:13
group. In this group we have four users and all the user will have exactly same power.
1:40:22
Okay. So without coming to this user directly. Okay. This user automatically get the
1:40:28
power because they belong to this group. So this user we see here last time I
1:40:34
removed the power. This user had no power at that point in time.
1:40:39
But now this user have this power come up. From where? from the group.
1:40:45
Okay. Now this user can can do anything. They can go instance type and all things
1:40:51
they can do. Okay. Benefit would be in the future.
1:40:57
Okay. This user belong to this group and this group has maybe
1:41:03
multiple user. So in the future if I want to change all the power to all the users rather I I just go to every user
1:41:12
individually I will go and change the permission in the group just by changing the permission in the group
1:41:18
the group right let's say I want to remove so power of all the user will be removed so like it's a way to manage the
1:41:24
thing that's all but sometimes very very useful thing so most is good practice
1:41:30
don't directly give the power to the user okay always give create a group attach the user to the to the group.
1:41:38
Okay. And um uh I think it should be removed
1:41:45
attach the user to the group and and um format and give and provide get the give
1:41:53
provide the power to the uh groups only. You're not authorized to perform. That's what they're saying here. So to the
1:42:00
group only because maybe right now you might have one user working the team but in the future you might come with one
1:42:07
more some more user. So as the user come attach the group as the user come attach
1:42:12
the group automatically they get exactly same power and same policies whatever the older user had. So it's good
1:42:19
practice to manage in the groups. Okay, users groups what is role again very
1:42:28
important topic I will take this topic tomorrow about the role very simple now after having this entire knowledge
1:42:34
working on the role won't take much time okay so role I will discuss tomorrow some more things we'll discuss IM we
1:42:41
will discuss tomorrow plus how to work on the CLI that is also on the plan
1:42:47
again we continue tomorrow okay so I just want conclude till now. So we have talked a
1:42:54
lot of thing about the policies and uh that's all and one more small thing I
1:43:00
will talk tomorrow uh because we have two different policies one is bucket policies and one IM policy
1:43:07
uh why we have two which one will be more effective when we have both so that
1:43:13
we'll discuss tomorrow okay and we have some more discussion IM will discuss and
1:43:18
we then again we come back to our VPC topic again Okay. So that is the further plan but I
1:43:26
think you guys you got the idea about IM. Okay. And what IM will do identity and the access management.
1:43:34
So uh any query if you have guys till now you guys can ask
1:43:40
okay security topic we'll discuss maybe next class when we again re uh resume VPC I
1:43:48
will take talk about this topic again. security group
1:43:58
in any order in which we need to apply the apply. No, Ankit you can apply
1:44:03
policy in any of the order by default everything is denied. Whatever you apply
1:44:09
they will allow but in the allow or so in the policy if you write any deny statement they will
1:44:15
deny that. So for example in the policy if you say S3 is allowed and same policy
1:44:20
you say S3 is denied. So finally finally your effective would be deny only.
1:44:27
Okay. Otherwise you can apply policy in any of the order. Okay. Even though
1:44:34
you can give permission to group user belong to group you can actually attach the
1:44:39
permission to yourself. Okay. So whatever you have direct
1:44:44
permission with you or whatever permission come from group everything has been allowed but anywhere you have some any deny statement then we will
1:44:51
deny them. So deny will always be in the in the more priorities if you have any
1:44:57
deny statement or effect in your policy.
1:45:08
uh pranu rule we will discuss tomorrow I haven't started yet so just wait for tomorrow
1:45:15
class.
1:45:24
So
1:45:38
is Bombi bucket policy only for S3
1:45:47
ACM certificate home we might discuss in the future classes.
1:45:57
Amit IM is for all the services. S3 policy bucket policy what we discussed
1:46:02
in S3 classes that only for S3 service only. IM service the centralized service
1:46:08
for all the service security management. Okay.
1:46:21
No uh neu 358 is not the part of earth is actually one specialized training
1:46:27
from a in part of rcea. So obviously it is not the part of earth.
1:46:39
So we will discuss about MFA but I am topic is not completed. So maybe
1:46:44
tomorrow class we will discuss about MFAOS in this topic. Okay.
1:46:56
So that's all guys. Uh see you tomorrow with some more concept of the biotech.
1:47:01
Good day. Good day.

