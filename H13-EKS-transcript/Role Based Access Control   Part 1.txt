ript


0:00
So what is idea? The idea is now you can
0:04
think in this way it's a new topic now
0:06
is new topic but depend on the last
0:08
topic that's obviously true but treat
0:10
this topic as a new topic. If some of
0:12
the part of the last topic you uh didn't
0:16
understand so you know stop your thought
0:19
there and treat this topic as a new
0:21
fresh topic.
0:25
Okay. So now the current scenario we
0:27
have is or you might be you might have
0:30
is in your server
0:33
in your server now you have two users
0:37
one user is admin user that is already
0:40
exist in the system beforehand and one
0:43
user we have created viml
0:47
and both the username both the user uh
0:51
password username or certificate or the
0:53
private key we have at the client
0:55
system. So my client or my user system
0:58
have these information.
1:01
Now my this client can use admin user to
1:04
login and they can also use user details
1:07
to login.
1:09
How? Just by changing the context.
1:12
Okay, I'm using this context. I'm using
1:16
women account.
1:18
Okay, women have no power other side
1:20
issue also have or I can change my
1:22
context to mini cube.
1:26
Okay. So, same cluster I'm connecting
1:28
but I'm using admin account and they
1:30
have they have the set right and things
1:34
is working fine. Okay. But yeah, my
1:38
client has both the login and password.
1:40
Now the point here is okay after the
1:43
login to admin account after login admin
1:47
account. Okay. So it is written in the
1:50
server that if you log to the admin
1:52
account and your identity is is admin.
1:57
So this user
2:00
okay this username their name is admin
2:03
we have given all the power in the
2:06
cluster all the permissions in the
2:08
cluster they can access anything
2:12
anything okay but if you talk about this
2:16
user it is written in the server if user
2:19
login
2:21
or I can say the user that I don't know
2:25
in the terms this is the new user I can
2:27
say is a better word. If any new user
2:30
come up in viv or any other user if they
2:33
loging they can login we can
2:34
authenticate but they have no power at
2:38
all. If they try to do anything
2:42
right I won't give any access to them.
2:46
So there's no power no privileges no
2:48
permission whatever want to think you
2:50
can think in this way.
2:53
Okay. So what we have to do obviously
2:57
when you create the user obviously it
2:59
means after you login come in your
3:01
server come in a premises they you have
3:03
to give some power right the what what
3:05
what they can do
3:08
you have to give some power
3:10
for giving the power we have to
3:12
understand the concept called AR like
3:14
role based access control
3:17
okay how
3:19
so I think some similar con kind of
3:21
concept guys I explained you in open
3:23
sift
3:25
uh but I'm just quickly explaining you
3:27
those who bison is not there and those
3:30
who are there again it will be quick
3:31
revision for you then I'll show you how
3:32
we can do okay so it is something like
3:35
this uh like this for example this your
3:39
complete office
3:42
in this office you have multiple
3:43
different room area okay and let's say
3:47
we have one employee called Wimmel
3:50
okay and at the at the main g they check
3:53
the women identity to uh identify this
3:57
women in our case the username password
3:58
or the certificate private key is the
4:00
identity like my identity like my ID
4:02
card
4:05
but after they
4:07
come in the office premises which room
4:10
they can go this is a room number one
4:13
this is the room number two which room
4:17
women can go have a power to go in so
4:21
you can think as this room in the
4:22
cubaries is something uh like this like
4:26
a name space. So which name space women
4:31
can go. Okay. So this is one thing. So
4:35
Wiml as a user
4:37
which name space women can enter.
4:41
Okay. This is one thing. Second thing
4:44
here is uh is uh after going to this
4:48
room in this room what women can do.
4:53
Okay, what kind of resource women can
4:55
access? So we have some printers, we
4:57
have some telephone, we have some local
5:00
uh setup, maybe we have some local
5:02
stationary. What can this user can do?
5:07
Maybe women can use printer to take a
5:10
print out. Women can only attend the
5:12
phone but they can dial. All right. So
5:16
these are the different different things
5:17
they can do. So point here is those
5:20
things like stationary printer these are
5:22
the resources in this room. So in the
5:25
thing guys you can think in this way
5:27
resources
5:29
in the cubernetes means we will port is
5:31
a resources replica set is a resources
5:35
service is a resources deployment is
5:37
resource and much more resource you guys
5:40
which resource women can use
5:44
but in in this case what for example
5:47
this is a printer so we will can only
5:49
see the printer touch the printer take
5:52
the printer to print out something so
5:54
mult Multiple actions women can perform
5:57
or women can't perform.
5:59
Okay. So what all actions on respective
6:02
resources women can do? Action also
6:04
known as a verb. What women can do? Can
6:07
they only see it? That's called view.
6:11
They can only
6:14
watch it.
6:16
They can touch. They can use it. Edit
6:18
it.
6:20
Okay. Remove it. Delete it. Right? So
6:23
all different are the actions we have.
6:27
Okay. So you have to plan obviously why
6:30
we create a user. So we can give a user
6:32
a limited power. So they can go in this
6:34
room only or maybe I can also write
6:37
something like this. Women can go to all
6:40
the rooms.
6:42
Okay. At any of the room women can only
6:46
use the resource called port and the
6:49
port women can only uh only view the
6:52
boards that's all. So that's also we can
6:56
okay so typically guys this concept is
6:58
what we have to create a role.
7:06
Okay, role means uh role is something
7:08
like this. Uh it is let's say whimmer is
7:12
working as a support guy in this
7:15
company. My support is I have to go and
7:17
check all the printer.
7:19
So I can say now whimmer has a role of
7:22
printer support.
7:25
So this is my role name printer support
7:28
engineer for example.
7:31
Okay. So role would be printer support.
7:34
So give us some role name. Let me ask
7:36
printer support engineer. Let's call
7:40
role under this role. Okay. What we can
7:44
do? These are rules.
7:48
Okay. So my rule is I can go uh and use
7:52
attach all the printer called as a port
7:55
and in the port I can only view it. I
7:57
can touch the printer or rectify the
7:59
issues in the printer. So these are not
8:01
the role or maybe I can go to maybe I'm
8:05
a printer but I can go to cafeteria and
8:08
use the cafeteria machines or coffee
8:10
machines. So the so in one role
8:15
multiple rules you can define what can
8:16
you do what can't you do those are known
8:18
as rule or rule or uh rules actually. So
8:22
role is one one title you can think as a
8:25
post title right like support engineer
8:27
junior engineers but what can you do so
8:30
these are multiple different rules we
8:31
can create
8:34
okay so you can think role is just like
8:35
a one kind of title in the company
8:40
okay now what you have to do so this
8:42
role company has defined now we have
8:44
they have created one ident called viml
8:46
user so so is just a username or human
8:50
being this role is just a title. Now the
8:55
company will decide let's say Kubernetes
8:57
admin will decide here which role we
9:00
have to give to women. So one role maybe
9:03
project engineer, developers, printer
9:06
support guys. Uh so what role I want to
9:10
give to women? Every role have different
9:11
roles. Women role maybe director. So in
9:14
the room they can go to all the rooms.
9:16
Anything they can do in this office. So
9:18
like a director or owner role. Okay. So
9:21
what normally we do
9:24
okay we have
9:26
we have lot of users like Vimmel user uh
9:29
like Eric user like Tom user so multiple
9:33
different users we have and multiple
9:35
different roles we have okay so let's
9:39
say according to this example we have
9:41
printer support role we have director
9:44
role we have developer role something
9:48
like this now we have to decide
9:51
which user what role we have to pro what
9:54
title we have to provide let's say I
9:56
want to give women a role of director
10:00
okay it means after women login they
10:03
have a power of director
10:06
and what power director has it defined
10:08
by the rules what doctor can do
10:12
it is something like this so connecting
10:15
and giving user a role this connection
10:17
is called guys role binding
10:21
role binding.
10:23
Okay. So
10:26
that's what guys we have to do. So
10:28
there's three vocabulary or four
10:29
vocabulary.
10:32
We have a user that is but obvious login
10:35
after login system identify who are you.
10:39
Okay this is one thing. Second thing is
10:41
role. Okay multiple roles we have we can
10:44
create much more.
10:47
Okay. And every role will have a
10:49
multiple rules. What if somebody has
10:52
this rule? Let's say manager role. So
10:56
what manager can do? These are the
10:57
different rules we can write. Rules
11:01
means okay if somebody has this rule. So
11:06
can they access the port? Can they
11:09
delete the port?
11:11
These are the these are known as the
11:12
rules.
11:14
Okay. And this role which user we have
11:18
to uh give is called role binding.
11:23
Okay that is the idea. So let me show
11:27
you how we can do this. So so guys this
11:31
in my system maybe I might have multiple
11:33
roles already with me. Okay. So there's
11:36
a command called cubectl
11:38
and if there run the command called
11:42
describe role and guys this term is
11:44
called cluster role.
11:46
Okay. So if you run this command you can
11:50
you can see there's lot of role already
11:53
available is created. We can create
11:54
ourself our custom one also I show you
11:56
how.
11:58
But we can think in this way my company
12:00
already have director role, developer
12:02
role, printer role already precreated
12:06
with them. So these are the like these
12:07
things.
12:09
Okay. For examp one of the role they
12:11
have let's say director director let's
12:12
say admin
12:14
or as a cluster admin.
12:16
So if you want to see about this role
12:19
you can you can describe. So can you
12:22
show me something more about this role?
12:25
This role is available. Can you see me
12:27
some detail about this particular role?
12:29
This called describe command.
12:32
Okay,
12:34
describe command. So I'm talking looking
12:37
about the role that is already
12:38
available. How to get our own? I'll show
12:40
you.
12:43
So this role say my name is this one.
12:46
Let's say director role and anybody who
12:48
have this role. So we have some rules
12:51
policies
12:52
according to this rule. This anybody who
12:56
have this role okay they can access any
12:59
of the resources start dot start first
13:02
star means any resource like any port
13:05
any deployment any replica set and next
13:08
star means what a port name you have
13:10
port one port two port three deployment
13:12
one deployment two every resources they
13:16
can use and what they can do in this
13:19
resources start verb action means they
13:24
delete, add, get, list, watch, anything
13:27
edit they can do in this resource.
13:30
It means if I give any user this power
13:32
or this role or this permission, they
13:35
can do anything in this cluster that
13:37
those user guys are normally known as uh
13:42
known as admins of the cluster. So this
13:46
is what the guys meaning of uh this
13:48
particular line.
13:50
Okay. So this is the cluster role we
13:53
have.
13:55
But if you want to see how many bindings
13:56
you have role binding right now. Okay.
13:59
So we can see this command. The command
14:01
is called cluster role
14:06
bindings.
14:09
So
14:10
these many rule binding we have I
14:14
haven't created this is already
14:15
available but I'll show you how to
14:16
create our own on our own user.
14:19
Okay. But these are the pre-created
14:21
bindings we have. So maybe let's say if
14:26
I uh pick one let's say I want to pick
14:31
this one
14:32
as is the name of the binding just name
14:34
you can give any name okay so if you
14:37
want to see the detail of this binding
14:39
what this binding says this binding
14:41
available and if you describe this
14:43
binding
14:47
describe this binding so this binding
14:51
say binding Okay. Uh this is just a
14:55
name. They say anybody uh we have some
14:59
user
15:01
we have some user.
15:04
Okay. Uh women and who are using the
15:07
director role. So this information women
15:10
is using director role. This information
15:13
is there in this binding where you can
15:15
see you can see here. So somebody is
15:19
using
15:20
u is using uh role called cluster admin
15:25
by don't be confused with the name by
15:28
binding name is also same cluster uh
15:31
role name also same but there are two
15:32
different things okay so role is
15:37
director that is written here
15:40
and what this role say I already show
15:42
you this role say this cluster admin
15:45
role say that I can do anything in the
15:48
cluster.
15:50
Okay. But to whom we assign this role
15:55
to a subject. Subject means it is
15:58
something like this.
16:00
You know like in English grammar uh
16:03
women play or can play uh football.
16:09
So women is a subject,
16:12
play is a verb and football is the
16:14
object.
16:16
Okay. So women is subject
16:20
is this one which user can do. Okay.
16:25
Object is what is where it is written in
16:29
the role which resources they can
16:30
access. Okay. So uh your object and your
16:34
verb what can they do and which resource
16:37
they can do it is it is written inside
16:39
this role.
16:42
Okay. So here it is hidden we have some
16:44
users
16:46
in you guys they have defined group that
16:48
is we'll discuss in a minute right but
16:50
you think there's some user created
16:52
already in my system you think this is
16:54
like a user and this user have this
16:56
power so whenever I login with this user
16:59
what is this user means I'll show you
17:02
but when this user login
17:05
they will have this power so that
17:08
binding already we have
17:11
okay but our plan is to create something
17:14
from from a scratch. I would like to
17:16
create my own
17:19
um
17:20
uh role and when you create your own
17:23
role you become more comfortable what
17:24
this concept then we create our own user
17:26
that already did and now we will create
17:28
our own role binding but I'm showing you
17:30
what is already uh created and when I
17:32
show you uh you will understand more
17:35
something about groups also so nothing
17:37
very technical topic but I'll show you
17:38
in my next class what mean by groups so
17:41
guys I quickly revised the Arabic
17:44
concept those who was there in my open
17:47
shift class something like this we'll
17:48
discuss already there but by chance if
17:50
you was not there in the open shift okay
17:52
I explain you very quickly
17:55
um the concept role binding roles and
17:58
policies so in next class I will show
18:01
you how to create everything our own
18:05
okay plus I also show you how to rectify
18:06
the certificate issue in this user
18:09
account so from now next class onward
18:12
you will see okay we will login in a
18:16
local system client system with account
18:18
of viml and whatever power we have given
18:21
to viml that power that much power you
18:23
can use to do something in the cluster
18:26
okay so that's what we'll discuss we
18:27
will discuss in the next class okay so I
18:30
want to conclude my class today I need
18:32
one more class to explain you uh the
18:34
rpek and after this we'll move to the
18:36
next topic

