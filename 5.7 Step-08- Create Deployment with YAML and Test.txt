# 5.7 Step-08- Create Deployment with YAML and Test

-: Welcome back.In this lecture we are going to understandabout deployments with YAML.So 09 deployments with YAML.So as we discussed earlier,so deployments are nothing, but, again,deployment is nothing but a super set of replica set.So we have created a replica set in our previous lecture.So we are going to copy all those templatesand then change its kind to deploymentand then container image to 3.0.0for a difference and then change the North port serviceto 31233 for accessing it on the browser.Earlier, so the part is 31231and replica set is 31232.You can see it here.Now we'll use 31233 fordeploymentsand then change all the names to deployment in the senselike the file names or whatever we see wherever, right?Instead of replica set change it to deploymentand also change the labelsand select s two, Mya app three, okay.And then clear the deploymentnote port service and then list and test it.So before going there, let's crosscheck ourAPA reference document.And for deployment also it is app slash v1.So just if you change the kind from replica setto deployment, mostly our things should work.Okay? So let's go to our visual studio court.And this is the replica sets withthe AML Kube manifest folder.So let me copy it and then go to 09 deploymentand then paste it, right?And I'll change the, rename the file todeployment here, okay?Instead of replica set,so that we have it as a deployment reference.Okay? And for north port service, whatever we aregoing to create also I'm going to change it todeployment. Good.So now our base setup is done.So let's go to zero to deployment definition.And the first thing is APA version,it matched with our this one, okay?So we really don't need to change anything here.Okay? So only thing is kind is going to be deploymentand the name is going to be my app three deployment.Okay? So now replicas are goodselector is good, and the app -which is nothing but the selector match labels -we said that we will change frommy app two to my app three.So let's change it, okay?So, and the template, my app three partI can say this one,name of the part and the labels,I can say my app three.So the most important thing is this one,the label and the match label, both should match.And the container name, I can give it as my app three.And finally we also saidthat we'll change the image version.Okay? So for our difference to see on our browser.So I'll say three dot zero dot zero.So this completes the deployment spec update.So we really didn't add any new tags or anything.So this is-- like any replica set is a subset of deployment.So all these things should work as is without anything.So for deployments we can keep adding more and more stuff,based on like how the deployment should happen.And then like it should be in a rolling update fashion,or it should be in a recreate fashion,so update strategies with the recreate or rolling updates.So all those super set options you can keep addingto your deployment if you want to,but the base is replica set and then deployment,more or less, it is going to be the same thing.Okay, so now let's go to note port service, right?So this is good and no changes required inside that.So let's go to note port serviceand this is going to be deployment, not port service.And the selector is going to be my app three, right?And the note port I'm going to change is 31233.Okay. So now we have quickly completed creatingthe deployment definition and deployment note port service.So let's go ahead and then create them now.Okay, so we'll go to 09 deploymentsand we'll go to Kube manifestand I'll say Kube CTLapply F and F 02 deployment definition.And if you want to also at the same timecreate one more.So that is nothing but zero three, you can do this way.Okay? So now two files you have providedfor Kube CTL to create.So it created my app three deploymentand then deployment note port service.So I'll say Kube CTL, get deploy,which is the LES, and it's up and running.So I'll say Kube CTL get ports.So I should have three more ports related to my deploymentGot creator.I should have two replica sets, right,one for the replica set, whatever we createdand one which a deployment created.And I'll also see the SVC, okay?And it has the 31233which is deployment, note port service.So, and we'll get the nodes hyphen O wide,and we'll get the node IP.And with the31233, we are going to access it in browser.Okay? So next one http colon slash slash31233, okay.And we see the V3 version of application.So with ports V1 application,it's up and running, withreplica sets, V2 application, up and running.And with ports we have V3 application.So now we have successfully created the ports,ports with the-- using the deployment.And then we have tested it using note port service.So in our next lecture, we'll focus on servicesand there, as we already see note port service effectively,there we'll see cluster IP serviceand also we'll create a frontend and backend applicationin services and then understand it in detailand then test it.So I'll see you in the next lecture.Until then, bye bye.Thank you.