# 4.18 Step-15- Kubernetes Deployment - Pause and Resume Deployments

-: Welcome back.In this lecture,we are going to learn the pauseand resume deployment options in our Kubernetes deployments.So let's go inside that 0404 pauseand then resume deployments, right?So why do we need pausing and then resuming deployments?So if we want to make multiple changes to our deployments,we can pause the deployment,make all changes to our deployment,and then resume it.So if you don't do so,as soon as you keep applying the changesto your deployment, live deployment,then automatically the changes gets deployedand then parts get terminated and then recreated, okay?So what we are going to do iswe are going to make two changes.One is we are going to make our application versionfrom V3 to V4 as part of this pause and resume deployments,and one more change also we are going to applyabout applying the CPU limits for our application.So we are going to do all those things, okay?So before that,check current state of your deploymentand then application, right?So if you see kubectl rollout history deployment,my first deployment,and then see our application, current,rollout versions, whatever we have here, right?So we are at six with the kubectladded deployment here, right?So we are at six now, which means,and also verify your number of replica sets,how many you have currently, right?So mostly you should have four replica sets here, right?So now if you create one more version,one more replica set should get created, okay?Make a note of the number of replica sets present here.We have currently four replica sets present.And our rolling versions also we are seeingtill six we are here.And one more thing is access your applicationand see the application version.So now I am accessing it,and if you see we are in the V3 version of our application.So let's go inside and then pause deploymentand make these two changes, okay?So now what I'm going to do is kubectl rollout pause.And it's like I'm going to pause our respectivemy first deployment.So let's go ahead and then do that now.Kubectl rollout pause deploymentand my first deployment, right?So once we have paused our deployment,so we can make whatever the changes we want to.So we are going to update our applicationfrom V3 to V4 using 4.0.0.Earlier whenever you have done this set image command,automatically changes happenand then all the parts got recreated,all those things, okay?So, but now whenever you do this,nothing should happen okay?So as our deployment got paused,whatever you do on the live deployment object,nothing should happen.So everything should be as is.So if you go aheadand then see the rollout history, okay?So we should see the same thing, which is nothing,but it is only at the sixth level, right?So no rollout historybecause it is in the deployment pause mode.If you see the replica sets,you should have the same count of replica sets,whatever you have seen earlier,which is four replica sets, right?So now if you resume the deployment,so then automatically changes will happen.Before that, we'll also make one more change saying thatkubectl set resources for my first deploymentwith the, for the container kube Nginx,and I'm saying how much memoryand then how much this one I'm going to allocate.I'm writing it here.So maybe I am using a simple cluster here,so this might be a bigger number,which is nothing but 52 MI and all those things.So I will say, okay, 30 MI, okay?30 MB or even less, okay?So I'm not even putting anything, right?So, and then I'm going to put 20, right?20 MCPU, okay?So instead of 200 MCPU,I'm just giving 20 MCPU, right?So, and then make this change, right?So why, because I'm using a T3 medium cluster.So ideally if I use this much,then I am already using 10 ports,so then it is going to createa lot of problem for us, okay?So this error you can ignore.So it's a timeout error, okay?The change got applied, okay?So now if you go ahead and then see your rollout history,still nothing should happen.We have made two changes but nothing should happenbecause still we didn't resume our deployment, right?So, and if you see the application version also,it will be only V3 only, okay?So now let's go aheadand then resume our application deployment.So kubectl rollout resumeand then deployment slash my first deployment.So let me do that.So as soon as we do thisand then see the rollout history,then you should see the seventh version coming in.You see the kubectl get portsand they should get created, right?And then few are terminatingand then few are creating.So all these things happens now, okay?And we can go aheadand then access our applicationand see what happens, okay?So let me go to my applicationand then access it once all ports are ready.And also let's cross-check our replica sets count,get RS, right?Earlier it is four replica setsand now as it is 4.0.0 version,we should have five replica sets, okay?One, two, three, four, five.That's good.So now let's go ahead and then access our application.We should see the V4 version of our application.See now we have the V4 version.So we have successfully testedin deployment the following things.Creating a deployment, scaling the deployment,exposing the deployment as in node port service,and updating the deploymentwith two options available for us,which is set image and then edit deployment.And also we have rolled back the deploymentsusing to previous versionand to specific version.And in addition to that,we also tested the pause and then resume deployment.So this completes the deployment sectionusing the imperative commands.So let's go ahead and then do the clean upof whatever we have created, right?So kubectl get deploymentsand then delete deployment, right?Delete, deploy, and my first deployment got deleted, right?In the same way, delete SVC, right?So before that we'll get the name of the service, get SVC,and then delete service, my first deployment service, right?So now if you see kubectl get allfrom our default name space,other than cluster IPF Kubernetes,nothing should be there.So we have completely cleaned up everything.So this completes that deployment section,and in our next section is going to be services,and then we will see services concepts in our next section.So I'll see you in the next lecture.Until then, bye-bye.Thank you.