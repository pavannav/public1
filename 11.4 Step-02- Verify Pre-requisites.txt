# 11.4 Step-02- Verify Pre-requisites

-: Welcome back.Let's go back to our GitHub Repository now.So we are in AWSstacksimplify/aws-eks-kubernetes-masterclassinternal repository,which is a profit repository of mine.And whenever I do the course updates,so I will add the new section hereand then update the sections in detail here,all the documentation related to that.And then when I am publishing,once everything related to that section is completed.So I will publish the videos on Udemyand also ensure that, that (indistinct) section related,get changes also will be added here.So this is the public repository where you have the accesswhich is AWS EKS Kubernetes Masterclass.And currently inside this you have only 08 ELB.So there is nothing related to 08 EL, new 08 ELB.But now once this entire section recording is completed.So I will ensure that this respective sectionrelated all the changes are also added hereand then you will get access to them.So far, now the recordingwill happen on this internal repositoryand we'll move on to the section 0801,Load Balancer Controller installer.So this is the first thing we are going to do,as part of this mega section.And here, so as part of step 00 Introduction,we already understood what is Load Balancer Controllerand then how it is going to have the objectsinside Kubernetes and then how it is goingto create the Application Load Balancerand all those things.So this is primarily on a high level if you see it.We are going to create a IAM policyand make a note of that policy ARN.And then we are also going to create a IAM roleand associate this IAM policy to this I am role.And also we'll create a Kubernetes service accountand bind this role,and then service account together.By annotating this service account with this role ARN.That is what we have seen in the picture here.So we'll create a IAM policyand that is associated to the IAM role here,and this IAM role related ARN,will be annotated in the Kubernetes service account, here.So let's come back here.And in addition to that,we are also going to installthe AWS Load Balancer Controllerusing the (indistinct) CLIand also understand about the new concept,introduced inside this AWS Load Balancer Controller.So is ingress class concept?And we are going to understand that.And also whatever the ingress controller,we are going to install.We are going to make that as the default one.So we'll see all those things in detailwhen we are implementing these steps, right.So far, now we'll move on to the prerequisite steps here.So we have three prerequisiteswhich we are going to implement now.So the first prerequisite is,ensure that you have the eksctland then kubectl command line utility installed.So as part of the prerequisite sectionof this course,already they were installedbut we will crosscheck once, right?So we'll say eksctl and version.So as on today this is the latest versionbut whenever you are doing itit might be a different version too.And also we'll see the kubectland we'll say version and hyphen hyphen shot, right?So it'll provide both the client versionand also the server version.So the client version I'm using is v1.22.4and the server version is 1.21.5.And if you see the note here,you must use a kubectl version that iswithin one minor version differenceof your Amazon EKS cluster control plane.For example, if you're using the 1.20 kubectl client.So you can use the Kubernetes clusterof version 1.19, 1.20and then 1.21.So this means that as our client version is 1.22our server version supportedhere are 1.21, 1.22, and also 1.23.So now let's come back hereand move to the next prerequisite.Next prerequisite is create your EKS clusterand worker nodes if not created.So we already created the EKS clusteras part of section 0102and also as part of section 0701,which is nothing but we have created as partof this respective section a private node group.So if you see in 01, right?In section 0102 we have created the EKS clusterand also we have created a,and associated a (indistinct) or IDC provider.And after that as part of section 0701,we have created a EKS private node group.So both things are completed now,which means we should already have the EKS clusterand EKS node groups in our private subnets.But it is a additional crosscheckwhether those were present or not.And if those were not present then you can go aheadand then directly execute this command,and this command, and this command.These three commands, to create them immediately.And as those were already created,so now we'll go back to our EC2,which is our AWS Management Console,and verify that we havethe two private node instancesrunning in a node groupand we can go to EKS Elastic Kubernetes Serviceand also verify the same thingshere on a very high level, right?So we'll go to EKS clusterand eksdemo1 cluster is up and running,whose Kubernetes version is 1.21 as on today.And if you see here, so let's wait for it.So two nodes are running thereand the current workloads you can see,code DNS, AWS node and then kube-proxy.And the configuration informationwe can see here in detail.So this is what we haveand then ready for us so that we can go aheadand then directly install the AWS Load Balancer Controller.So once the prerequisite two verificationof these things were completed.So we'll go back hereand also verify the same things using eksctl commands.So eksctl and you'll say, get cluster,and you'll find that eksdemo1 clusteris up and running.See eksdemo1and it is created using eksctl CLI.And we can get the node groupsfor this respective eksdemo1 cluster.So let me copy this commandand run it here and see the node groupassociated with this respective eksdemo1 cluster.So you can see eksdemo1 ng private1 is the node group name.So which is already createdand it has currently two nodes running.And verify if any IAM service accountspresent inside this EKS cluster.So let me see that too.So eksctl get IAM service accountand provide that cluster name.So it'll say that there are no IAM service accountsfound inside this EKS cluster.Okay, fine.And another important thing here isif you have not configured your kubectl, kube config.So whenever the EKS cluster is createdit'll automatically get created,the kube config which is located in,dollar, home, slash, dot, kube, slash, config.So this will have the information.so I'll say, cat.And this will have the informationabout connecting to our EKS cluster using kubectl.All the authentication information.And if, if by any chancewhenever you run the command kubectl get nodesand you are not getting any outputfrom this local desktop CLI,you are not able to connectto your remote EKS cluster instances in AWS Cloudand you are not getting this type of output.So then you can go aheadand then run this command,AWS EKS and in which region your clusteris created and you can say, update kube configand provide the name of your cluster here.So my name of my cluster is eksdemo1which you can get using eksctl get clusterto get the cluster name,and then update your cluster name here,and run this command.So I will, what I'm going to do is,so I will empty my kube config here, right?So I'll say dot kube and config file.In dot kube folder, I have the config fileand that I have cleared it,and if I say, cat, for that file, nothing is there.So now I will run this command,so that again it will reconfigureor it has added the content thereand you can see all this is added.So before that, what I'm going to do is,so first I'll clear that, right?And then run the kubectl get nodesand then see what happens, right?So let me run the get nodesand it says that connection to the server was refusedbecause there is no configuration informationfor kubectl to connect to yours AWS EKS cluster.So it has no information about to which EKS clusterthis kubectl command need to connectand get the nodes information.So we'll run this command, which is AWS EKS,region; US East 1, update; kube config,name; eksdemo1.And now we'll run that kubectl get nodesand we'll get the informationbecause our local config filehas the information, connectivity informationto our remote EKS cluster running on our AWS Cloud.So this is good.And these are the prerequisites we need to crosscheckwhich is you have your EKS cluster up and running,and you are able to connect itto using kubectl get nodes,so that your kubectl CLI is configured perfectly with that.So that's what we are supposed toverify all these prerequisites.So in our next lecture we are going tomove on with creating the IAM policy.So I'll see you in the next lecture.Until then, bye bye.Thank you.