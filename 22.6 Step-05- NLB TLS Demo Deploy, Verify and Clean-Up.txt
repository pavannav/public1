# 22.6 Step-05- NLB TLS Demo Deploy, Verify and Clean-Up

-: Welcome back.Let's go to our GitHub repositoryand enter into the section 1902 LBC NLB TLS.And as part of introductory section,we already discussed about all the TLS annotations.And we also reviewed the TLS annotations.So now, let's come back here to Visual Studio code,and go to this SSL set ARN,and this one, copy with your certificate ARNwhatever you have created.For me, I'm going to just crosscheck my ARN here.So if you see here, my ARN is ending with 6E0D.So, let me come back here to myAWS certificate manager and this looks good for me.Or you can copy and then, repaste it here.So, my certificate is goodand restall should be good for me.So, in your case,just replace this with your certificate here, ARN.So now, let's go to that next step here,which is nothing but deploy all Kube manifests.So, let's go to our terminal here and we arein section 19 ELB network load balancers with LBC.So, CD 1902 LBC and LBT LS and run the command kube c.You can also say LS LRTA and cube manifest.And you can see, it is present here.I'll say KubeCTL apply hyphen F kube manifest.So, this should deploy and createa app three Nginx deployment,and also, it should create a network load balancer servicefor us, TLS LBC network LB.And if you want to go aheadand then verify the load balancer control locks,we can do it.We already done it in the NLB basic section.We really don't need to do.So as far as, we have this load balancer type as external,it is any way going to associatewith our latest load balancer controller only.So now, let's come back here and run the commands.Clear KubeCTL get ports and our ports should be running,which is app three Nginx.And we'll also run the command KubeCTL get SVC services.Right? And you can see here,the load balancer related DNS name is this oneand port 80 listener with the backend port,which is nothing but the worker node port.Our node port is 30214 and 443 with 31017,and port 81 with node port as 31917,and port 82 with 31793.So if you see here, these two are the core things for us.Port TLS and non TLS, non TLS and TLS.So, these are added for just additional understanding only.Optional things for us,just to demonstrate that every listenerwill have its own new target group created.For that purpose, we have added that.So now, let's come back here, right?And let's go to EC2 load balances.So, let's refresh.We are in the load balances section here,in the EC2 and load balancer is currently provisioning,but in the basic configuration tab, verify the DNS name.So it is ending with 08628,and which should match the same thing here, 08628, right?So now, let's come back here and in listeners,you can see 80, 81, 82 and also 443.So for 443, you can see the security policy associated.And also, you can see certificate also associated here,star.stacksimplify.com.In your case it is going to be your certificate.And finally, you can also see thatall these things have a different target group.So, this is different.The ID at the end is different for all the four things.So if we want, we can also go to, we can also go toany of these things and verify these things, right?In port 80, this is F 7 something.And there are another four things available herefrom target groups perspective.So, let me cancel this,and come back here and go to target groups.So, directly you can see four target groups present for us.And let's wait for the load balancer.It is in active state.So now, let's come back to target groups.Open any target group, right?And you can see, total two targets and refresh here.And these are currently in the register, registration state,once they are registered.So, those should be shown as healthy here.So, let's wait for them to go aheadand then, register successfully.You can see here, these look healthy now.So also if you want, you can open one more,and verify the same, healthy.And, we'll also open the third one, healthy,and we'll also open the fourth one here,and those are also healthy.So now, let's come back here and access with HTTP.So, we'll access our HTTP URL and also HTTPS URL.So, let's go to our terminal, copy this URL, right?And come back to browser.Let me close certificate manager.And, HTTP and this one.So, this should provide a not secure plain HTTPrelated connection to our sample application,which is nothing but our port here.And now, we will also access it with HTTP, yes.So, this should throw a SSL certificate popup for us.Why? Because the domain name it allow isstar.stacksimplify.com,any sub domain name.stacksimplify.com.But here, you are directly using theDNS name of your load balancer.So, this SSL pop-up will come, that is fine.Advancer, proceed to that,and your application should be accessible.And if you want, you can go here, and go to certificates,and verify your star.stacksimplify.comis visible for as the respect to certificate.We also created the 81 and 82 listeners.Let's also test them.What's wrong in it, right?So, we'll say with port 81, it should be accessible.And we'll also access with port 82,and it should be accessible for us.So, this completes the network load balancerTLS related demo, which is created using Kubernetes service.So now, let's go ahead and then, delete these things.So, we'll go here and say KubeCTL,delete hyphen F and then kube manifests.So, this should destroy our app three Nginx deployment,and TLS LBC network LB.So now, let's go here and cross verify our network,LB is deleted.This looks good.So, I'll see you in the next lecture with another NLB demo.Until then, bye bye.Thank you.