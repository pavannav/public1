# 6.1 Step-01- Introduction to EKS Pod Identity Agent

Welcome back.In this lecture we are going to learn about how exports access AWS services.So we have a ECS cluster here.And then we are running a simple app one pod in this ECS cluster.And our question here is how this app, one pod running in ECS cluster will be able to access theseAWS services.So we have various AWS services available.And we want to access those services like AWS S3 bucket or AWS DynamoDB or AWS SQS.So based on our application use case, we might need something like a queuing system or a messagingsystem wherein you want to use SQS or if you are using a database.Right.So like uh, NoSQL database for your application and you want to use DynamoDB, or you want to integrateyour application with S3 bucket for some use case, and then how we are going to do that.Right.So there comes a new concept in AWS called Old p I a which is called pod identity agent.So we will implement this x pod identity concept as part of this demo.So let's understand that in detail now.So here if you see there are various components available and numbering also I have provided.So to achieve this x pod identity concept we need to go step by step.The first thing here is you need to create a aws IAM role.So in this x pod identity demo what we are doing is we are going to have a simple AWS CLI pod deployedon our EKS cluster, and we are going to test access from the CLI part to this AWS S3.We are going to just say AWS S3 list, trying to list the buckets and it will fail by default.When you do that it is going to fail.Then we will follow the concept which is related to ECS pod identity.So there what we are going to do is first we are going to create a IAM role and that Im role is goingto have permissions, S3 read only access.So that is number one thing.And in the EKS cluster we are also going to install the EKS pod identity agent.So which is a daemonset which means this pod identity agent will be running on each and every node presentin the EKS cluster.So we are going to install this.And this is available as an add on in our EKS cluster.So we can just go to add ons and install the EKS pod identity agent.Then we will also create a service account for our CLI pod.So once one, two and then three are completed.Then we will create a pod identity association EKS pod identity association.So for this EKS pod identity association we need three things.One is IAM role and second is service account and third is in which namespace your respective workloadis running.So my aws cli pod is running in default namespace and it already we have created a service account andwe have also created a IAM role with S3 read only access.So using these three things we are going to create a EKS pod identity association.So once we create this pod identity association right then we will go ahead and then test from the CLIpod.It is going to fail.We just need to restart this.So we need to restart the pod so that the changes whatever we have implemented related to this EKS podidentity association, all these things will take effect for this respective pod.And then when you access, when you run the command AWS, S3 and then list, you will be able to accessall the S3 buckets.Means like you can, you can list all the S3 buckets from the CLI pod running in EKS X cluster.So the same concept applies to any of the AWS service which you want to access from ECS cluster.So example like DynamoDB, if you want to access it, you can use this option.Okay.Or if you want to access or if you want to create some EBS volumes okay.So after this demo our next demo is EBS volumes only.So here ebs cli controller a CSI controller will be running here.And for this we are going to give access to EBS service using AWS IAM and create its export identityagent.So we'll discuss that when we go to that respective demo.But let's go ahead and then practically implement this demo.So we get a complete and hands on on what we are going to do if we want to use ECS pod identity conceptfor accessing the AWS services from for the applications running in ECS cluster.I'll see you in the next lecture.Until then, bye bye.Thank you.