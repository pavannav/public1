# 18.2 Step-02- Implement Ingress Groups Demo with 3 Apps

-: Welcome back.Let's go to the GitHub repository nowand go into the section zero eight 12 Ingress groups.And in Ingress groups, as part of introductory section,we already understood what we are going to implementas part of this section.So let's go to step two.Which is review app one Ingress manifest.So let's go back to our visual studio code here.And in zero eight 12 in Ingress groups,you have a cube manifest folder.And inside that you have app one, app two,and then app three.So we'll start with app one,and in app one zero one Nginx app one deploymentand note port service.So no changes in this as usual from the previous sections.And for zero two app one Ingress, right?So if you see here in zero two app one Ingress.The first thing changes name of my Ingress resource.It is app one Ingress.And my load balancer nameis going to be Ingress groups demo.And now let's come down here.And this are the Ingress groups, we are going to define.So two annotations for Ingress group,which is group.name and group.order.And in the group.name, we are giving them myapps.web.And group.order, I'm giving them 10 as the number.And I am only providing one rule here,which is slash app one.So in this Ingress, I have only one rule.But in this app one application, you have hundred rules.So define all your hundred rules related to your applicationand implement them here, right?So this is only for my app one.And now let's go to app two.And no changes in app two deploymentand note port service as usual the same content.And for zero to app two Ingress.So if you see here on the top.So the name of my Ingress resources app two Ingress.But the load balancer name,as usual it is the same thing from app funding results,Ingress groups demo.Why because it is goingto create a single application load balancer for usand its name is going to be Ingress Groups demo.And all these things you need to group with group name,Ingress group name my app start web.And this is the app two and it's rule priorities port 20.And you have the part of slash app twofor this respect to application,which goes to app two Nginx note port service.And now let's go to app three here.And zero one Nginx app three deploymentand note port service, no changes in it.We'll leave as is and we'll go to app three here.And you see the name is app three Ingressand LB Ingress load balancer name cms previous app one,and app two, which is Ingress groups demo.And these this also belongs to my apps.web Ingress groupand the group order is 30.And here you have the default backend.So now let's go back here and go to the next step,which is deploy apps with two.These two are three Ingress resources and then verify.So this should be three.So that's fine.So Cube CTL apply hyphen R, hyphen F.So what this hyphen capital R does is.So whatever the sub folders present in cube manifest, right?So cube manifests present inside the foldersof cube manifest, also will be deployed.Which means all these sub folders app one app two app three.So re cast your folders, whatever is there.From them also the Kubernetes Alma files will be deployed.So let's go to the terminal hereand go into the section zero eight 12.So we are in zero eight new ELB application load balancesand we are into C A CD zero eight 12 Ingress groups.And I'm going to say Cube CTL, apply hyphen F and hyphen R.And I'm going to provide that cube manifest.Or you can just say, this is one way of doing it.Or you can remove cube CTL, apply hyphen Fcube manifest app one.And once this is deployed app twoand that is deployed after that app three.So like this also you can try.So we will go with cube CTL apply hyphen Fand hyphen R cube manifest.So that all the things will be deployed.So we'll start with Cube CTL, apply hyphen Rhyphen F cube manifest.What happened?Space Cube CTL space apply hyphen R, hyphen F cube manifest.Good.So this should deploy all the things for us.So now let's go back here and for all these things,another common thing you can see here is external DNS name.So Ingress groups demo six zero one stacksimplify.comin app for Ingress.And in app to Ingress also,you'll see that same name, right?In app three Ingress also, you can see it's the same name.So now let's come out of this, right?Minimize these things.Close and come back here to the terminal.And you can see app one, app two, app three relateddeployment 10 note port service created, and also app one,app two, and app three.App one Ingress created.App two Ingress created and app three Ingress created.So now if you say Cube CTL get ports should say thatall app one, app two, app three portsyou can see here running.And also you can see the services.App one, app two, app three note port servicesalso you can see.Let's clear this.Now the important thing is.Very important command is Cube CTL get Ingress.And under this whatever you see is the very important thing.So it has created three resources app,one Ingress, app two Ingress and app three Ingress.So it created three Ingress resources.But if you see here.It is referencing to a single, right?Single address here Ingress groups demoone six three six one zero four seven eight .So this is same for all three things.Which means it is referencingto a single application load balancer.So now let's come back here and verify.So we have verified three Ingress resources will be createdwith same address value.We have verified that.So three Ingress resources are merged to createa single application load balancer.So now go to the load balancer and verify the same thing.So we'll refresh here in the EC two load balancer section.And now if you see Ingress groups demo,a single load balancer is created,and it is currently in the provisioning state.So let's wait for it to provision.And in meantime we can go here and verify our external DNS,whatever it has registered here.So it should be something related to Ingress groups demo601.stacksimplifiy.com.So that is good.So I can copy this, and I can come back here,and verify that, and let's look up for that, right?And it is authoritative.So it is working.So now let me clear this and wait for the load balancerto be in the active state.So we can see here our load balancer is in active state.We'll go to listeners,and we'll go to the four four three related listeners,and then click on view all edit rules.So you can see it has created a rule one,which is slash app one.So which goes to the default app one Nginxrelated note port service.Which is nothing but it created a target groupapp one Nginx related.And for app two,it is app two Nginx related target group created.And default backend, it is going to app three Nginx.So all three rules created with priority one twoand this one is at the last.And now let's come back here and if you want,we can go and then access them.Same thing via browser.So we are just implemented the Ingress groups concept,and we have created three Ingress resources, andfrom three Ingress resources also.All those things, right?Get Ingress and all those things.Merge it togetherto create a single application load balancer.And we are testing that if it is goingto work as expected or not.So we access it Ingress Groups demo 601.stacksimplify.com,app one is accessible, and we will also access app twoand also app two is accessible.And finally we'll access the default one,which is Kubernetes Fundamentalsdemo application version three one.So all three apps are access accessibleand our Ingress group demo is successful.So let's go there and then clean up the stuff now.So I'll say Cube CTL, delete hyphen R,hyphen F cube manifest.So all app one, app two and then app three relatedKubernetes manifest will be undeployed.So let's wait for it to undeploy.We can see here all the resources got deleted.So let's go back here and refresh.And our Ingress resources should go away.And also we'll see the hosted zone stacksimplify.comand anything related to Ingress groups demois not present now.So this completes the Ingress groups demo.I'll see you in the next sectionwith another Ingress concept.Until then, bye bye.Thank you.