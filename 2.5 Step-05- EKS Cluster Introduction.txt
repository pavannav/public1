# 2.5 Step-05- EKS Cluster Introduction

Instructor: Welcome back.In this lecturewe are going to understand about AWS EKS cluster.So how EKS cluster is going to work,what are the core objects involved in the EKS clusterand more details about that core objects-what it can do and all those things.So we are going to seethat in our introductory section of our EKS cluster.So EKS cluster primarily will have four core concepts-EKS control plane worker nodes and node groupsFargate profiles and VPC.So let's see one after the otherin a very high leveland then we'll go in detailabout those things in upcoming slides.So EKS control plane is nothing but the master nodein our regular Kubernetes architecture.So which means it'll host the outsideand then cube API server, cube controller,all those stuff will be present in this control plane.So now in regular Kubernetes,we need to maintain our master nodes too.But when we come to the cloud herewhat happens is the entire control plane is managed by AWS.So we really don't need to worry aboutour high availability of our (mumbles)or our cube API servers,our controllers or whatever present in the master.All objects is managed by AWS EKS control plane.So we really don't need to worry.So that's a complete manager service by AWS.So our responsibility starts with provisioning the clusterand after that provisioning the worker nodes,nothing but node groups.So not groups are nothing but group of EC2 instanceswhere we run our application workloads.So we will provision the EC2 instances hereand then on those things we are going todeploy our Kubernetes applications, whatever we want to run.So the next comes the Fargate profiles.So again, the same concept comes here.So which means like we really don't need toprovision the hard model of EC2 instanceswith CPU, RAM, all those things.So we can directly deploy our Kubernetes applicationswhich means like our respective portson the Fargate profilesand it is going to be like how much we need,that much we can allocateand then use in the serverless.In simple term there is no wastage of resourceswhen we use the serverless concepts using Fargate profiles.So the next thing is VPC.So now Y VPC.Y VPC is also a core object in EKS cluster.So if you refer the documentation,the core things they say iscontrol plane worker nodes and then Fargate profiles.But when you see in a deeper view of your EKS,you also need to understand one thinglike whenever you're deploying your production loadsyour design and architecture plays the primary role.So when we are doing the design, then the core thingwhat we need to know is security.So security comes fromhow we design our virtual private cloudwhich is nothing but the VPC, right?So that's the reason I added the concept of VPC also hereand stating that that also comes under the core objects.So now why this VPC?Why? Because you can deploy your application workloadsdirectly on the public subnets in the EKS clusteror you can create a node group in the private subnetand deploy there or you can even deploy Fargate profiles.And another important thing here is Fargate profilescan be created onlyif your VPC is having minimum one private subnetwhich means Fargate profiles only run non-private subnetswhich means we should be aware of VPC conceptsand also we should be awareof public and private subnetsand equal and security groupsand how we are going to handle it.And when you deploy the things in the private subnetswhat happens like if our cluster,if our application workloads or even the workloadswhatever you have deployedmeans like our worker nodespresent in the private subnet need to be communicationwith the EKS control plane.So for that purposealso it need to deploy the VPC NAD gateways.So there are multiple concepts involvedwith the VPC in addition to these three core objects.So that's the reason VPCalso becomes one of the core feature for EKS clusterfrom design perspective.So now let's see, how does this EKS work?So this imageI directly took it from the AWS documentation.So what we are going to do that is the core thing, right?So first we are going to provision our EKS cluster,which is nothing but our control plane.And once we provision our EKS clusterwe are going to create the node groupsnothing but deploying our worker nodes.So now our cluster, which is nothing,but master is ready and the worker nodes are ready.So what we are going to do is we are going todeploy our applications.So to deploy our application workloadswe need to connect to our cluster.So we are going to do that using our Kubernetes Kubectl CLI.So kube, CTL CLI.So once we deploy, we can run our Kubernetes appson the respective Kubernetes clusters.So that's about on a high level.Let's see, each of our components,means like whatever we set the core objectsin detail step by step.So EKS control plane.It says single tenant Kubernetes control planefor each clusterand control plane infrastructure is not sharedacross clusters R AWS.So it is going to be independent for us.And another important thing is this control planeconsists of at least two API serversand three outside nodesthat run across three available zones within a region.And as AWS is going to manage itso EKS automatically detectsand replaces unhealthy control plane instancesrestarting them across the availability zoneswithin the region as needed.So that's about control plane on a high level.So the next thing is worker nodes and then node groups.So worker missions in Kubernetes are called nodesand these are nothing but our regular EC2 instances onlybut the AMI specifically designed for Kubernetes from AWS.So another important thing hereis EKS worker nodes running our AWS accountand connect to our clusters control planewhere cluster API server endpoint.So now here what we need to understandis this cluster server API endpointshould be exposed to the internet.Our means like our worker node should be accessed internallyto the VPC using this cluster API server endpointor our worker nodes need to govia internet and then access this APIs server endpoint.These are design strategieshow we are going to design our EKS cluster.So all those things we can look intoin our production design section.So, and another important thing hereis a node group is one or more EC2 instancesthat are deployed into a EC2 auto scaling group.So when we are doing the cluster autoscalerwe'll understand the concepts of these auto scaling groupsand then how we can automatically scaleour worker nodesbased on the CPU and memory resources available.So we'll see thatin a dedicated manner in this separate specific section.One more important thing hereis all instances in a node groupmust be of same instance stylebe running the same AMIand use the same EKS worker node IAM role.So all these are core things, okayBut do we need to worry about all these things here?No. So when we use the EKS CTL command linemost of the things are achieved directly out of the box.We don't need to worry about worker node IAM roleor running the same AMI or running the same instance there.All these things are automatically taken care with EKS CTL.So the next thing is Fargate profiles.So AWS Fargate is a technologythat provides on demandright sized compute capacity for containers.So with Fargate,we no longer have to provision, configure or scalegroups of virtual missions to run with containers.So each pod running on Fargatehas its own isolation boundaryand does not sharethe underlying kernel CPU resources, memory resourcesor elastic network interfacewith another part.So AWS especially built Fargate controllerslike how we have the cube controllerand then cloud controller in Kubernetes masterSame way, they have something called Fargate controllerand that recognizes the ports belonging to Fargateand then schedules the many Fargate profilesbased on this SELECT US concept,which we are going tosee specifically in our Fargate section.So we'll see more in our Fargate learning sectionall these things.So another thing is VPC.So EKS uses AWS VPC network policies to restrict trafficbetween control plan components within a single cluster.We have discussed a little bit also about this.So how you are going to accessthe cluster API server endpointsfrom our worker nodesis a decision of ours,how we want to access itinside the VPC or via internet edge,which means like your cluster API server enter endpointshould be how you want to expose it.So, and another important thing hereis control plan components for EKS clustercannot view or receive communication from other EKS clusterpresent in same AWS account or in other AWS accountsOkay? Unless we authorize the Kubernetes RBAC policies.So this confirms that our EKS cluster is highly secureand highly available configurationmakes us reliable and recommendedfor deploying our production workloads.So all in allEKS is ready for deploying our production workloads.But the core thing here is each conceptneed to be drilled down in detailand then understood in detail so how we are going to use it.So all these things we'll do in a step-by step.So what we are going to dois we'll see the Kubernetes concepts.and EKS related AWS servicesare EKS attached AWS services hand in hand.And then we'll understand everything in detail.So I'll see you in the next lecture and then bye bye.Thank you.