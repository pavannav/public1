# 4.1 Step-00-01- Kubernetes Architecture

Instructor: Welcome back.In this lecture we are going to understand a little bitabout Kubernetes architecture.So why Kubernetes?So Kubernetes is a portable, extensible,open source platform for managing container workloads.So out of the boxthe following features are available in Kubernetes.Service discovery and load balancing, storage orchestration,automated rollouts and rollbacks, automatic bin packingself-healing, secrets, and then configuration management.So let's see what are the Kubernetes componentsin its architecture, right?So primarily, we see like we'll have both masterand then worker nodes in the Kubernetes.And on all these nodes we'll havethe container runtime installed.Whether it is master or worker nodescontainer runtime is mandatory and we can say it as dockeror some other container runtime options available.And next thing is etcd.So etcd is the key-value storewhich stores the master and node information.So one more will be Kubescheduler.So all these things, what does these do?We'll see in our upcoming lectures.So, but we'll have Kube-scheduler here and Kube API serverand Kube control manager and then cloud control manager.So that's the master components on a high level.And in worker nodes,we are going to have Kubelets and then Kube proxy.So let's see one after the other,what each of these components doand then their responsibilities, okay.So let's start with the master componentand then master node and inside that container run timeis a default thing.So which might be Docker or any other run times.And let's start with the Kube API server.So it acts as the front end for Kubernetes control plane,it exposes the Kubernetes API.So CLI tools like Kubectl or even the master componentslike scheduler, controller, manager, etcdand worker node components like kubelet,everything talk with this Kube API server.And next is etcd.It is a consistent and highly available key value storeused as Kubernetes backing store for all cluster data.It stores all the master and worker node information.So next is the kube-scheduler.So scheduler is responsible for distributing containersacross multiple nodes.So it watches for newly created pods with no assigned nodeand select a node for them to run on.And next is the kube-controller.So this kube-controller manager controllers are responsiblefor noticing and respondingwhen nodes, containers or endpoints go down.So they make decisions to bring up new containersin such cases.And it is a combination of, kube controller manageris a combination of multiple controllers inside, okay.So let's see what are those.So we will have one node controller, which is responsiblefor noticing and responding when nodes go down.And we will have replication controller responsiblefor maintaining the correct number of podsfor every replication controller object in the system.And endpoints controller populates the endpoints object,that is joins, services, and then pods.And one more, we'll have something called service accountand then token controller creates default accountsand API access for new namespaces created in Kubernetes.And next one we'll have one more, which is nothingbut Cloud control manager in the master nodes, okay.So this cloud controller manager is responsible for,means like this componentembeds cloud specific control logic.So it is mainly forthe cloud related architecture of Kubernetes.It only runs controllers that are specificto that respective cloud provider.So on-premise Kubernetes clusterswill not have this component.And node controller for checking the cloud providerto determine if a node has been deletedin the cloud after it stops responding.And you'll also have route controller for setting up routesin the underlying cloud infrastructure.And also same as kube controller, you'll alsohave something called service controller,which is for creating, updating and deletingcloud provider load balancer.So these are all the master node componentsin the Kubernetes architecture, okay.So now let's see the worker node components, okay.So in a worker nodecontainer runtime is going to be as usualon every worker node.So the underlying software where we run our stuffis going to be the container runtime inside the work nodeor whatever the VM instance in them, okay.So we are going to use dockerbut we have other runtime options like RKTR,Containerd, et cetera.So now one thing here is the next one is kubeletwhich is the more important one.So let's see about it, okay.So kubelet is the agent that runs on every nodein the cluster.So the more number of worker nodes, on every worker nodewe are going to see kubelet is present inside that.So this is the agent is responsiblefor making sure that containers are runningin a pod on a specific worker node.So, and next is the kube proxy.So it is a network proxy that runs on each nodein your cluster, it maintains network rules on nodes.So then what is the use of it, right?So in short, these network rules allow network communicationto your pods from network sessionsinside or outside of our respective cluster.So these are the core thingsabout Kubernetes master and then worker node components.So I'll see you in the next lecture.Until then, bye bye, thank you.