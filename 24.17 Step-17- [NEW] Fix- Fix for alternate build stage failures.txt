# 24.17 Step-17- [NEW] Fix- Fix for alternate build stage failures

Instructor: Welcome back.Before going to clean up, I want to discuss aboutwhy our every alternate building build phase is failingand it is trying to retry, right?So the problem there is likewe are using in our docker file, nginx latestand the docker hub will have the rate limitsfor anonymous users.So for that purpose, every time the build is failingfor the first time and when it is retried,it is taking it from the cache and then it is passing.So if you go to the build stage here, right?So you'll go to the build phase hereand we'll go to build projectsand if we go to the build EKS DevOps 551and here you can see right?So always most of the times, okay, so this is succeeded,this is failed and this is passed,again, this is failed and this is passed.So why that is happening is mostof the time it is hitting the docker hub rate limits.So what I have done is in the docker file.So if you go back to our docker file here, right?So instead of using the docker imagefrom nginx docker image from docker hub,I'm using the elastic container registry,public elastic container registry,AWS related nginx docker image.And for this there is no rate limit for when we are tryingto access it via code build.So which means our docker file will be updated herein our AWS EKS DevOpsand also in your, in our GitHub files to this one,this docker history we are going to use as a,from this docker history,we are going to use nginx as a base image.So I have tested itand for the first time itself it got passed.Okay, so when you come back here, right?So if you come back here, the build,so this is the earlier build which we have testedand now just now I have tested thisand then it worked without any failure.So that's the key thing.If you want, we can also try one more timeso we can go back here and go to next.html.I'll try to put it as V8and the focus here is just to seefor the first time the build passes are not,this is not required for youbut just for what we call, okay, so what is the fixfor this alternate build failuresand good to learn means like why it is failingis because it is hitting the docker rate limitsfor anonymous users.So we'll say git commit -am and V8and we'll also git status git commit -amand V8 and git push.And this, we just need to verify the build phase primarily.So we'll go back here and let's see a pipeline got kicked inand we can see it got kicked inand it is running the build phase now.So let me go back here and try to open it again.Source V8 and source is completed.Build phase is running.So in the build phase, if you go back hereand try to refresh it is build 13 currently running.Try to open thisand you can see it is currently in the login state.Let's wait for it whether it is successfuland it started building the docker image also.So for the first time itself it is working as expectedso that whatever we have seenwhen we are implementing the build phaseand all those related to alternate build success thingswill not happen when we use the docker images as base imagesfrom public elastic container registry in AWS.So we'll go to the pipeline here and we'll goand then approve this and submit.And once approved, deploy phase should be kicked inand we'll also verify the deploy phaseand then access it via browserand then move to the cleanup section.So for source V8, deploy phase is successful.So we'll go back here, we'll go backand then try to access it right.So we'll go eksdevops.stacksimplify.eksdevops1.stacksimplify/app1/index html.We can see V8 is accessible.So this is good.This completes the fix whatever we have providedfor alternate build failures.I'll see you in the next lecture for cleanup.Until then, bye bye. Thank you.