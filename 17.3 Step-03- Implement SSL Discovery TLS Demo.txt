# 17.3 Step-03- Implement SSL Discovery TLS Demo

-: Welcome back.In this demo we are going to implement SSLdiscovery, TLs option in Ingress surveys.So now let's go back to our GitHub repository,and we are in zero eight new ERP application load balances,and we are entering into the section 0811Ingress SSL discovery TLS, right?So as part of introductory section,we already know what is hostand TLS from SSL discovery concept perspective in Ingress.So now we are going to go aheadand then review this Ingress manifest.So let's go back to our visual studio core,and enter into the section 0811 Kube manifestand 010203 app one app two app three deployment node ports,and node port services are going to beas is from our previous section,and if you come back here right, zero four,the name of this respective Ingress service is going tobe Ingress cert discovery TLS demo.And here also the load balancer name iscert discovery TLS Ingress,and here as usual as part of previous demoalso we have commented the certificate errorbecause we are testing the SSL discovery concept here.So we need to comment this and if you come back herethe external DNS related host name is goingto be the DNS name is going to be cert discoveryTLS101.stacksimplify.com.And the rules we are using the context partbased rules here.So when the request comes with slash app one goto app one nginx node port service, and when it comesto slash app to go to app two nginx node port service,and default backend is app three nginx node port service.So all these things we are going to access usingthat DNS host name cert discoveryTLS101.stacksimplify.com.But as you have not specified the certificatehere and here, so automatically how we needto associate the SSL certificate is using this option.So TLS and host sees a list item,and you can define multiple things here if you want, right?So, but here we have the star.stacksimplify.comis associated here now.So automatically our stacksimplify.com relatedSSL certificate which is wildcard certificate,we have created is going to be associatedto this Ingress service.So let's go back hereand deploy these manifest and then test it.So let's go to 0811 Ingress SSL discovery TLS,and say Kube CTL apply hyphen F Kube manifest.So this should create the app on app to app three node portand deployments for those applications, and alsocreate a Ingress sub discovery TLS demo Ingress service.So I'll run the command Kube CTL,get ports and services just to checkthose were created or not and also SVC.And you can see app one app to app three nginx port arerunning and also equal and node port services created,and I'll say Kube CTL get Ingress to verifyour Ingress service got created.And you can see cert discovery tier list.This is the address of our Ingress service,and it is also listing on ports 80 and then 443,and it belongs to the Ingress class, my AWS Ingress class.So now let's come back here and verifythe same thing with certificate.So let's come back and cert discover TLS Ingress,and we need to go to our HTTPS 443 listener and verifyif our certificate is associated successfullystar.stacksimplify.com is associated successfullyto our application load balancer.So which means the demo whatever we are implementing SSLdiscovery using TLS option in Ingress service shouldassociate the SSL certificate from the certificate managerwhatever we have createdto the application load balancer, right?And it is successfully associated.So let me close these things, right and let's come back hereand if you want we can also do a, and let's look up testfor our third discovery TLS, 101 related DNS.And what is the DNS we have used here?101.So this is the one, right?So sometimes this is a problem with the thing.And let's look up, and you can see,can't find cert discovery TLS, no answer, why?Maybe let's verify that logs here,and also verify the Route 53 here, right?So let's go out and go to the hosted zone stacksimplify.com,and you can see third discovery is created.So this is the problem usually, sometimes we face this.So that's the reason I usually give different names.So I'll put 102 and Kube CTL, apply hyphen F Kube manifests,and let's see what happens.And we'll go here.We have changed the DNS namefrom 1012102, maybe some Route 53 caching issues.So I'll try to do DNS lookup now.So 101 is deleted and automatically 102 is created.So now let's copy thisand do DNS lookup and then see what happens, right?And this is resolving, so this is what is the thing,usually I always put the different name wheneverI am testing it for the demos, right?So now let's come back here and access it in the browser.Cert discovery TLS102.stacksimplify.com/app1.index.html.So it should automatically redirect to https, right?So the lock symbol you can see, right?And if you go here and see the certificate,so star.stacksimplify.com certificate is associated here.And we will also check the app two, right, app twoslash index dot html, and we'll also verifythe root contact, see, lock is present here,automatically redirected to SSL,and we'll also verify the root context.And app three is also successful.So app one, app two, and our app three,all three are successful,and we'll go ahead and then clean up these things.So Kube CTL, delete hyphen F, and Kube manifest.So this should clean up all the thingswhatever we have created.So now let's go back here and verifyif our Ingress service is deleted, and it is deleted.Now let's go to route 53,and verify if our hosted zone relatedto cert discovery TLS 102 is deleted,and it's still waiting.So let's wait for it to delete,or we can also go back here and verify the logs.So let's come up here and go to terminaland verify the cert discovery related external DNS.We can see here cert discovery TLS 102 is deleted.So we can go here,and then crosscheck the same thing in route 53.So go to hosted zones,and go to stacksimplify.com and go down,and you'll not find any cert discovery TLS 102 related DNS.So this completes the SSL cert discovery related, both demoswhich is host and then TLS.So in our next section, we are going to understandabout one more Ingress concept.So I'll see you in the next lecture.Until then, bye bye.Thank you.