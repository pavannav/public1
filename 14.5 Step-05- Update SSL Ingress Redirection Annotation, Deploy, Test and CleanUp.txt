# 14.5 Step-05- Update SSL Ingress Redirection Annotation, Deploy, Test and CleanUp

-: Welcome back.In this demowe are going to implementthe Kubernetes ingress SSL redirect use case.So this network diagramis from our previous section,which is SSL ingress.And as part of this sectionwe are going to add the annotationsrelated to SSL redirect in the ingress service.And then whenever we redeploy this Kubernetes manifestso it is going to do a HTTP to HTTPS redirectfor all the URLs.So which means all the applicationsdeployed using this ingress servicewill be only accessible using HTTPS URLs.And whenever you access with HTTPautomatically it'll redirect to HTTPS.So let's go back to our GitHub repositoryand enter into the section 0805 ALB ingress SSL redirect.So if you see the Kube manifestso those are going to be same as the previous sectioncopy of the previous section which is ingress SSL.Only thing iswe are going to add a annotationrelated to SSL redirect.So let me copy this SSL redirect related annotationand go to Visual Studio Code.And we are in section 0805 ALB ingress SSL redirectand in Kube manifest section 04 ALB ingress SSL redirect.So you can find here the name of my ingress serviceis same thing which is ingress SSL demo.So if you go here and say kubectl get ingress.So you'll find the ingress SSL demo relatedingress service only.So as part of previous demo really didn't clean up anything.We are continuing tools from 0803 demo to 0804 demowhich is 04 demo to 05 demowhich is ingress SSL to ingress SSL redirect.See the ingress service is already createdand it is present there.So for this ingress servicewe are going to just add one more annotationwhich is nothing but SSL redirect setting.So in this redirect setting,so to which port it need to redirect,we are provided here which is 443, right?So port 80 will redirect to 443 here.So now let's come back here and come out of 0804and go to 0805, which is ALB ingress SSL redirect section.So there only you have added this change which isSSL redirect annotation.So now you'll say kubectl apply -F kube manifestand there should not be any changesfor your app one app two app three related deploymentand note port services.So you can see all six should be unchangedbut your ingress SSL demoshould be in the configured state,which means the ingress annotation,whatever you have added related to redirectshould be applied now.So now let's come back here and go to the load balancerand refresh it and go to listeners.And if you go to this respect to port 80 listeners, right?So inside that you should not findany app one app two app app three relatedor default backend related rules now,so you should have only one thing which saysthat redirect to 443 port.So this is because ofwhatever you have added the annotation here.And if you remove this annotationall three default rules app one app to app threewill be there how you have seenin the SSL use case demo, right?So now let's come back here and test the same thing, right?So let's access the HTTP URLsand those should directly redirect to HTTPS.So in this, if any caching is theremaybe we'll go to the new incognito mode and access it.And if you see here I am accessing the SSL URLand it automatically redirected to the SSLI accessed the HTTP URLand it redirected to the HTTPS URLand you can find the certificate here.And same way we will go back here, right?And take the app2 URL and come here and access it.If you see here I'm accessing the HTTP URLand it should redirect to HTTPS.You can see here connection is secureand certificate is valid.Same applies for the app three, which is root context.We have accessed HTTP URLand it redirected successfully HTTPS.And you can see connection is secureand certificate is valid.So this completes the SSL redirect related demo.So we'll go ahead and then clean up these things.So I'll go back hereand say kubectl delete -F kube manifest.And once this is deleted,we are also going to crosscheckwhether our load balancer is successfully destroyed or not.So all the deployments and notebook services were deletedand ingress related service also deleted.So let's refresh here and it is gone.This is good.So now also go to the Route 53 related serviceand go to the SSL day hosted zoneand go to stacksimplify.com.In your case, it'll be yourdomain.comand remove the SSL demo one related DNS recordwhatever we have created, right?So I'll delete the record SSLdemo101.stacksimplify.comright? So this completes the cleanup part.In our next sectionwe are going to focus on very, very important topicwhich is external DNS fo Kubernetes on AWS cloud.So I'll see you in the next section.Until then, bye bye.Thank you.