# 25.4 Step-04- Review Notification Microservice Kubernetes Manifests

-: Welcome back.In this lecture, we are going to discussabout the Kubernetes manifestrelated to user management microservice,and then notification-microserviceand also our ALB Ingress service.So step four, five, six,and then seven and then eight.So all these four steps are primarily relatedto this manifest only.So, let's start with step four,which is create notificationmicroservice deployment manifest, right?So, I have created everything and then put it ready here.So, it's a standard deployment manifest.So, we really didn't add anything special herebut we'll go and then review it step by step.Okay, so let's go to...if you see here 01, 02, 03 to 07are our templates in 12 microservices deploymenton EKS and inside that queue manifests, okay?So you know that 01 is relatedto our MySQL external name service.And then you need to replace your external name hererelated to your RDS database.So, whatever the RDS database endpoint is present with you,so you need to replace this value.So, let me go thereand then show you that one more time, okay?So this endpoint you need to replace here.So this is the endpoint informationwhat you need to replace in 01.And user management microservices deployment,we are not going to touch this.First, we'll go back to notificationand then come back to user management.Okay, so this is user management microservice deploymentand this is user management node port service, okay?Those two are standard ones, okay?So, now we'll go to notificationmicroservice deployment.So, if you see here API version, kind, metadataare standard stuff here, right?And inside deployment,you know that we will have spec, replica,selector and then port template, okay?So, selector will have the match labelswith whatever is presenting port template label.This is same, okay?So, that is good.And replicas, we know that we are going to have two replicasof our application, right?So, we can have two or one.Whatever we want we can have it.Okay, So that's fine.So, I'm just having it one for now.So, now the next thing is in PodTemplateSpecyou are going to have the container nameand then images whatever we have discussed here,right in our section related to images stack.Simplify cube notification-microservice 1.0.0.And for user managementyou have seen already in multiple sectionsit is going to be 809 (indistinct) the port.So, here it is going to be 8096.So here, one additional thing I have addedit is image-pull-policy always, okay?So you can remove it.So, what this does is whenever you are doingthe notification-microservice deployment,immediately even though it is present in your worker notes,that respect to image,so it is going to download it from Docker hub.So, just to add some additional option to let you knowthat we will have in container definition,something like image pool policy.So, always means it is going to go to Docker huband then pull that image to these worker notesand then use that image from worker notesSo, if this option is not there,what it is going to do is like,so it is going to usewhatever previously downloaded notification service image,Okay, with whatever the same tag is available.So, that's about it.And now you can see it here and we are on mental variableswhatever we discussed, right?So, these are the things, okay?Mail server, host, username, password,and then from address.So, let me copy that username from here,whatever we made a note or we can go hereand then copy the username from here also if you want, okay?So, I'm going to copy thisand go back to our notification-microservice deployment hereand I'm going to paste that, right?So that's the thing.And the mail server password,I'm going to remove this first, right?And I'm going to get it from here, right?Copy and then paste.And username, you know that it is stacksimplify@gmail.comThe from address from which the email is getting initiatedmeans like it looks like whenever you reach the email,the from address should be this one, okay?And mail server host, you can see SMTP service.So, let's go ahead and then see what is this SMTP service.Okay, so you can see here,notification-microservice SMTP,external name service, okay?So API version, kind and metadata, and then spec.All these are same,same as MySQL external name service, okay?Only thing the value under the external nameis going to be whatever is present here, right?So in simple email service,in SMTP settings, right?So if you see here, this is the server name.So that is what will be your external name here, okay?So, that whenever the notification-microservicewant to connect to SMTP server and send the email,the mail server host is going to be SMTP servicewhich is nothing but the SMTP serviceexternal name service, SMTP service.This is the service which we are referencing here, okay?So, if I name it as SMTP service-abc,this value becomes SMTP service-abc.So, it's just only a naming convention, okay?So, I'm just going to remove this, but that's the thing.So, we created external name service hereand then reference that in our environmental variable here.So, we have a completed discussingabout this notification cluster IP service,notification-microservice deployment,and then notification related SMTPexternal name service, okay?So which means our step four,create notification, microservice-notification,microservice SMTP, external name serviceand then notification-microserviceSMTP port services completed.So, in our next lecture,we'll focus on these other steps,which is YAML's node port serviceuser management microservice deployment,MySQL external name service, and UMS Ingress service.So, I'll see you in the next lecture.Until then, bye-bye.Thank you.