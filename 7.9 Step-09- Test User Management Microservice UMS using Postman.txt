# 7.9 Step-09- Test User Management Microservice UMS using Postman

-: Welcome back.In this lecture, we are going to test our usermanagement microservice using the Postman.So we are going to download the Postman client,and then install it using this link,and then import the Postman project,AWS EKS masterclass microservices_postmancollection.jsonpresent here.So which is nothing but this one,and then just import that to our Postman clientand then create the environment requiredfor that which is nothingbut with our respect to public IP.And then port note, port, whatever is there.Create the environment so that the URLs presentinside that are going to get replaced.And then test all these services like create user,list user, update user, delete user services.Okay, so let's go back to our Postman client.So if you see here in the import, right?So once you downloadand install your postman client,using the import so you can copy that respective file,whatever you have which is present here,whatever I have shown you, right?So this one you can, this .json file you can import.So once imported it creates like this,which is nothing butso this is the collection nameand this is the user management microservice, okay?So inside this, the first thing is usermanagement health status, right?So before doing that, what we said is we are goingto create the environment for that,which is nothing but using our workon a public IP and then port.So we need to go to settings here, in the right corner,click on that so that we'll be able to createthe environment.So the environment name.So whatever we have provided here, whatever you wantyou can provide your design name.I'm saying UMS, means user management service note port,okay?And the variable I have given here is URL.Okay.And what is my initial value and then current value?It is going to be the same.So which is nothing but this one.Okay?So whatever the node public IP, right?And 31231.So let me copy it and then paste it.Okay? So no slash at the end you can see right?So HTTP://public IPF worker node: 31231.So it is the same thing here, automatically replaced.So let me click on add, right?So I have the UMS notebook, so let me close it here.And in the environment, this is no environment.If I test, so it'll not go anywhere, could not send request.Okay?So let's select the environment UMS node portand test our health status, whatever we have tested here.So this is the same health status, okay?Here it is working.So here also it should work, okay?So you can see that user management microserviceup and running.So this request sent to our respective container presentin our kubernetes port are on our cluster, right?So now let's go ahead and then create the user managementcreate user.So this user, whatever you are creating,should be present in our MYA scale database,whatever we created here, okay?So kubectl get ports,okay?So whatever the user you are creating,why user management service should be presentin this MYA scale.We are going to test that later.Okay? So now let me go ahead and then create that.So if you see here in the body,you can see user name is admin1,email role enabled, true,first name, last name,and then password.These are the things we are going to post.So let me say send.So it'll post to this environmentand then user should be created, okay?So you can ignore this 500 internal server error.So this is coming because of some me message you areseeing here, right?User will be created, but you'll get this errorbecause it's underlying one more microservicewhich is nothing but notification microservicesnot up and running.We just deployed the user management microservice.How I have written the code is,create the user and send the notification to the user,whoever we provide the email here, okay?So what it is sending is it is not able to post the datato notifications slash send.which is nothing but the notification serviceunder 80964 to send the notificationand then do that because notification servicewe really didn't deploy, so it is not going to work.But user will get created.You really don't need to worry.So that you can verify using the list user service, okay?So user management slash user.So that is the list user service.So we create a user.Now list user service, we are testing, okay?So now you see that user got created which is admin1and then all these details.So if you want to update the user,so currently user has F name one and then L name one.So if you want to update the same user,so with F name two and then L name two.So you can just update it.Okay? And then send it so that changes got reflected.So now let's go and then list the user one more time.So you can see that F name two and then L name twogot updated.So if you want you can goand then update the same things the way it is required.Okay, so now the these changes are done,if you want to delete the user.So my username is admin1, right?So if you see here, so my username here is admin1, okay?So using the username admin1, earlier, it is twojust replace it with one.So user slash admin1 and then delete it.Okay? So now user should be deleted.So if I go and then list the users one more time,no user is present.So now let me go backand then create the user one more time.So now the user got created,list the user one more time,and user is there.And if you want we can create one more user.So I'll say admin2 and kali2and, just I'm giving some two users, okay?So and then save and then send, okay.So I've sent one more user I have created,if I say list all users,I have two users now admin1 and then admin2.So what I'm going to do with these two users iswe are going to go to the next step.So we have tested all these services,delete user also.So we are going to verify these users in our MYA scaledatabase by connecting to our MYA scale database.Earlier, also, we have run this MYA scale database commandusing kubectl run.So it is going to download the MYA scale 5.6,whatever is our main container image,in the same way for the client, also,it is going to download the same 5.6 container.And from that container it is going to connectto the MYA scale host, which is nothingbut our MYA scale deployment,whatever we have done.And then it is going to take us to the MYA scale prompt.So there we are going to run these commands.So let me copy thisand I will run this.So now it'll take a little bit,yeah, so okay,so it should run now.So we are in a MYA scale prompt.So first thing is show schemas,which is nothing, but what are databases available?Okay? So now I need to connect to user MGMT schema.So I will say, user mgmt, right?So I connect it to that schema, right?So now I will say, show tables in that schema.Okay.So now I see user table is created.So I'll say select start from users.Okay.Now if you see that I have admin1and then admin2 records got created in this database.So now let's come back hereto Postman and then delete the user.So admin1 if you want to delete,or admin2 I will delete, okay.So delete the admin2 userand then if I say list all users,I have only admin1 user.So let's execute the same select star from users.So you see only one admin1 is there.So now you can see end to endthat whatever the user you have createdAlready present in our EBS volume.Which is nothing but the persistent storage, right?So that's about it.I'm going to quit this.As soon as I quit it, the MYA scale clientrelated container is going to get terminated.That respective port is going to get terminated.So this completes the creation ofusers and then deletion using Postman.Okay?So, and one more thing we are going todo is we are going to delete all the objects nowso which is nothing but kubectl delete - F KubeManifest,whatever is there present inside this KubeManifest,all those files will be executed,and then those files, whatever the objects createdas part of that, are going to get deleted.Okay?So let me clear this and kubectl get parts.So one more time I'm repeating whatever the thing.So earlier we have this issue, right?So one time our application got restartedbecause MYA scale is not up by that time.In our next lecture, we are going to discussabout unique containers to fix that type of issue.Okay?So no restart will happen about our application.Our application should waittill the MYA scale container is up.For that we'll implement the initialization containersconcept.Okay? But for now, let's go aheadand then delete this.About this concept, also, I've written a little bit here.If you want, you can review the problem observation,what we have observedand then how we are going to fix it is usingunique container in our next section.So I'll say kubectl delete -F KubeManifest.Okay?So all my storage classes, persistent volumes,everything, whatever it has created, will get deleted.Okay? And once it is deleted,so we can say kubectl get partsand mostly nothing is there, right?Kubectl get storage class PV, PVC, all those things.Okay, let's see what is present here.So noting - the default towards class otherthan related to kubernetes, but the rest is nothing.We can see it here.So if you want, you can even type kubectl get all,and then verify the same thing, right?So this completes the Section 4, related toEKS storage with EBS block store.Okay? So in 05 Section, we'll focuson a few other important concepts related to kubernetes.So liveness probes, and then requests, and then limits,and then initialization containers,readiness probes, those things.And in 06, we'll focus on instead of MySQL DB,why we need to use RDS DB.It means like custom built MySQL DB present using EBS.Instead of that, as we are in cloud, why can't weleverage RDS database service?So we'll see that in our 06 Section.So I'll see you in the next lecture.Until then, bye bye.Thank you.