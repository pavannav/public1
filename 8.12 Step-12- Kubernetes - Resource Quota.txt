# 8.12 Step-12- Kubernetes - Resource Quota

-: Welcome back.In this lecture, we are going to understand aboutone more Kubernetes concept called, resource quota,in combination with namespaces.Combination in the sense, how you can definethe resource quota per namespace.So that's what we are going to learn.So let's take like we have a namespace name dev,and then we have our front end and then backend deploymentsand then everything inside that.So for this respective namespace,we can allocate a resource quota,like how much CPU should be allocated for this namespace,or how much memory it need to be allocated.So which means, this namespace the resources presentin inside this namespace, the containers or the portsrunning inside this namespace cannot use more thanwhatever is defined CPU, or memory.In the same way you can even define other services likeports or services or config maps, or other stuff.Like, we can define in such a way that we can haveonly five ports running in this namespace,anything other than that it should not run.So like that we can limit the number of resourcesto specific namespace using resource quota.So in the QA or in staging everywhereyou can define these resource quotas.So this is the sample manifest of the resource quota.So the kind it is going to be resource quota,and the metadata name is NS hyphen resource hyphen quota.And the namespace it belongs to is the dev 3 namespace.And in spec you can see that it starts withthe hard limits. With the hard limits,whatever we are going to define for those resourcesin specific to that respective namespace.Like number of ports should be, five ports.So if you try to run more than five ports,those are not going to scheduleon this respective namespace.So I have running like, two ports now,and if I try to scale any of this like front end or back endto another 10 parts, so it is not going to take in placewhen the resource quota is defined to be five,even though it takes and then takes the request from us,but it will not schedule those ports inside this namespace.So which means, it is invalid.So maximum it is going to have is only five portswhenever we do that also.So in the same way we can even define five config mapsor how much we want.Okay, so for this name space, how many,I want to define the resources,that many we can define config maps,or persistent volume claims, or secrets, or services,or whatever it is, okay?Even the CPU memory requested, CPU memory unlimited,CPU memory limits to our CPU, or request our CPU.Whatever we want, we can define in an orderly mannerin the resource quota.So now let's go back to our GitHub repo,and we'll go to 0-5-0-5-0-3, resource quota.And if you see here as usual,we already created the namespace earlier,the same content from previous thing.We are going to copy it here.So, and then, in addition to limit range,we are going to add additional stuff.So we have the namespace here.So we have the limit range here,whatever we had defined in our limit range sectionin 0-5-0-5-0-2.Now, we are going to add the resource quota stuffwhatever we have seen in our presentation.So we are not going to live template write this.Why? Because we already written a lot of live templates.So just like it's already we discussed about it,it is going to be a kind of resource quotaand inspect under hard.We are going to have all these items,whatever we want to add it.Okay, so we added these things so now we'll go aheadand then test it now.Okay, so we added, now we can go ahead and then,create and then, test it.Okay, so I'm going to say 0-5 hyphen 0-5 hyphen 0-3.And kube CTL, apply, hyphen F. and then kube manifest.So this is going to create everything in dev 3,the following things, okay?So including the resource quota stuff,everything got created.So now if you want to verify the port CPU and memory,which we have done in earlier sections,we can ignore any limits.Also we have seen earlier, we really don't need to worry.So we'll start with the quotas.Okay? So before that we'll say kube CTL, get ports,and then hyphen dev 3.So just to see that our things are starting up.Okay, so they are starting up.So now let's go ahead and then view the quota information.Okay, so kube CTL, get quota hyphen dev 3.Dev 3 is our namespace. So MS resource quota got created.So now let's copy this, and then describe it.Okay, kube CTL, describe, quota,and the quota name is NS resource quota.And in namespace, hyphen and dev 3.Right, so now you can see it here.How many config maps used, is one config map usedout of our hard limit, five config maps.So limit CPU. I have used one CPU here, out of two.Okay means like further limit, how much limit is there?So limits memory, one GI and the hard limit is two GI.In the same way persistent volume claims we have createdone Myer scale database with EBS as the volume.So it is going to be one, and then out of five,we have used one in the same way.We have two parts here, two out of five.So like this, whatever we have defined everything, right?So or means like the hard limit,and then how much we have usedwe can see using kube CTL describe, quota.In the same way, if you want to go ahead and then accessour application you can say kube CTLand then get our service port,and then also get the public IP, and then access it.So this we are doing from longer timeso I'll leave it to you.And finally, we'll go ahead and then clean up the stuff.Okay, so that's about Kubernetes resource quotas.So in our next lecture,we'll start with one more important concept whereinwhy we should not use this EBS driver with the Myer scale.Instead of that, why we should use RDS.All those things we are going to learnin our next dedicated section for RDS databasesand then Kubernetes as part of that.Again, one more thing we are going to learn is,from inside Kubernetes cluster,how we are going to access external services, okay?Using external name service, also we are going to look into.So I'll see you in the next lecture.Until then, bye bye. Thank you.