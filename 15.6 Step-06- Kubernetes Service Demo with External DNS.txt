# 15.6 Step-06- Kubernetes Service Demo with External DNS

-: Welcome back.In this demo we are going to use the Kubernetes servicewith external DNS.So, which means Kubernetes, service,off type load balancerwe are going to add that external DNS annotation here.And we are going to provide that DNS name hereand the application whatever you are going to deploywith this respect your load balancer service.So, you're going to now access it directlywith the custom DNS whatever we have created, right?So, the Kubernetes service off type load balancercreates a classic load balancer in AWSand it's DNS name will be registeredas alias in the Route 53 for the external DNS name,whatever you have specified.And whenever you access external DNS KES servicedemo.stacksimplified.comrequest will come to classic load balancerand from there,you'll be able to access your application partsload balancer under this respect too load balancer, right?Let's go back to our GitHub repositoryand enter into the section 0808use external DNS for Kubernetes service.And if you see here,we are going to create a Kubernetes serviceof type load balancer and annotate itwith external DNS related annotation for it DNS name, right?So, and then deploy and then verify the stuff.So, let's go back hereand if you see in 0808use external DNS for Kubernetes service.So you can see this 01 Nginx is app one deployment, right?And 0 to Nginx is a load balancer service.It is like humanity service of type load balancer.And here, we have added the annotation here.External DNS KES service demo 201.stacksimplify.comOur sum 101.stacksimplify.comwhatever it is, right?So, now let's go back to GitHub repositoryand go to step three deploy and then verify.So, let's go to the terminal hereand enter into the section 0808.Use external DNS for Kubernetes surveysand clear and we'll say kube manifest.We should find the two files here and kubectl.apply -f and kube manifest.So, this should create the Nginx app 1 deploymentand Nginx app fund load balancer service for us.So, let's wait for the deployment to get completed.So, now let's go back here and go to load balancers herein EC2 and refresh it.So, it is creating a classic load balancer for us.So, let's wait for this to get created.Currently, the status is zeroout of two instances is in service,so we'll wait for these things to come into service.In addition to that,we can go backand then verify our external DNS logs in parallel.So, let's come here and verify those things.So, let's wait for the logs to displayand you can see it has already created desired change,create external DNS KES service demo101.stack simplify.comin so and so hosted zone.So now, two records in zonestacksimplify.comwere successfully updated.So, now let's go back here and go to the route 53and go to stack simplify.com related hosted zoneand you should find that external DNS KESservicedemo101.stacksimplify.comand you can copy this,and come here and run the NS lookup and provide the DNS nameand it is resolving to the IP address.So, let's wait for this thing like it to come in service.So, now it is in servicetwo out of two instances are in service.So, now let's access this in the browser with this DNS name.So, what is the DNS name?So, this is the DNS name we have used.So, let's take this and put it here.And we are using the app1/index.html.So, that is what right.If you see here and let's look up is done.And this is the DNS name /app1/index.htmlAnd this is a HTTP URL, right?So, simple thing and your app1 is accessible.So which means we have used the external DNSwith the Kubernetes service and it is successful.So, now we can go aheadand then delete the kube manifest here.So, I'll say kubectl, delete -f kube manifest.And once it is deleted,we'll go ahead and also verify our external DNS logs here.So, let me go hereand get the external DNS logs related commandand let's run this command and wait for the logs.So, automatically it need to delete the DNS recordwhatever it has created.So, here you have seen the create related message.So, let's wait further delete related message now.We can see here we got the message.Delete external DNS, delete external DNS, so and so,and two records in zone got updated now.So, let's go back here to stacksimplify.com.And you should seethere is no external DNS related DNS entry inside thiswhich we have created just now.And also verify for load balancer,classic load balancer got deleted successfully, right?So this completes them.They more related to using external DNSfor Kubernetes service.So, I'll see you in the next demo.Until then, bye-bye.Thank you.