# 16.1 Step-01- Introduction to Ingress Name Based Virtual Host Routing

-: Welcome back.In this section we are going to implement anotherimportant Ingress concept called 'Name-based Virtual Host'our Host header based Routing.And we are going to implement this concepton AWS Application Load Balancer.So let's understand the network design further, same thing.As usual, we are going to use our three applications,AppOne, AppTwo and AppThree.So there three Kubernetes deploymentsand NodePort services are going to beas is and in the Ingress is the core thing.Inside Ingress we are going to make the changesforever, rules. So we are going to define ruleswith Host header based routing.So we are going to define two rules.One is AppOne.stacksimplify.comwhich means when host equal to AppOnestacksimplify.com.Route the request to 'AppOne NodePort service'.From there, it'll go to that respective pod.And when the host equal to AppTwo.stacksimplify.comgo to 'AppTwo NodePort service'.And from there it will go to 'Equivalent AppTwo port'.And for default to '.stacksimplifi.com'.And this is not a rule.So this is directly will define this relatedto default backend with external DNS related annotationand anything you access with default '.stacksimplify.com'.So it will go to 'AppThree NodePort service'and from there it will go toAppThree deployment related port.So now, next thing here is whenever you deploythis Ingress resource, right?So when you define these host rulesAppOne.stacksimplify.com AppTwo.stacksimplify.comand whenever you deploy these Ingress rules and alreadyif you have the external DNS related ports runningin your EKS cluster.So then it is going to DNS list those domain nameswhatever you have specified in host also.In addition to whatever you have specifiedin your external DNS related annotation.So which means in the host rules also you havespecified AppOne.stickssimplify.comand AppTwo.stacksimplify.com.So these two also will get DNS listed in your Route 53using external DNS and whenever user accessesAppOne.stacksimplify.com/AppOne/index.html.So the request will come to our Ingress and then goto the AppOne NodePort service and that respective port.In same line whenever user accesses AppTwo.So it comes to AppTwo, AppTwo related ruleIngress load balancer.And from there it will go to AppTwo NodePort serviceand reach the AppTwo related engineer port.And whenever user accesses with default '.stacksimplify.com'So request will go to the default backend.So this is called the Host header based routingor Name-based Virtual Host routing in Ingress.And let's see the templates, how it is going to look for us.So these are the rules, whatever we have discussed so far.So earlier, the rules used to startwith http and under http you used to have partsand you can define multiple parts.That is called Context Path based routingand for Host header based routing.So it will start with the hostand you'll define your host whatever you want.Here we have defined AppOne01.stacksimplify.com.And under that with the root contextwhatever comes go to AppOne NGINX NodePort service.So request with AppOne01.stacksimplify.comwill go to AppOne NodePort serve.And in same line for the requestwith AppTwo01.stacksimplify.com, right?It goes to AppTwo NGINX NodePort service.So these two are the rules we are going to havewith this Name-based Virtual Host routing.And in addition to thatfor the default backend you are seeing here, right?So for the default backend we can directlyuse our external DNS related annotation whereinwith the default 101.stacksimplify.comgoes to our default backendwhich is AppThree NodePort service.So this completes the introductory partof Kubernetes Ingress Name-based Virtual Host routingor Host header routing.In our next lecture, we are going to go aheadand then practically implement this use case.So I'll see you in the next lecture.Until then, bye bye.Thank you.