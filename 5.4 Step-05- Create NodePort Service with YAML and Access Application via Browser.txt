# 5.4 Step-05- Create NodePort Service with YAML and Access Application via Browser

-: Welcome back.Let's go ahead and then createa node port service to access thator whatever we have created using YAML definition, right?So let's go to our results studio core.And this is the zero to port definition,whatever we have created.And let's again take our API version base,and then put it in zero three, port node port service.So now let's see what is the kind,we are going to create this service,and its API version, right?So let's go here and then take the documentation reference,so I can go back and put it in new tab.Okay, so this is the service port,API object reference, okay?So let it open, so we can see the versionwe are going to use is V1, and the kind is service.Okay, so I will say V1.And now let's define the metadata.So metadata is going to be the name of my service.So my app pod related node port servicewe are creating, right, so nothingbut we are creating the name of the service here, okay?So, and now if you want,we can even define labels for our service, if you want to.Okay, so is it called my app?So this is optional for services,but if you want to create, we can create, okay?So if you want to filter our service systems,like we have create multiple servicesfor a specific set of applications, and thenif you want to filter them using the labels,all those services, we can still defineour labels for our service, okay?So, and now the next thing is spec.And spec for a node port service,the type of the service we are going to do,which is nothing but node port, right?What happened?Yeah.And the next is, so we'll have something called selector,and one more will be there.Ports in service,these are the high level objects type selector,and then ports.So the selector is nothing but, so we need to load balancethat traffic across ports using these labelsand selectors, whatever we have defined here.So if you see here, in this zero to port definition,our pod label is going to be app, colon, my app, right?So if you define this in this means like if you go aheadand then define that respective label here, the same label.So what it states means is load balance the traffic comingto this service across ports matching this label selector.So whatever the traffic coming to this service,if we need to route that traffic to that respective port,this service is going to identify this port basedon this label app is app column space, my app.So this is the key value pair.So based on this selector only,it is going to send the traffic.So whatever is defined in the selector,the labels defined in the selector only to those ports,it is going to send the traffic on a very high level.So let's also define the ports.So we have also seen this,the name of the ports we are going to define is SJTP.And this name is optional thing, okay?If you want you can define and I'm going to saymy service port is going to be 80 and the target port,target port is nothing but my backend application port,which is nothing but my port respective container port.Okay?And one more thing we can do here is node port.So if you want means like wheneverwe have created a node port service usingimperative commands, we really don't have an optionto define that node port specific port, okay?But when you come to the YAML definitions,you get that advantage to define it.So let's go ahead and then define that.So I'm going to use the port as 31231.So you can save this as node port,and this as container port and this as service port, okay?So like this, you can define allthe stuff here in your service.So if you see on a very high level in service,the core thing here at this level is optional.If you want you can have it or you can remove itif you are getting confused with selectorand then that level, just remove it, okay?So in metadata, the name is the core thing,and you have defined the name as my app port,not port service.And inspect, three things are important,type, selector, and then ports.And then type is node port you have defined.So if you're using the load balance of service,you are going to say load balancer, right?Or if you're defining the external name service,you are going to say external name.Or if you're going to define the cluster IP service,you can even say cluster IP,but cluster IP is the default service it creates.You really don't need to define the type there, okay?So that's about the type node output and selector.And then ports, you'll also have selector and then ports.Ports we have defined here.Selector is nothing, but whatever you definethe label inside the selector, right?So if that label matches with the port's respective label,then the traffic will be sent to that.Those respective ports, our traffic will be distributedto those respect to ports whose labels matchwith the selector value presenting service.So that's about it.So let's go ahead and then create this service now.Okay, so QCTL create minus F,and zero three port, node port service.QCTL get SVC.Our service got created.So let's go ahead and then access this now.So I'll say get nodes hyphen node wide, right?So I can take any of the external IP here,I can go to browsers and 31231, right?So welcome to Stack Simplify KubernetesFundamental STIM application Human we have up and running.So we have successfully created the port definitionand also the node port service using the YAML.So in our next lecture, we'll focus on replica search, okay?So I'll see you in the next lecture.Until then, bye bye.Thank you.