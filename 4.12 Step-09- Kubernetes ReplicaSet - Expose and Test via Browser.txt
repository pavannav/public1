# 4.12 Step-09- Kubernetes ReplicaSet - Expose and Test via Browser

-: Welcome back.In this lecture we are going to expose Replica setas a service so that we'll be able to access the applicationpresent in Replica set parts via browser.So let's go ahead and then do that now.So we are going to say Q CTL expose Replica set,which is nothingbut RS and the RS name Replica set name and the typeis going to be node port and rest All is going to be same.Port is the service port,which is cluster IP port and the target port is nothingbut the 80 80 which is nothing but my application portwhatever it is, running my container.Port Cube Hollow World container Port is 80 80.And the name of the service is going to be my HollowWorld RS service.So let's go ahead and then do this now.Right? So it's completed.So now let's go ahead and then get the the service,right? and you have it as 3 0 5 0 5.And get notes hyphen OY to get the public IP.And the public IP is this one external IPand the port is 3 0 5 0 5.Right? So let's go here and3 0 5 0 5 slash hello.and we got this.Okay, so let me make it bigger.And now if you want to refresh and you can take the same URLand in new tab one more time access it.You see one more value here, okay?And in one more time and you can do one more time.So like this you can accessand then it will keep load balancing.So if you see here it is D seven H B Khere it is Z N B G W.So to which container it is going that respectiveto container's idit is going to throw it here on the browser.So let's see what does that mean?Okay, I said cube CTL get ports. So you see it, right?The request went to Z N B G W container, okayso that's what it is showing here.And another request went to D seven H V K.So and then you have this here.So like that I have written a springboard code means likejava code in my container and then packaged itso that now whatever to which container it goes.That respect to container already you are going tosee it here just for fun, okay?So nothing much inside thatbut you need to access your application in this manner.Okay? So node one, public IP colon nodeport whatever we have got and then slash hello the contextof this application is slash hellobecause it is a hello world application.In our next step what we are going to do is weare going to test the replica set reliabilityor high availability. So what does this mean?So whenever a port is accidentally terminated due tosome application issuereplica set should auto create that port tomaintain the designed number of replicas.So that's what is replica sets reliability arehigh availability concept.So you have here three ports running, right?So and if you go ahead and then delete one pod cube CTL,delete pod and then delete one port.So you are trying to simulate the accidental deletion.Okay? So automatically it should start creating onemore pod replica said will create the pod immediately.So there is some connectivity issue but we'lltry one more time.Okay, so now the port got delete.So let's test this with QCTL get ports.So once we have deleted the port and now you seethat the all the two parts whatever are there is ageof 27 minutes, but whatever you have deleted and thenreplica has automatically created a new port which is of95 seconds.If you want we can delete one more coupleof parts one more time, okay Q CTL delete portand then we'll also delete our D seven H V K pod.Okay? So and thenin that place replica set should create one more pod.So let's see that now.Q CTL get ports.Now you can see that, so D seven HVK is gone and thenyou have got in that place 27 4 mg new port 16 seconds.It's H.So you can see the first one port is from 28 minutesit is running, the other is from two minutes and this isfrom 16 seconds.So what here Replica set is doing is, it is automaticallycreating the ports to ensure that the number of replicaswhatever we have configured here, right?So it is trying to ensure that the numberof replicas are going to be three always.So that's about the replica set reliability arehigh availability concept.So the next concept is replica sets scalability feature.So we can simply scale our replica set justby updating our spec here, right?So we can go into our spec.So let me go here and this is my replica set right?So, and then I will say hereSix replicas and then save it and then applythat change which is nothing but cube CTL replaceand the same file. Okay, let me see.Clear and past cube CTL replace hyphen Fand the replica set demo dot YML.And let's see what happens.So now our replica set got replaced.Cube CTL get RS the replica set we are going tosee now you see that desired replicas are going to be sixcurrent is six and then ready is six.So I'll say get ports and then you should see sixports up and running here now, right?So that's about it.So from last 22 seconds we have three parts cameup online automatically.So in this way you'll be able to scale your replica setquickly by updating the number of replicasin your replica set demo dot YML.So that's about it.And now the next thing is to delete the replica setin the service.So we are trying to clean up the stuff.Okay, so let's go ahead and thenget RS. So we'll get the Replica name, cube CTLdelete RS, and we are going to say my hello word RSThe same way.Get SVC, which is nothing but Q CTL.Get services and Q CTL delayed SVC,my hello world service.Once this is completed you can say QCTLget all to see that whatever is presentin your default name space where you help worked otherthan Kubernetes default cluster IP stuffno other thing is available.So this completes the replica set end to end.Whatever we have learned using imperative wayjust we have used only the AML file for us.Because Imperativelyyou cannot create a replica set object.Now one thing important here is like one pendingconcept is present in Replica set,which is label send selectors.So this is going to be a common concept formultiple Kubernetes concepts, okay?Like ports, replica sets, deploymentsand then services everywhere.You are going to use labels and selectors.So we are going to cover it when we are writing equivalentYAML files there so that we'll understand in detail.With that said, in our next lecturewe'll start working on the deployment concept of Kubernetes.So I'll see you in the next lecture.Until then, bye bye.Thank you.