# 25.3 Step-03- Pre-requisite Checks

-: Welcome back.In previous lecture we have understoodabout what are microservicesand then what we are going to deployas part of microservices deployment on EKS.So let's see what is that one more time?So this is the entire architecturewhich we are going to implement now.So what we are going to do is we'll goto our respective GitHub repo sectionwhich is tool microservices deployment on eCase, right?So step one and then step zero zero we have completed.So just to look on a very high level the use casesfrom user management microservice create user API.If you create a user, it is going to create that userand then store that data, user in the database.And then it is also going to call the notification servicessend a notification API,to send an email to that userwhen we call the create user service.So that's about the entire use case description.And then these are the docker images we are going to useas part of this sectionwhich is user management microservice.So this is the oneand notification microservice from docker hubcube notification microservice one dot zero dot zero,and then notification microservice V2 versionwhich is two dot zero dot zero, right?So now as a prerequisite stepso there is going to be one prerequisite steprelated to RDS database,Ingress controllers and then external DNS.And then one more prerequisite step related to SMTP serverwhich is AWS simple email services.So in this lecture we'll primarily focus onprerequisite one, okay?So first thing is we, we need to ensurethat we have our RDS database up and running.So we have created RDS database as partof section zero six EKS storage with RDS database.So as part of this respect to sectionwe already created the RDS database.So if it is not running,and then if you have stopped it by any chance,let's go there and then start that database.Okay, so mine is running so we really don't need to worry.So, and that respect to RDS database,we are going to associate in our communitiesfor our user management microservice applicationusing external name servicewith this respect to manifest, okay?And the second thing is ALB-Ingress controllerand then external DNS.So if you see our architecture here,so we have also highlightedthat we are going to use the Ingress service herefor exposing this respectto application user management microserviceto the internet world.So for that purpose you need to have theIngress controller installed and then running.So that's what we need to crosscheck.And then in addition to that,we also need to ensure that external DNSis also running external DNS parts so thatwhatever the application we are going to install here arecreate its sequel and Ingress service.So it's a DNS also auto registered inside the route 53.So for that purpose, external DNS also should be running.So they're equal in sections when we have doneis in 0 8 0 1 ALB-Ingress install,and then 0 8 0 6 0 1 deploy external DNSin during these two sections,we already have done thatand those should be already availableso we can crosscheck that.Okay?So let me clear this out and paste it, right.So ALB-Ingress controller is runningand one more is in default name space.We are going to have something calledexternal DNS parties running.So we are good here, okay.So now we look into prerequisite twowhich is, create simple email service,which is SES SMTP credentialswe need to generate as part of this section.So if you see here in the prerequisite two,So first thing is we need to generate our SMTP credentialsand then validate our email addressesand then move on to the next steps.Okay?So it is subdivided into two steps.One is generating SMTP credentialsand the second is verifying our email addresses.Okay?So first start with creating our SMTP credentials, right?So let me go to the simple email service.Simple email service in AWS.So if you see here in the SMTP settings, okayin left navigation you can see SMTP settingsyou can generate your SMTP settings here.Okay?So server name is going to be thisfor this respect to entire AWS region,US east one, soand then ports a default ports are going to be these thingsand we are going to generate the credentialsto access this SMTP server.So I'm going to say create my SMTP credentials.Okay?And I can say this aseither whatever the name I want to giveit says a CS SMTP user.I'm going to say microservices SMTP user areuser management microservice or whatever, right?So I'm going to say microservices, okay?Microservices SMTP user, okay?So now I'm going to say Createand it generates some credentials for us.So let me make a note of these credentials.So copy.So we can even take these thingsand we can even download the credentials.And in addition to that, so we can take these credentialsand then directly update wherever it is required.So, what I can do is we'll leave it herewe have generated the credentialsand one more time we'll go insidesimply email service on a new tab, okay?So we'll save it here later when we are updatingwe'll copy from here.So I'll go to simple email service nowand this step we have completed now, okay?So download the credentials and update thatthe same for below environmental variableswhich you are going to provide in Kubernetes notificationmicroservice deployment.yaml.So you can copy these thingsand go to your use your studio coreand take any new file, right?File, new file where I'll create here just, okayI don't know what is happening.So I'll say new file, okay, temp, okayand I'll paste it here.And this is going to be our mail server host, right?So if you see herethe mail server host is going to bewhatever the same thing.And now the mail server usernameso this is going to be our username, right?And this is going to be our password.So I made a note of these thingsand my, from address for myfrom where the email is getting initiatedor from address in my email should look likestacksimplifyheader@gmail.com.So this is my settings.I'm going to update in my notification microservicerelated, environmental variables.Okay, so now first thing here iswe need to verify our email addresses.So we are not going to use the production grid SES surveys.We are going to test only for testing purposes.So whatever the email you are sending it frommeans like the from addressand two addresses, whatever you are sending it.So all those things need to be added hereand then validated.So that's what I have written here clearly.So the from address, right?So we need two email addressesfor testing notification serviceVerify a new email address.So email address certification requestwill be sent to that addresses clicking on,too verify your email.So from address and then too address.So both you need at least two email addresses for you.And then those email addresses should bein verification state from Management console, right?So I'll say verify a new email addressand I'm going to say stacksimplify@therategmail.com.And one more emailwhich is two address also I'm going to usewhich is nothing but dcallianready@redgmail.com, right?So let me close this and I open my Gmail for Stack Simplifyand then D Callian Ready.And I got the email related to that just now.So I'm going to click on this verification emailand one is done.I am also going to do furtherstacksimplify@therategmail.com too.So I'm clicking on that.So this is also done, right?So let me go back nowand then refresh it, right?So now verification data should be verified.So this tells that these two emails we can usein from and too currently, okay?So we can even send test emailsand even test it now from here.Okay?So only two options.We use it here.One is SMTP credentials.So there we have taken the server name from here, right?And then credentials we have generated from hereand then made a note of those credentials here.And from address,we said that whatever is the first email addresswe verified here, right?This one.And too address the other email address, how many numberof too addresses you want,you can add those things, okay?So now this, everything is completed.So you also, you can also verifythat whatever the user created, right,disrespect your userwill already be there in our IAM, okay?So this user is created as SMTP user in your IAM console.So it'll be here.So in future, if you really don't want this userand then you want to delete ityou can go to IAM and then delete it.So these credentials are going to be dummy for you.These are not going to work for you.You need to generate SMTP credentialsfrom your AWS accountand then use it in your case, okay?So anyway, after this respective sectionI'm going to delete this part.So at that time,these things are going to be invalid.So that's about theSMTP credential generation stepwhich is nothing but step three.Okay?So we have discussed step twoand step three in this lecture.In our next lecture, we'll move onwith discussing the Kubernetes manifests requiredfor this entire microservices use case.So I'll see you in the next lecture.Until then, bye bye.Thank you.