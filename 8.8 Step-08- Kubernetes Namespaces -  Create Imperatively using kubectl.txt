# 8.8 Step-08- Kubernetes Namespaces -  Create Imperatively using kubectl

-: Welcome back.So let's go into our GitHub repo zero five, zero five,(indistinct) name spaces.So we are going to deal name spaces in three ways.One is we are going to do it in an imperative way,and then just understand in a quicker way,what is name spaces,and then how we are going to create multiple environmentswith the same Cuban that is manifest using imperative way.And then we are going to write a manifest,for name space and also for limit range,and then implement the limit range concept for name spaces.After that,we are also going to implement the resource quota concept.So we are going to write,that respective Kubernetes manifest and then implement that.So let's do that step by step now.So we are going into zero five, zero one, name spaces,in (indistinct), so introduction part,we already took care in our previous lecture.So let's start with name spaces, (indistinct) declinedev one and then two and environments.So what does this mean?Dev one and then dev two environments,so we are going to create two name spaces.One is nothing but dev one and the other is dev two.And we are going to deploy the same manifest,so whatever we have createdas part of request limits till that time.So all those manifests, okay?So eight manifests which will create a backgroundof my skill database and then front end,as a user management microservice,and then which will call them my skill database,as it's a persistent store.So, and then all that, whatever we have built so,far is available here and the same things, whatever,from previous section I have copied here to cube manifest.And then we are going to leverage that.So let's first go to our terminal and then verify,and what are the existing name spaces, right?So we have default,and then whatever is provided the current four name spaces.So we are going to say cube CTL, create name space.So you can say even name space are even you can say yes.So I'll start using (indistinct)so that it'll be easy for you later.So instead of typing entire name space, right?So and also I'll create one more which is dev two,and then I'll say cube CTL get amess,which is nothing but name spaces.So now you can see dev and and then dev two alsocreated eight seconds and six seconds back.So let me clear,and now one important thing we need to do,in our user management note port services,we have provided the note port as three, one,two, three, one.So as you know what is note port is nothingbut the worker note port,it is going to tie with that.So three, one, two, three, one will be our worker node,easy to instance port.So if you keep deploying these templatesin multiple name spaces, so every time it,cannot attach it to the three, one, two, three, one,node port and then it'll have the error because for our easytwo instances three, one, two, three, one is only one portand then it cannot be shared across multiple name spaces.So if we comment this part in our respective,user management note port surveys,so then automatically (indistinct)is going to assign the dynamic port, for note port.So let's go ahead and then comment that now,so why we are doing this one, okay?I can take a simple engineers application andthen show you how to do all these things in name spaces.But the thing here is whenever you go into abigger things then only the problem starts areall these types of issues you'll understand andthen you'll be able to resolve.So that's the reason we have taken one set,of application with Mayr skilland then (indistinct) service and then we started,with EBS and then we have come till here, okay?So I'll go to user management service zero seven,and you can see this is already commented.If not you can go ahead and then comment it.So now the note port assigned,for this service is going to be dynamic, okay?So I commented it out.So let's come here and now we have commented it,so I will go ahead and then deploy.So as usual we are going to deploy,with our standard command cube CTL apply, okay?So cube CTL apply hyphen F cube manifests.So whenever I do this it is going to deploy to a,default namespace.So you need to tell the system,in which name space it is going to deploy.So I'll say hyphen N and then deploy it in dev one.So means like this command will deploy all these objects,in dev one namespace in the same way.Once this is done we'll also do the deployment,in dev two namespace, okay?And now you see that creating a Mayr scale databaseand then it's front end application deployment, everythingin multiple environments is like seconds we are doing it.So that's the advantage of Kubernetes.So how fast we can do and then everything is speed here.Okay, so now let's go here and then we have deployed it.So we can even say cube CTL, get all hyphen dev one.So what all deployed in dev one, we are going to get here.So we have two deployments we have done,and then two services got created,and then two ports got created which is Mayr scale.And then user management microservice part in the same wayfor dev two, also you can verify and then all those will bedev two, right?And you can even say cube CTL get all and from default,name space you should get nothing, right?Other than the cluster I service of Kubernetes.Okay? You can see right?So now you can clearly confirm that these things weredeployed in those respective and rear on means,like those respective name spaces.So now you can verify few stuff here, okay?Right? So you have got part service deployment,and then replicase it.So what happened to storage class,and then PVC and then PV, right?So now you need to understand one thing here,those are not the general objects here, okay?So which means you can say Q CTL get PVC.So it'll provide the persistent volume claim,in default namespace nothing.But if you see in dev one it should be there right?In dev two it should be there.So persistent volume claim is a name space, level of object.It is present in those name spaces,and then if you specifically query for it to verify,you can see those things here.Okay, so now let's also verify CTL get PVand then hyphen dev one and then hyphen dev two.So okay, so nothing,so these are not specific to name spaces.Even if you give or get PV, you are going to get mince,like the persistent volume created and then associated,with those name spaces right from dev one,it is associated here,and for dev two it is associated here, right?So whatever it is associated with the claim,PVC claim, right?So it is not specific to respective namespace,means like the storage volume,whatever is mounted here is not respect specific,to that namespace in the same way you can also see get SC,which is nothing but the storage class.Even that is not specific to respective name space.So these are generic objects,and then created generically not pointing,to any specific name spaces.So now one thing we need to do is we need to go ahead,and then access our application.So do so we need to get the service port, right?So the port is three double one, double one,three triple one, five, that is the port.And for this one also we'll get the port,and then I'll also get get notes.Hyphen no wide, okay, cube CTL, I'll get notes.Hyphen no wide, I got the public IP,I'll copy it and then access one after the other.I'll go here and then say provide this,and then three, triple one, five, right?Three, triple one, five.This is the one for the faster dev one environment,and I'll say user MGMT health status,and you can see that this is up and running, right?The first dev one.Now we'll go and then check for the second one.Second one's port is three, double zero, double one.Okay, so three double zero double one slash user,MGMT slash health status, okay?And here also it is up and running.So it took few seconds,or few minutes to create the end environmentswith the same set of stuff.The power of Cuban, it is yaml, declarative style,and also the power of name spaces we have seen now.So that's all about the name spaces in an imperative way,creating them and using cube CTL apply how,we can redirect all our templates to be created,or all of our objects to be created in that name space.So this complete server current zero, five, zero, five,zero, one section.So in our next section we can focus on other topic here,from name spaces perspective, which is limit range.And if you want to clean up all these things.So there are two ways to clean up,so this is a clean up step.So one is whatever you have created,apply whatever you have done.You can say delete, hyphen half,and then cube manifests, and then minus,N dev one, with one command, everything is done right?So, but there is also other way to do it, which is nothing,but with one command only, which is nothing but cube.CTL, delete NS, which is nothing but namespace.And then dev one.So entire dev one objects will be created or deleted, okay?So it means like when that name space is deleted,all the objects present in that respect,your name space also will get deleted.And let's, after this deletion, we'll also delete dev two.But only one thing will be remaining at the end,which is nothing but storage class, which is generic.So that you need to separately go ahead,and then delete that respective storage class, okay?So in this concept we have storage class,but you might have different,different applications you are deploying.So in that case with one command,of deleting that name space, everything will go away, okay?So I'll also delete dev two,and after that I'll also delete the storage class.And then after that nothing will be available for us.Even the namespace is not there.You can, you will not be able to see what is present,in those name spaces, right?So once dev two is deleted, we'll delete the storage clausealso,let's also delete the storage clause Cube CTL delete(indistinct)is my storage's class name, I have deleted it.And Q CTL get all,we are going to get all objects from all name spaces, okay?So hyphen, all hyphen name spaces, okay?And we should not see anything related,to our user management or (indistinct) anything, okay?So you can see we are getting only,the ports which are related to our system cube system.So you can see all the name spaces you,you can see in this list, Cube system, default cube systemand then Cube System.But we really didn't see anything about our dev one and two.You can even say Cube get NS,and then you'll find nothing about Dev oneand dev two because those name spaces we have deleted it.So let's catch up in our next lecture with limit range.So I'll see you in the next lecture.Until then, bye bye. Thank you.